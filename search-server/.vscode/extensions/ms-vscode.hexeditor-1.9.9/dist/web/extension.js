var Ox=Object.create;var vs=Object.defineProperty;var Hx=Object.getOwnPropertyDescriptor;var Bx=Object.getOwnPropertyNames;var qx=Object.getPrototypeOf,zx=Object.prototype.hasOwnProperty;var Np=t=>vs(t,"__esModule",{value:!0});var se=(t,e)=>()=>(t&&(e=t(t=0)),e);var kc=(t,e)=>{for(var n in e)vs(t,n,{get:e[n],enumerable:!0})},Lp=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Bx(e))!zx.call(t,i)&&(n||i!=="default")&&vs(t,i,{get:()=>e[i],enumerable:!(r=Hx(e,i))||r.enumerable});return t},dr=(t,e)=>Lp(Np(vs(t!=null?Ox(qx(t)):{},"default",!e&&t&&t.__esModule?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t),jx=(t=>(e,n)=>t&&t.get(e)||(n=Lp(Np({}),e,1),t&&t.set(e,n),n))(typeof WeakMap!="undefined"?new WeakMap:0);var Qt,Ze,et,tt,Wo,jt,Ri,ki,gs,Di,bn,ms=se(()=>{Qt="function",Ze="object",et="undefined",tt="prototype",Wo="hasOwnProperty",jt=Object,Ri=jt[tt],ki=jt.assign,gs=jt.create,Di=jt.defineProperty,bn=Ri[Wo]});function on(t){return t===void 0&&(t=!0),(!Fi||!t)&&(typeof globalThis!==et&&globalThis&&(Fi=globalThis),typeof self!==et&&self&&(Fi=self),typeof window!==et&&window&&(Fi=window),typeof global!==et&&global&&(Fi=global)),Fi}function Mi(t){throw new TypeError(t)}function Cn(t){var e=gs;if(e)return e(t);if(t==null)return{};var n=typeof t;n!==Ze&&n!==Qt&&Mi("Object prototype may only be an Object:"+t);function r(){}return r[tt]=t,new r}var Fi,Dc=se(()=>{ms();Fi=null});function an(t,e){typeof e!==Qt&&e!==null&&Mi("Class extends value "+String(e)+" is not a constructor or null"),Fc(t,e);function n(){this.constructor=t}t[tt]=e===null?Cn(e):(n[tt]=e[tt],new n)}function ys(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}var kS,DS,Vx,hs,Fc,Up=se(()=>{ms();Dc();kS=(on()||{}).Symbol,DS=(on()||{}).Reflect,Vx=function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Ri[Wo].call(e,i)&&(t[i]=e[i])}return t},hs=ki||Vx,Fc=function(t,e){return Fc=jt.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r[Wo](i)&&(n[i]=r[i])},Fc(t,e)}});var Op=se(()=>{});var Nt=se(()=>{ms();Dc();Up();Op()});var Mc,Hp=se(()=>{"use strict";Mc=100});var _e,xs,Nc,Vo,Hn,$t,sn,Lc,Ko,Ni,Ur,ws,bs,Bp,Or,Hr,Li,Ui,Oi,Go,Lt=se(()=>{_e="",xs="processTelemetry",Nc="priority",Vo="setNextPlugin",Hn="isInitialized",$t="teardown",sn="core",Lc="update",Ko="disabled",Ni="_doTeardown",Ur="processNext",ws="resume",bs="pause",Bp="NotificationListener",Or="add"+Bp,Hr="remove"+Bp,Li="eventsSent",Ui="eventsDiscarded",Oi="eventsSendRequest",Go="perfEvent"});function i0(t){if(t){if(Ss)return Ss(t);var e=t[Kx]||t[tt]||t[Cs];if(e)return e}return null}function Hi(t,e){return typeof t===e}function Te(t){return t===void 0||typeof t===et}function fe(t){return t===null||Te(t)}function qc(t){return!fe(t)}function Sn(t,e){return!!(t&&bn.call(t,e))}function vt(t){return!!(t&&typeof t===Ze)}function be(t){return!!(t&&typeof t===Qt)}function Br(t){var e=t;return e&&ze(e)&&(e=e.replace(t0,function(n,r){return r.toUpperCase()}),e=e.replace(n0,"_"),e=e.replace(r0,function(n,r){return"_"+r})),e}function Ne(t,e){if(t)for(var n in t)bn.call(t,n)&&e.call(t,n,t[n])}function qr(t,e){var n=!1;return t&&e&&!(n=t===e)&&(n=Qx?t[zp](e):o0(t,e)),n}function o0(t,e){var n=!1,r=e?e.length:0,i=t?t.length:0;if(r&&i&&i>=r&&!(n=t===e)){for(var o=i-1,a=r-1;a>=0;a--){if(t[o]!=e[a])return!1;o--}n=!0}return n}function Bi(t,e){var n=!1;return t&&e&&!(n=t===e)&&(n=$x?t[jp](e):a0(t,e)),n}function a0(t,e){var n=!1,r=e?e.length:0;if(t&&r&&t.length>=r&&!(n=t===e)){for(var i=0;i<r;i++)if(t[i]!==e[i])return!1;n=!0}return n}function Qe(t,e){return t&&e?t.indexOf(e)!==-1:!1}function qi(t){return!!(t&&Bc.call(t)==="[object Date]")}function s0(t){return!!(t&&Bc.call(t)==="[object Array]")}function zr(t){return!!(t&&Bc.call(t)==="[object Error]")}function ze(t){return typeof t=="string"}function Ut(t){return typeof t=="number"}function Bn(t){return typeof t=="boolean"}function Jp(t){var e=!1;if(t&&typeof t=="object"){var n=Ss?Ss(t):i0(t);n?(n[Cs]&&bn.call(n,Cs)&&(n=n[Cs]),e=typeof n===Qt&&$p.call(n)===e0):e=!0}return e}function Jt(t){if(t)return Yx?t[qp]():u0(t)}function u0(t){if(t&&t.getUTCFullYear){var e=function(n){var r=String(n);return r.length===1&&(r="0"+r),r};return t.getUTCFullYear()+"-"+e(t.getUTCMonth()+1)+"-"+e(t.getUTCDate())+"T"+e(t.getUTCHours())+":"+e(t.getUTCMinutes())+":"+e(t.getUTCSeconds())+"."+String((t.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}function J(t,e,n){var r=t.length;try{for(var i=0;i<r&&!(i in t&&e.call(n||t,t[i],i,t)===-1);i++);}catch{}}function at(t,e,n){if(t){if(t[Wp])return t[Wp](e,n);var r=t.length,i=n||0;try{for(var o=Math.max(i>=0?i:r-Math.abs(i),0);o<r;o++)if(o in t&&t[o]===e)return o}catch{}}return-1}function jr(t,e,n){var r;if(t){if(t[Vp])return t[Vp](e,n);var i=t.length,o=n||t;r=new Array(i);try{for(var a=0;a<i;a++)a in t&&(r[a]=e.call(o,t[a],t))}catch{}}return r}function Wr(t,e,n){var r;if(t){if(t[Kp])return t[Kp](e,n);var i=t.length,o=0;if(arguments.length>=3)r=arguments[2];else{for(;o<i&&!(o in t);)o++;r=t[o++]}for(;o<i;)o in t&&(r=e(r,t[o],o,t)),o++}return r}function Le(t){return t&&(t=Xx&&t[Uc]?t[Uc]():t.replace?t.replace(/^\s+|\s+$/g,""):t),t}function It(t){var e=typeof t;if(e!==Qt&&(e!==Ze||t===null)&&Mi("objKeys called on non-object"),!Yp&&Qp)return Qp(t);var n=[];for(var r in t)t&&bn.call(t,r)&&n.push(r);if(Yp)for(var i=zc.length,o=0;o<i;o++)t&&bn.call(t,zc[o])&&n.push(zc[o]);return n}function Wt(t,e,n,r){if(Xp)try{var i={enumerable:!0,configurable:!0};return n&&(i.get=n),r&&(i.set=r),Xp(t,e,i),!0}catch{}return!1}function Zp(t){return t}function jc(t){return Oc&&Ne(t,function(e,n){(me(n)||vt(n))&&Oc(n)}),Ot(t)}function st(){var t=Date;return t.now?t.now():new t().getTime()}function Vr(t){return zr(t)?t.name:_e}function ut(t,e,n,r,i){var o=n;return t&&(o=t[e],o!==n&&(!i||i(o))&&(!r||r(n))&&(o=n,t[e]=o)),o}function Xo(t,e,n){var r;return t?(r=t[e],!r&&fe(r)&&(r=Te(n)?{}:n,t[e]=r)):r=Te(n)?{}:n,r}function zi(t){return!t}function ji(t){return!!t}function gt(t){throw new Error(t)}function ev(t,e){var n=null,r=null;return be(t)?n=t:r=t,function(){var i=arguments;if(n&&(r=n()),r)return r[e].apply(r,i)}}function Vc(t,e,n){if(t&&e&&vt(t)&&vt(e)){var r=function(o){if(ze(o)){var a=e[o];be(a)?(!n||n(o,!0,e,t))&&(t[o]=ev(e,o)):(!n||n(o,!1,e,t))&&(Sn(t,o)&&delete t[o],Wt(t,o,function(){return e[o]},function(s){e[o]=s})||(t[o]=a))}};for(var i in e)r(i)}return t}function pr(t,e,n,r,i){t&&e&&n&&(i!==!1||Te(t[e]))&&(t[e]=ev(n,r))}function Kr(t,e,n,r){return t&&e&&vt(t)&&me(n)&&J(n,function(i){ze(i)&&pr(t,i,e,i,r)}),t}function qn(t){return t&&ki&&(t=jt(ki({},t))),t}function Wi(t,e,n,r,i,o){var a=arguments,s=a[0]||{},u=a.length,c=!1,l=1;for(u>0&&Bn(s)&&(c=s,s=a[l]||{},l++),vt(s)||(s={});l<u;l++){var f=a[l],d=me(f),p=vt(f);for(var g in f){var m=d&&g in f||p&&bn.call(f,g);if(!!m){var v=f[g],h=void 0;if(c&&v&&((h=me(v))||Jp(v))){var x=s[g];h?me(x)||(x=[]):Jp(x)||(x={}),v=Wi(c,x,v)}v!==void 0&&(s[g]=v)}}}return s}var qp,zp,jp,Wp,Vp,Kp,Uc,Gp,Kx,Cs,Xp,Oc,Gx,Qp,Hc,Xx,Qx,$x,Jx,Yx,Zx,Bc,$p,e0,t0,n0,r0,Ss,me,Yp,zc,Ot,Wc,$e=se(()=>{Nt();Lt();qp="toISOString",zp="endsWith",jp="startsWith",Wp="indexOf",Vp="map",Kp="reduce",Uc="trim",Gp="toString",Kx="__proto__",Cs="constructor",Xp=Di,Oc=jt.freeze,Gx=jt.seal,Qp=jt.keys,Hc=String[tt],Xx=Hc[Uc],Qx=Hc[zp],$x=Hc[jp],Jx=Date[tt],Yx=Jx[qp],Zx=Array.isArray,Bc=Ri[Gp],$p=bn[Gp],e0=$p.call(jt),t0=/-([a-z])/g,n0=/([^\w\d_$])/g,r0=/^(\d+[\w\d_$])/,Ss=Object.getPrototypeOf;me=Zx||s0;Yp=!{toString:null}.propertyIsEnumerable("toString"),zc=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];Ot=Oc||Zp,Wc=Gx||Zp});function Et(t){var e={};return Ne(t,function(n,r){e[n]=r,e[r]=n}),jc(e)}var Is=se(()=>{$e()});var un,tv=se(()=>{Is();un=Et({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5})});function jn(t,e){return t&&As[zn].hasOwnProperty.call(t,e)}function uv(t){return t&&(t===As[zn]||t===Array[zn])}function $c(t){return uv(t)||t===Function[zn]}function Gr(t){var e;if(t){if($o)return $o(t);var n=t[iv]||t[zn]||(t[Es]?t[Es][zn]:null);e=t[Ps]||n,jn(t,Ps)||(delete t[Xc],e=t[Ps]=t[Xc]||t[Ps],t[Xc]=n)}return e}function Rs(t,e){var n=[];if(av)n=av(t);else for(var r in t)typeof r=="string"&&jn(t,r)&&n.push(r);if(n&&n.length>0)for(var i=0;i<n.length;i++)e(n[i])}function Jc(t,e,n){return e!==Es&&typeof t[e]===Ts&&(n||jn(t,e))}function ks(t){throw new TypeError("DynamicProto: "+t)}function l0(t){var e={};return Rs(t,function(n){!e[n]&&Jc(t,n,!1)&&(e[n]=t[n])}),e}function Yc(t,e){for(var n=t.length-1;n>=0;n--)if(t[n]===e)return!0;return!1}function f0(t,e,n,r){function i(u,c,l){var f=c[l];if(f[Kc]&&r){var d=u[_s]||{};d[Qo]!==!1&&(f=(d[c[Vi]]||{})[l]||f)}return function(){return f.apply(u,arguments)}}var o={};Rs(n,function(u){o[u]=i(e,n,u)});for(var a=Gr(t),s=[];a&&!$c(a)&&!Yc(s,a);)Rs(a,function(u){!o[u]&&Jc(a,u,!$o)&&(o[u]=i(e,a,u))}),s.push(a),a=Gr(a);return o}function d0(t,e,n,r){var i=null;if(t&&jn(n,Vi)){var o=t[_s]||{};if(i=(o[n[Vi]]||{})[e],i||ks("Missing ["+e+"] "+Ts),!i[Gc]&&o[Qo]!==!1){for(var a=!jn(t,e),s=Gr(t),u=[];a&&s&&!$c(s)&&!Yc(u,s);){var c=s[e];if(c){a=c===r;break}u.push(s),s=Gr(s)}try{a&&(t[e]=i),i[Gc]=1}catch{o[Qo]=!1}}}return i}function p0(t,e,n){var r=e[t];return r===n&&(r=Gr(e)[t]),typeof r!==Ts&&ks("["+t+"] is not a "+Ts),r}function v0(t,e,n,r,i){function o(u,c){var l=function(){var f=d0(this,c,u,l)||p0(c,u,l);return f.apply(this,arguments)};return l[Kc]=1,l}if(!uv(t)){var a=n[_s]=n[_s]||{},s=a[e]=a[e]||{};a[Qo]!==!1&&(a[Qo]=!!i),Rs(n,function(u){Jc(n,u,!1)&&n[u]!==r[u]&&(s[u]=n[u],delete n[u],(!jn(t,u)||t[u]&&!t[u][Kc])&&(t[u]=o(t,u)))})}}function g0(t,e){if($o){for(var n=[],r=Gr(e);r&&!$c(r)&&!Yc(n,r);){if(r===t)return!0;n.push(r),r=Gr(r)}return!1}return!0}function Zc(t,e){return jn(t,zn)?t.name||e||rv:((t||{})[Es]||{}).name||e||rv}function Se(t,e,n,r){jn(t,zn)||ks("theClass is an invalid class definition.");var i=t[zn];g0(i,e)||ks("["+Zc(t)+"] is not in class hierarchy of ["+Zc(e)+"]");var o=null;jn(i,Vi)?o=i[Vi]:(o=c0+Zc(t,"_")+"$"+sv,sv++,i[Vi]=o);var a=Se[nv],s=!!a[Qc];s&&r&&r[Qc]!==void 0&&(s=!!r[Qc]);var u=l0(e),c=f0(i,e,u,s);n(e,c);var l=!!$o&&!!a[ov];l&&r&&(l=!!r[ov]),v0(i,o,e,u,l!==!1)}var Es,zn,Ts,_s,Kc,Vi,c0,Gc,Qo,nv,rv,iv,Ps,Xc,Qc,ov,As,$o,av,sv,m0,mt=se(()=>{Es="constructor",zn="prototype",Ts="function",_s="_dynInstFuncs",Kc="_isDynProxy",Vi="_dynClass",c0="_dynCls$",Gc="_dynInstChk",Qo=Gc,nv="_dfOpts",rv="_unknown_",iv="__proto__",Ps="_dyn"+iv,Xc="_dynInstProto",Qc="useBaseInst",ov="setInstFuncs",As=Object,$o=As.getPrototypeOf,av=As.getOwnPropertyNames,sv=0;m0={setInstFuncs:!0,useBaseInst:!0};Se[nv]=m0});function pv(t,e){var n=!1;if(t){try{if(n=e in t,!n){var r=t[tt];r&&(n=e in r)}}catch{}if(!n)try{var i=new t;n=!Te(i[e])}catch{}}return n}function ol(t){dv=t}function je(t){var e=on();return e&&e[t]?e[t]:t===cv&&Jo()?window:null}function Jo(){return Boolean(typeof window===Ze&&window)}function In(){return Jo()?window:je(cv)}function Ds(){return Boolean(typeof document===Ze&&document)}function Ht(){return Ds()?document:je(h0)}function Yo(){return Boolean(typeof navigator===Ze&&navigator)}function Vt(){return Yo()?navigator:je(x0)}function Fs(){return Boolean(typeof history===Ze&&history)}function al(){return Fs()?history:je(w0)}function Xr(t){if(t&&dv){var e=je("__mockLocation");if(e)return e}return typeof location===Ze&&location?location:je(b0)}function Zo(){return typeof console!==et?console:je(C0)}function Gi(){return je(S0)}function Qr(){return Boolean(typeof JSON===Ze&&JSON||je(lv)!==null)}function Xi(){return Qr()?JSON||je(lv):null}function ea(){return je(I0)}function ta(){return je(E0)}function Wn(){var t=Vt();return t&&t.product?t.product===T0:!1}function cn(){var t=Vt();if(t&&(t.userAgent!==rl||nl===null)){rl=t.userAgent;var e=(rl||_e).toLowerCase();nl=Qe(e,el)||Qe(e,tl)}return nl}function sl(t){if(t===void 0&&(t=null),!t){var e=Vt()||{};t=e?(e.userAgent||_e).toLowerCase():_e}var n=(t||_e).toLowerCase();if(Qe(n,el)){var r=Ht()||{};return Math.max(parseInt(n.split(el)[1]),r[y0]||0)}else if(Qe(n,tl)){var i=parseInt(n.split(tl)[1]);if(i)return i+4}return null}function qe(t){var e=Object[tt].toString.call(t),n=_e;return e==="[object Error]"?n="{ stack: '"+t.stack+"', message: '"+t.message+"', name: '"+t.name+"'":Qr()&&(n=Xi().stringify(t)),e+n}function vr(){return il===null&&(il=Yo()&&Boolean(Vt().sendBeacon)),il}function na(t){var e=!1;try{e=!!je("fetch");var n=je("Request");e&&t&&n&&(e=pv(n,"keepalive"))}catch{}return e}function $r(){return Ki===null&&(Ki=typeof XDomainRequest!==et,Ki&&Qi()&&(Ki=Ki&&!pv(je(fv),"withCredentials"))),Ki}function Qi(){var t=!1;try{var e=je(fv);t=!!e}catch{}return t}function vv(t,e){if(t)for(var n=0;n<t.length;n++){var r=t[n];if(r.name&&r.name===e)return r}return{}}function ul(t){var e=Ht();return e&&t?vv(e.querySelectorAll("meta"),t).content:null}function cl(t){var e,n=Gi();if(n){var r=n.getEntriesByType("navigation")||[];e=vv((r.length>0?r[0]:{}).serverTiming,t).description}return e}var cv,h0,y0,x0,w0,b0,C0,S0,lv,I0,E0,T0,el,tl,fv,nl,rl,dv,Ki,il,Yt=se(()=>{"use strict";Nt();Lt();$e();cv="window",h0="document",y0="documentMode",x0="navigator",w0="history",b0="location",C0="console",S0="performance",lv="JSON",I0="crypto",E0="msCrypto",T0="ReactNative",el="msie",tl="trident/",fv="XMLHttpRequest",nl=null,rl=null,dv=!1,Ki=null,il=null});function _0(t,e){return function(){var n=arguments,r=fl(e);if(r){var i=r.listener;i&&i[t]&&i[t].apply(i,n)}}}function P0(){var t=je("Microsoft");return t&&(Ms=t.ApplicationInsights),Ms}function fl(t){var e=Ms;return!e&&t.disableDbgExt!==!0&&(e=Ms||P0()),e?e.ChromeDbgExt:null}function gv(t){if(!Ns){Ns={};for(var e=0;e<ll.length;e++)Ns[ll[e]]=_0(ll[e],t)}return Ns}var ll,Ms,Ns,dl=se(()=>{Yt();ll=["eventsSent","eventsDiscarded","eventsSendRequest","perfEvent"],Ms=null});function mv(t){return t?'"'+t.replace(/\"/g,_e)+'"':_e}function hv(t,e){var n=Zo();if(n){var r="log";n[t]&&(r=t),be(n[r])&&n[r](e)}}function ra(t,e){return(t||{}).logger||new Zt(e)}function M0(t){return t||new Zt}function We(t,e,n,r,i,o){o===void 0&&(o=!1),(t||new Zt).throwInternal(e,n,r,i,o)}function pl(t,e){M0(t).warnToConsole(e)}var A0,R0,k0,D0,F0,Jr,Zt,gr=se(()=>{"use strict";Yt();mt();$e();dl();Lt();A0="AI (Internal): ",R0="AI: ",k0="AITR_",D0="errorToConsole",F0="warnToConsole";Jr=function(){function t(e,n,r,i){r===void 0&&(r=!1);var o=this;o.messageId=e,o.message=(r?R0:A0)+e;var a=_e;Qr()&&(a=Xi().stringify(i));var s=(n?" message:"+mv(n):_e)+(i?" props:"+mv(a):_e);o.message+=s}return t.dataType="MessageData",t}();Zt=function(){function t(e){this.identifier="DiagnosticLogger",this.queue=[];var n=0,r={};Se(t,this,function(i){fe(e)&&(e={}),i.consoleLoggingLevel=function(){return o("loggingLevelConsole",0)},i.telemetryLoggingLevel=function(){return o("loggingLevelTelemetry",1)},i.maxInternalMessageLimit=function(){return o("maxMessageLimit",25)},i.enableDebugExceptions=function(){return o("enableDebugExceptions",!1)},i.throwInternal=function(u,c,l,f,d){d===void 0&&(d=!1);var p=new Jr(c,l,d,f);if(i.enableDebugExceptions())throw qe(p);var g=u===1?D0:F0;if(Te(p.message))s("throw"+(u===1?"Critical":"Warning"),p);else{var m=i.consoleLoggingLevel();if(d){var v=+p.messageId;!r[v]&&m>=u&&(i[g](p.message),r[v]=!0)}else m>=u&&i[g](p.message);i.logInternalMessage(u,p)}},i.warnToConsole=function(u){hv("warn",u),s("warning",u)},i.errorToConsole=function(u){hv("error",u),s("error",u)},i.resetInternalMessageCount=function(){n=0,r={}},i.logInternalMessage=function(u,c){if(!a()){var l=!0,f=k0+c.messageId;if(r[f]?l=!1:r[f]=!0,l&&(u<=i.telemetryLoggingLevel()&&(i.queue.push(c),n++,s(u===1?"error":"warn",c)),n===i.maxInternalMessageLimit())){var d="Internal events throttle limit per PageView reached for this app.",p=new Jr(23,d,!1);i.queue.push(p),u===1?i.errorToConsole(d):i.warnToConsole(d)}}};function o(u,c){var l=e[u];return fe(l)?c:l}function a(){return n>=i.maxInternalMessageLimit()}function s(u,c){var l=fl(e);l&&l.diagLog&&l.diagLog(u,c)}})}return t}()});function Xe(t,e,n,r,i){if(t){var o=t;if(be(o.getPerfMgr)&&(o=o.getPerfMgr()),o){var a=void 0,s=o.getCtx(vl);try{if(a=o.create(e(),r,i),a){if(s&&a.setCtx&&(a.setCtx(Yr.ParentContextKey,s),s.getCtx&&s.setCtx)){var u=s.getCtx(Yr.ChildrenContextKey);u||(u=[],s.setCtx(Yr.ChildrenContextKey,u)),u.push(a)}return o.setCtx(vl,a),n(a)}}catch(c){a&&a.setCtx&&a.setCtx("exception",c)}finally{a&&o.fire(a),o.setCtx(vl,s)}}}return n()}function gl(){return N0}var $i,N0,Yr,ia,vl,oa=se(()=>{mt();$e();$i="ctx",N0=null,Yr=function(){function t(e,n,r){var i=this,o=!1;if(i.start=st(),i.name=e,i.isAsync=r,i.isChildEvt=function(){return!1},be(n)){var a;o=Wt(i,"payload",function(){return!a&&be(n)&&(a=n(),n=null),a})}i.getCtx=function(s){return s?s===t.ParentContextKey||s===t.ChildrenContextKey?i[s]:(i[$i]||{})[s]:null},i.setCtx=function(s,u){if(s)if(s===t.ParentContextKey)i[s]||(i.isChildEvt=function(){return!0}),i[s]=u;else if(s===t.ChildrenContextKey)i[s]=u;else{var c=i[$i]=i[$i]||{};c[s]=u}},i.complete=function(){var s=0,u=i.getCtx(t.ChildrenContextKey);if(me(u))for(var c=0;c<u.length;c++){var l=u[c];l&&(s+=l.time)}i.time=st()-i.start,i.exTime=i.time-s,i.complete=function(){},!o&&be(n)&&(i.payload=n())}}return t.ParentContextKey="parent",t.ChildrenContextKey="childEvts",t}(),ia=function(){function t(e){this.ctx={},Se(t,this,function(n){n.create=function(r,i,o){return new Yr(r,i,o)},n.fire=function(r){r&&(r.complete(),e&&be(e.perfEvent)&&e.perfEvent(r))},n.setCtx=function(r,i){if(r){var o=n[$i]=n[$i]||{};o[r]=i}},n.getCtx=function(r){return(n[$i]||{})[r]}})}return t}(),vl="CoreUtils.doPerf"});function wv(t){t<0&&(t>>>=0),aa=123456789+t&mr,sa=987654321-t&mr,xv=!0}function bv(){try{var t=st()&2147483647;wv((Math.random()*yv^t)+t)}catch{}}function Zr(t){return t>0?Math.floor(ln()/mr*(t+1))>>>0:0}function ln(t){var e=0,n=ea()||ta();return n&&n.getRandomValues&&(e=n.getRandomValues(new Uint32Array(1))[0]&mr),e===0&&cn()&&(xv||bv(),e=ua()&mr),e===0&&(e=Math.floor(yv*Math.random()|0)),t||(e>>>=0),e}function Ls(t){t?wv(t):bv()}function ua(t){sa=36969*(sa&65535)+(sa>>16)&mr,aa=18e3*(aa&65535)+(aa>>16)&mr;var e=(sa<<16)+(aa&65535)>>>0&mr|0;return t||(e>>>=0),e}function hr(t){t===void 0&&(t=22);for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=ln()>>>0,r=0,i=_e;i.length<t;)r++,i+=e.charAt(n&63),n>>>=6,r===5&&(n=(ln()<<2&4294967295|n&3)>>>0,r=0);return i}var yv,mr,xv,aa,sa,Us=se(()=>{Yt();$e();Lt();yv=4294967296,mr=4294967295,xv=!1,aa=123456789,sa=987654321});function O0(t,e,n){if(Cv)try{return Cv(t,e,{value:n,enumerable:!1,configurable:!0}),!0}catch{}return!1}function Iv(t){return t.nodeType===1||t.nodeType===9||!+t.nodeType}function H0(t,e){var n=e[t.id];if(!n){n={};try{Iv(e)&&(O0(e,t.id,n)||(e[t.id]=n))}catch{}}return n}function fn(t,e){return e===void 0&&(e=!1),Br(t+U0+++(e?"."+Sv:"")+L0)}function Os(t){var e={id:fn("_aiData-"+(t||"")+"."+Sv),accept:function(n){return Iv(n)},get:function(n,r,i,o){var a=n[e.id];return a?a[Br(r)]:(o&&(a=H0(e,n),a[Br(r)]=i),i)},kill:function(n,r){if(n&&n[r])try{delete n[r]}catch{}}};return e}var Cv,Sv,L0,U0,ca=se(()=>{Nt();$e();Us();Cv=Di,Sv="2.8.4",L0="."+hr(6),U0=0});function B0(t,e){var n=Vn[yr]||Bs[yr];return n||(n=Vn[yr]=Vn(t,e),Bs[yr]=n),n}function qs(t){return t?t.isEnabled():!0}function q0(t){var e=t.cookieCfg=t.cookieCfg||{};if(ut(e,"domain",t.cookieDomain,qc,fe),ut(e,"path",t.cookiePath||"/",null,fe),fe(e[yl])){var n=void 0;Te(t[_v])||(n=!t[_v]),Te(t[Pv])||(n=!t[Pv]),e[yl]=n}return e}function xr(t,e){var n;if(t)n=t.getCookieMgr();else if(e){var r=e.cookieCfg;r[yr]?n=r[yr]:n=Vn(e)}return n||(n=B0(e,(t||{}).logger)),n}function Vn(t,e){var n=q0(t||Bs),r=n.path||"/",i=n.domain,o=n[yl]!==!1,a={isEnabled:function(){var s=o&&dn(e),u=Bs[yr];return s&&u&&a!==u&&(s=qs(u)),s},setEnabled:function(s){o=s!==!1},set:function(s,u,c,l,f){var d=!1;if(qs(a)){var p={},g=Le(u||_e),m=g.indexOf(";");if(m!==-1&&(g=Le(u.substring(0,m)),p=kv(u.substring(m+1))),ut(p,"domain",l||i,ji,Te),!fe(c)){var v=cn();if(Te(p[hl])){var h=st(),x=h+c*1e3;if(x>0){var S=new Date;S.setTime(x),ut(p,hl,Dv(S,v?Ev:Tv)||Dv(S,v?Ev:Tv)||_e,ji)}}v||ut(p,"max-age",_e+c,null,Te)}var _=Xr();_&&_.protocol==="https:"&&(ut(p,"secure",null,null,Te),xl===null&&(xl=!Ji((Vt()||{}).userAgent)),xl&&ut(p,"SameSite","None",null,Te)),ut(p,"path",f||r,null,Te);var y=n.setCookie||Mv;y(s,Fv(g,p)),d=!0}return d},get:function(s){var u=_e;return qs(a)&&(u=(n.getCookie||z0)(s)),u},del:function(s,u){var c=!1;return qs(a)&&(c=a.purge(s,u)),c},purge:function(s,u){var c,l=!1;if(dn(e)){var f=(c={},c.path=u||"/",c[hl]="Thu, 01 Jan 1970 00:00:01 GMT",c);cn()||(f["max-age"]="0");var d=n.delCookie||Mv;d(s,Fv(_e,f)),l=!0}return l}};return a[yr]=a,a}function dn(t){if(Hs===null){Hs=!1;try{var e=la||{};Hs=e[ml]!==void 0}catch(n){We(t,2,68,"Cannot access document.cookie - "+Vr(n),{exception:qe(n)})}}return Hs}function kv(t){var e={};if(t&&t.length){var n=Le(t).split(";");J(n,function(r){if(r=Le(r||_e),r){var i=r.indexOf("=");i===-1?e[r]=null:e[Le(r.substring(0,i))]=Le(r.substring(i+1))}})}return e}function Dv(t,e){return be(t[e])?t[e]():null}function Fv(t,e){var n=t||_e;return Ne(e,function(r,i){n+="; "+r+(fe(i)?_e:"="+i)}),n}function z0(t){var e=_e;if(la){var n=la[ml]||_e;Av!==n&&(Rv=kv(n),Av=n),e=Le(Rv[t]||_e)}return e}function Mv(t,e){la&&(la[ml]=t+"="+e)}function Ji(t){return ze(t)?!!(Qe(t,"CPU iPhone OS 12")||Qe(t,"iPad; CPU OS 12")||Qe(t,"Macintosh; Intel Mac OS X 10_14")&&Qe(t,"Version/")&&Qe(t,"Safari")||Qe(t,"Macintosh; Intel Mac OS X 10_14")&&qr(t,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||Qe(t,"Chrome/5")||Qe(t,"Chrome/6")||Qe(t,"UnrealEngine")&&!Qe(t,"Chrome")||Qe(t,"UCBrowser/12")||Qe(t,"UCBrowser/11")):!1}var Ev,Tv,ml,hl,yl,_v,Pv,yr,Hs,xl,Av,la,Rv,Bs,wl=se(()=>{Yt();$e();Lt();gr();Ev="toGMTString",Tv="toUTCString",ml="cookie",hl="expires",yl="enabled",_v="isCookieUseDisabled",Pv="disableCookiesUsage",yr="_ckMgr",Hs=null,xl=null,Av=null,la=Ht(),Rv={},Bs={}});function Vv(t){return t&&t.replace?t.replace(/^\s*\.*|\.*\s*$/g,""):t}function Ws(t,e){if(e){var n="";me(e)?(n="",J(e,function(i){i=Vv(i),i&&(i[0]!=="."&&(i="."+i),n+=i)})):n=Vv(e),n&&(n[0]!=="."&&(n="."+n),t=(t||"")+n)}var r=K0.exec(t||"")||[];return{type:r[1],ns:(r[2]||"").replace(j0,".").replace(W0,"").split(".").sort().join(".")}}function bl(t,e,n){var r=[],i=da.get(t,zs,{},!1),o=Ws(e,n);return Ne(i,function(a,s){J(s,function(u){(!o.type||o.type===u.evtName.type)&&(!o.ns||o.ns===o.ns)&&r.push({name:u.evtName.type+(u.evtName.ns?"."+u.evtName.ns:""),handler:u.handler})})}),r}function Kv(t,e,n){n===void 0&&(n=!0);var r=da.get(t,zs,{},n),i=r[e];return i||(i=r[e]=[]),i}function Gv(t,e,n,r){t&&e&&e.type&&(t[Hv]?t[Hv](e.type,n,r):t[Ov]&&t[Ov](Nv+e.type,n))}function G0(t,e,n,r){var i=!1;return t&&e&&e.type&&n&&(t[Uv]?(t[Uv](e.type,n,r),i=!0):t[Lv]&&(t[Lv](Nv+e.type,n),i=!0)),i}function Xv(t,e,n,r){for(var i=e.length;i--;){var o=e[i];o&&(!n.ns||n.ns===o.evtName.ns)&&(!r||r(o))&&(Gv(t,o.evtName,o.handler,o.capture),e.splice(i,1))}}function X0(t,e,n){if(e.type)Xv(t,Kv(t,e.type),e,n);else{var r=da.get(t,zs,{});Ne(r,function(i,o){Xv(t,o,e,n)}),It(r).length===0&&da.kill(t,zs)}}function Kn(t,e){var n;return e?(me(e)?n=[t].concat(e):n=[t,e],n=Ws("xx",n).ns.split(".")):n=t,n}function ei(t,e,n,r,i){i===void 0&&(i=!1);var o=!1;if(t)try{var a=Ws(e,r);if(o=G0(t,a,n,i),o&&da.accept(t)){var s={guid:V0++,evtName:a,handler:n,capture:i};Kv(t,a.type).push(s)}}catch{}return o}function ti(t,e,n,r,i){if(i===void 0&&(i=!1),t)try{var o=Ws(e,r),a=!1;X0(t,o,function(s){return o.ns&&!n||s.handler===n?(a=!0,!0):!1}),a||Gv(t,o,n,i)}catch{}}function Yi(t,e,n,r){return r===void 0&&(r=!1),ei(t,e,n,null,r)}function Zi(t,e,n,r){r===void 0&&(r=!1),ti(t,e,n,null,r)}function wr(t,e,n){var r=!1,i=In();i&&(r=ei(i,t,e,n),r=ei(i.body,t,e,n)||r);var o=Ht();return o&&(r=ei(o,t,e,n)||r),r}function Vs(t,e,n){var r=In();r&&(ti(r,t,e,n),ti(r.body,t,e,n));var i=Ht();i&&ti(i,t,e,n)}function eo(t,e,n,r){var i=!1;return e&&t&&t.length>0&&J(t,function(o){o&&(!n||at(n,o)===-1)&&(i=wr(o,e,r)||i)}),i}function Ks(t,e,n,r){var i=!1;return e&&t&&me(t)&&(i=eo(t,e,n,r),!i&&n&&n.length>0&&(i=eo(t,e,null,r))),i}function br(t,e,n){t&&me(t)&&J(t,function(r){r&&Vs(r,e,n)})}function ni(t,e,n){return Ks([zv,qv,js],t,e,n)}function pa(t,e){br([zv,qv,js],t,e)}function to(t,e,n){function r(a){var s=Ht();t&&s&&s.visibilityState==="hidden"&&t(a)}var i=Kn(jv,n),o=eo([js],t,e,i);return(!e||at(e,fa)===-1)&&(o=eo([fa],r,e,i)||o),!o&&e&&(o=to(t,null,n)),o}function va(t,e){var n=Kn(jv,e);br([js],t,n),br([fa],null,n)}function no(t,e,n){function r(a){var s=Ht();t&&s&&s.visibilityState==="visible"&&t(a)}var i=Kn(Wv,n),o=eo([Bv],t,e,i);return o=eo([fa],r,e,i)||o,!o&&e&&(o=no(t,null,n)),o}function ga(t,e){var n=Kn(Wv,e);br([Bv],t,n),br([fa],null,n)}var Nv,Lv,Uv,Ov,Hv,zs,fa,js,Bv,qv,zv,jv,Wv,j0,W0,V0,da,K0,Cl=se(()=>{ca();Yt();$e();Nv="on",Lv="attachEvent",Uv="addEventListener",Ov="detachEvent",Hv="removeEventListener",zs="events",fa="visibilitychange",js="pagehide",Bv="pageshow",qv="unload",zv="beforeunload",jv=fn("aiEvtPageHide"),Wv=fn("aiEvtPageShow"),j0=/\.[\.]+/g,W0=/[\.]+$/,V0=1,da=Os("events"),K0=/^([^.]*)(?:\.(.+)|)/});function ro(){function t(){return Zr(15)}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(Q0,function(e){var n=t()|0,r=e==="x"?n:n&3|8;return r.toString(16)})}function io(){var t=Gi();return t&&t.now?t.now():st()}function Cr(){for(var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],e=_e,n,r=0;r<4;r++)n=ln(),e+=t[n&15]+t[n>>4&15]+t[n>>8&15]+t[n>>12&15]+t[n>>16&15]+t[n>>20&15]+t[n>>24&15]+t[n>>28&15];var i=t[8+(ln()&3)|0];return e.substr(0,8)+e.substr(9,4)+"4"+e.substr(13,3)+i+e.substr(16,3)+e.substr(19,12)}var Q0,Sl,Il=se(()=>{"use strict";Yt();$e();Cl();Us();Lt();Q0=/[xy]/g,Sl={Attach:Yi,AttachEvent:Yi,Detach:Zi,DetachEvent:Zi}});function Gn(t,e,n){return t&&t.length===e&&t!==n?!!t.match(/^[\da-f]*$/):!1}function $v(t,e,n){return Gn(t,e)?t:n}function Jv(t){(isNaN(t)||t<0||t>255)&&(t=1);for(var e=t.toString(16);e.length<2;)e="0"+e;return e}function _l(t,e,n,r){return{version:Gn(r,2,Tl)?r:El,traceId:oo(t)?t:Cr(),spanId:ao(e)?e:Cr().substr(0,16),traceFlags:n>=0&&n<=255?n:1}}function ma(t){if(!t||(me(t)&&(t=t[0]||""),!t||!ze(t)||t.length>8192))return null;var e=$0.exec(Le(t));return!e||e[1]===Tl||e[2]===Gs||e[3]===Xs?null:{version:e[1],traceId:e[2],spanId:e[3],traceFlags:parseInt(e[4],16)}}function oo(t){return Gn(t,32,Gs)}function ao(t){return Gn(t,16,Xs)}function Qs(t){return!(!t||!Gn(t.version,2,Tl)||!Gn(t.traceId,32,Gs)||!Gn(t.spanId,16,Xs)||!Gn(Jv(t.traceFlags),2))}function Pl(t){return Qs(t)?(t.traceFlags&Qv)===Qv:!1}function Al(t){if(t){var e=Jv(t.traceFlags);Gn(e,2)||(e="01");var n=t.version||El;return n!=="00"&&n!=="ff"&&(n=El),"".concat(n,"-").concat($v(t.traceId,32,Gs),"-").concat($v(t.spanId,16,Xs),"-").concat(e)}return""}function Rl(){var t="traceparent",e=ma(ul(t));return e||(e=ma(cl(t))),e}var $0,El,Tl,Gs,Xs,Qv,kl=se(()=>{Il();Yt();$e();$0=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]*)?$/,El="00",Tl="ff",Gs="00000000000000000000000000000000",Xs="0000000000000000",Qv=1});function Xn(t){return J0.get(t,"state",{},!0)}function $s(t,e){for(var n=[],r=null,i=t.getNext(),o;i;){var a=i.getPlugin();if(a){r&&be(r[Vo])&&be(a[xs])&&r[Vo](a);var s=!1;be(a[Hn])?s=a[Hn]():(o=Xn(a),s=o[Hn]),s||n.push(a),r=a,i=i.getNext()}}J(n,function(u){var c=t.core();u.initialize(t.getCfg(),c,e,t.getNext()),o=Xn(u),!u[sn]&&!o[sn]&&(o[sn]=c),o[Hn]=!0,delete o[$t]})}function Js(t){return t.sort(function(e,n){var r=0;if(n){var i=be(n[xs]);be(e[xs])?r=i?e[Nc]-n[Nc]:1:i&&(r=-1)}else r=e?1:-1;return r})}function Yv(t){var e={};return{getName:function(){return e.name},setName:function(n){t&&t.setName(n),e.name=n},getTraceId:function(){return e.traceId},setTraceId:function(n){t&&t.setTraceId(n),oo(n)&&(e.traceId=n)},getSpanId:function(){return e.spanId},setSpanId:function(n){t&&t.setSpanId(n),ao(n)&&(e.spanId=n)},getTraceFlags:function(){return e.traceFlags},setTraceFlags:function(n){t&&t.setTraceFlags(n),e.traceFlags=n}}}var J0,Ys=se(()=>{"use strict";$e();Lt();ca();kl();J0=Os("plugin")});function Z0(t,e,n){for(;t;){if(t.getPlugin()===n)return t;t=t.getNext()}return En([n],e.config||{},e)}function Dl(t,e,n,r){var i=null,o=[];r!==null&&(i=r?Z0(t,n,r):t);var a={_next:u,ctx:{core:function(){return n},diagLog:function(){return ra(n,e)},getCfg:function(){return e},getExtCfg:c,getConfig:l,hasNext:function(){return!!i},getNext:function(){return i},setNext:function(d){i=d},iterate:f,onComplete:s}};function s(d,p){for(var g=[],m=2;m<arguments.length;m++)g[m-2]=arguments[m];d&&o.push({func:d,self:Te(p)?a.ctx:p,args:g})}function u(){var d=i;if(i=d?d.getNext():null,!d){var p=o;p&&p.length>0&&(J(p,function(g){try{g.func.call(g.self,g.args)}catch(m){We(n.logger,2,73,"Unexpected Exception during onComplete - "+qe(m))}}),o=[])}return d}function c(d,p,g){p===void 0&&(p={}),g===void 0&&(g=0);var m;if(e){var v=e.extensionConfig;v&&d&&(m=v[d])}if(!m)m=p;else if(vt(p)&&g!==0){var h=Wi(!0,p,m);e&&g===2&&Ne(p,function(x){if(fe(h[x])){var S=e[x];fe(S)||(h[x]=S)}}),m=h}return m}function l(d,p,g){g===void 0&&(g=!1);var m,v=c(d,null);return v&&!fe(v[p])?m=v[p]:e&&!fe(e[p])&&(m=e[p]),fe(m)?g:m}function f(d){for(var p;p=a._next();){var g=p.getPlugin();g&&d(g)}}return a}function Bt(t,e,n,r){var i=Dl(t,e,n,r),o=i.ctx;function a(u){var c=i._next();return c&&c.processTelemetry(u,o),!c}function s(u,c){return u===void 0&&(u=null),me(u)&&(u=En(u,e,n,c)),Bt(u||o.getNext(),e,n,c)}return o.processNext=a,o.createNew=s,o}function so(t,e,n){var r=e.config||{},i=Dl(t,r,e,n),o=i.ctx;function a(u){var c=i._next();return c&&c.unload(o,u),!c}function s(u,c){return u===void 0&&(u=null),me(u)&&(u=En(u,r,e,c)),so(u||o.getNext(),e,c)}return o.processNext=a,o.createNew=s,o}function ha(t,e,n){var r=e.config||{},i=Dl(t,r,e,n),o=i.ctx;function a(u){return o.iterate(function(c){be(c.update)&&c.update(o,u)})}function s(u,c){return u===void 0&&(u=null),me(u)&&(u=En(u,r,e,c)),ha(u||o.getNext(),e,c)}return o.processNext=a,o.createNew=s,o}function En(t,e,n,r){var i=null,o=!r;if(me(t)&&t.length>0){var a=null;J(t,function(s){if(!o&&r===s&&(o=!0),o&&s&&be(s.processTelemetry)){var u=ew(s,e,n);i||(i=u),a&&a._setNext(u),a=u}})}return r&&!i?En([r],e,n):i}function ew(t,e,n){var r=null,i=be(t.processTelemetry),o=be(t.setNextPlugin),a;t?a=t.identifier+"-"+t.priority+"-"+tg++:a="Unknown-0-"+tg++;var s={getPlugin:function(){return t},getNext:function(){return r},processTelemetry:l,unload:f,update:d,_id:a,_setNext:function(p){r=p}};function u(){var p;return t&&be(t[eg])&&(p=t[eg]()),p||(p=Bt(s,e,n)),p}function c(p,g,m,v,h){var x=!1,S=t?t.identifier:Y0,_=p[Zv];return _||(_=p[Zv]={}),p.setNext(r),t&&Xe(p[sn](),function(){return S+":"+m},function(){_[a]=!0;try{var y=r?r._id:_e;y&&(_[y]=!1),x=g(p)}catch(te){var K=r?_[r._id]:!0;K&&(x=!0),(!r||!K)&&We(p.diagLog(),1,73,"Plugin ["+S+"] failed during "+m+" - "+qe(te)+", run flags: "+qe(_))}},v,h),x}function l(p,g){g=g||u();function m(v){if(!t||!i)return!1;var h=Xn(t);return h.teardown||h[Ko]?!1:(o&&t.setNextPlugin(r),t.processTelemetry(p,v),!0)}c(g,m,"processTelemetry",function(){return{item:p}},!p.sync)||g.processNext(p)}function f(p,g){function m(){var v=!1;if(t){var h=Xn(t),x=t[sn]||h.core;t&&(!x||x===p[sn]())&&!h[$t]&&(h[sn]=null,h[$t]=!0,h[Hn]=!1,t[$t]&&t[$t](p,g)===!0&&(v=!0))}return v}c(p,m,"unload",function(){},g.isAsync)||p.processNext(g)}function d(p,g){function m(){var v=!1;if(t){var h=Xn(t),x=t[sn]||h.core;t&&(!x||x===p[sn]())&&!h[$t]&&t[Lc]&&t[Lc](p,g)===!0&&(v=!0)}return v}c(p,m,"update",function(){},!1)||p.processNext(g)}return Ot(s)}var Y0,Zv,eg,tg,Fl,ya=se(()=>{"use strict";gr();$e();oa();Yt();Lt();Ys();Y0="TelemetryPluginChain",Zv="_hasRun",eg="_getTelCtx",tg=0;Fl=function(){function t(e,n,r,i){var o=this,a=Bt(e,n,r,i);Kr(o,a,It(a))}return t}()});var ng,Zs,Ml=se(()=>{ng="iKey",Zs="extensionConfig"});function rg(t,e,n,r){e&&me(e)&&e.length>0&&(e=e.sort(function(i,o){return i.priority-o.priority}),J(e,function(i){i.priority<xa&&gt(tw+i.identifier)}),t.push({queue:Ot(e),chain:En(e,n,r)}))}function ig(t,e){var n;function r(){return Bt(null,e.config,e,null)}function i(l,f,d,p){var g=l?l.length+1:1;function m(){g--,g===0&&(p&&p(),p=null)}g>0&&J(l,function(v){if(v&&v.queue.length>0){var h=v.chain,x=f.createNew(h);x.onComplete(m),d(x)}else g--}),m()}function o(l,f){var d=f||{reason:0};return i(t,l,function(p){p[Ur](d)},function(){l[Ur](d)}),!0}function a(l,f){var d=f||{reason:0,isAsync:!1};return i(t,l,function(p){p[Ur](d)},function(){l[Ur](d),u=!1}),!0}function s(l){var f=null;return t&&t.length>0&&J(t,function(d){if(d&&d.queue.length>0&&(J(d.queue,function(p){if(p.identifier===l)return f=p,-1}),f))return-1}),f}var u=!1,c=(n={identifier:"ChannelControllerPlugin",priority:xa,initialize:function(l,f,d,p){u=!0,J(t,function(g){g&&g.queue.length>0&&$s(Bt(g.chain,l,f),d)})},isInitialized:function(){return u},processTelemetry:function(l,f){i(t,f||r(),function(d){d[Ur](l)},function(){f[Ur](l)})},update:o},n[bs]=function(){i(t,r(),function(l){l.iterate(function(f){f[bs]&&f[bs]()})},null)},n[ws]=function(){i(t,r(),function(l){l.iterate(function(f){f[ws]&&f[ws]()})},null)},n[$t]=a,n.getChannel=s,n.flush=function(l,f,d,p){var g=1,m=!1,v=null;p=p||5e3;function h(){g--,m&&g===0&&(v&&(clearTimeout(v),v=null),f&&f(m),f=null)}return i(t,r(),function(x){x.iterate(function(S){if(S.flush){g++;var _=!1;S.flush(l,function(){_=!0,h()},d)||_||(l&&v==null?v=setTimeout(function(){v=null,h()},p):h())}})},function(){m=!0,h()}),!0},n._setQueue=function(l){t=l},n);return c}function og(t,e,n,r){var i=[];if(t&&J(t,function(a){return rg(i,a,n,r)}),e){var o=[];J(e,function(a){a.priority>xa&&o.push(a)}),rg(i,o,n,r)}return i}var xa,tw,ag=se(()=>{$e();Lt();ya();Ys();xa=500,tw="Channel has invalid priority - "});function ri(){var t=[];function e(r){r&&t.push(r)}function n(r,i){J(t,function(o){try{o(r,i)}catch(a){We(r.diagLog(),2,73,"Unexpected error calling unload handler - "+qe(a))}}),t=[]}return{add:e,run:n}}var eu=se(()=>{gr();Yt();$e()});var Sr,ii,Nl=se(()=>{"use strict";mt();ya();$e();Ml();eu();Lt();Sr="getPlugin",ii=function(){function t(){var e=this,n,r,i,o,a;c(),Se(t,e,function(l){l.initialize=function(f,d,p,g){u(f,d,g),n=!0},l.teardown=function(f,d){var p=l.core;if(!p||f&&p!==f.core())return;var g,m=!1,v=f||so(null,p,i&&i[Sr]?i[Sr]():i),h=d||{reason:0,isAsync:!1};function x(){m||(m=!0,o.run(v,d),J(a,function(S){S.rm()}),a=[],g===!0&&v.processNext(h),c())}return!l[Ni]||l[Ni](v,h,x)!==!0?x():g=!0,g},l.update=function(f,d){var p=l.core;if(!p||f&&p!==f.core())return;var g,m=!1,v=f||ha(null,p,i&&i[Sr]?i[Sr]():i),h=d||{reason:0};function x(){m||(m=!0,u(v.getCfg(),v.core(),v.getNext()))}return!l._doUpdate||l._doUpdate(v,h,x)!==!0?x():g=!0,g},l._addHook=function(f){f&&(me(f)?a=a.concat(f):a.push(f))},pr(l,"_addUnloadCb",function(){return o},"add")}),e.diagLog=function(l){return s(l).diagLog()},e[Hn]=function(){return n},e.setInitialized=function(l){n=l},e[Vo]=function(l){i=l},e.processNext=function(l,f){f?f.processNext(l):i&&be(i.processTelemetry)&&i.processTelemetry(l,null)},e._getTelCtx=s;function s(l){l===void 0&&(l=null);var f=l;if(!f){var d=r||Bt(null,{},e.core);i&&i[Sr]?f=d.createNew(null,i[Sr]):f=d.createNew(null,i)}return f}function u(l,f,d){l&&ut(l,Zs,[],null,fe),!d&&f&&(d=f.getProcessTelContext().getNext());var p=i;i&&i[Sr]&&(p=i[Sr]()),e.core=f,r=Bt(d,l,f,p)}function c(){n=!1,e.core=null,r=null,i=null,a=[],o=ri()}}return t}()});var sg,ug=se(()=>{Nt();mt();Nl();gr();Yt();$e();Lt();sg=function(t){an(e,t);function e(){var n=t.call(this)||this;n.identifier="TelemetryInitializerPlugin",n.priority=199;var r,i;o(),Se(e,n,function(a,s){a.addTelemetryInitializer=function(u){var c={id:r++,fn:u};i.push(c);var l={remove:function(){J(i,function(f,d){if(f.id===c.id)return i.splice(d,1),-1})}};return l},a.processTelemetry=function(u,c){for(var l=!1,f=i.length,d=0;d<f;++d){var p=i[d];if(p)try{if(p.fn.apply(null,[u])===!1){l=!0;break}}catch(g){We(c.diagLog(),1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+Vr(g),{exception:qe(g)},!0)}}l||a.processNext(u,c)},a[Ni]=function(){o()}});function o(){r=0,i=[]}return n}return e}(ii)});function iw(t,e){return new ia(e)}function ow(t,e,n){var r=[],i={};return J(n,function(o){(fe(o)||fe(o.initialize))&&gt(cg);var a=o.priority,s=o.identifier;o&&a&&(fe(i[a])?i[a]=s:pl(t,"Two extensions have same priority #"+a+" - "+i[a]+", "+s)),(!a||a<e)&&r.push(o)}),{all:n,core:r}}function dg(t,e){var n=!1;return J(e,function(r){if(r===t)return n=!0,-1}),n}function aw(){var t;return Cn((t={},t[Or]=function(e){},t[Hr]=function(e){},t[Li]=function(e){},t[Ui]=function(e,n){},t[Oi]=function(e,n){},t))}var cg,lg,fg,nw,rw,oi,Ll=se(()=>{"use strict";Nt();Nt();mt();ya();Ys();oa();wl();$e();Ml();gr();dl();ag();ug();ca();eu();Lt();cg="Plugins must provide initialize method",lg="_notificationManager",fg="SDK is still unloading...",nw="SDK is not initialized",rw={loggingLevelConsole:1};oi=function(){function t(){var e,n,r,i,o,a,s,u,c,l,f,d,p,g,m,v,h,x,S,_=0;Se(t,this,function(y){K(),y.isInitialized=function(){return e},y.initialize=function(I,B,Q,G){p&&gt(fg),y.isInitialized()&&gt("Core should not be initialized more than once"),(!I||fe(I.instrumentationKey))&&gt("Please provide instrumentation key"),r=G,y[lg]=G,y.config=I||{},w(I),E(I),I.extensions=fe(I.extensions)?[]:I.extensions,M(I),Q&&(y.logger=Q),u=[],u.push.apply(u,ys(ys([],B,!1),I.extensions,!1)),f=(I||{}).channels,A(I,null),(!d||d.length===0)&&gt("No channels available"),e=!0,y.releaseQueue()},y.getTransmissionControls=function(){var I=[];return d&&J(d,function(B){I.push(B.queue)}),Ot(I)},y.track=function(I){ut(I,ng,y.config.instrumentationKey,null,zi),ut(I,"time",Jt(new Date),null,zi),ut(I,"ver","4.0",null,fe),!p&&y.isInitialized()?te().processNext(I):n.push(I)},y.getProcessTelContext=te,y.getNotifyMgr=function(){return r||(r=aw(),y[lg]=r),r},y[Or]=function(I){r&&r[Or](I)},y[Hr]=function(I){r&&r[Hr](I)},y.getCookieMgr=function(){return a||(a=Vn(y.config,y.logger)),a},y.setCookieMgr=function(I){a=I},y.getPerfMgr=function(){return!i&&!o&&y.config&&y.config.enablePerfMgr&&be(y.config.createPerfMgr)&&(o=y.config.createPerfMgr(y,y.getNotifyMgr())),i||o||gl()},y.setPerfMgr=function(I){i=I},y.eventCnt=function(){return n.length},y.releaseQueue=function(){if(e&&n.length>0){var I=n;n=[],J(I,function(B){te().processNext(B)})}},y.pollInternalLogs=function(I){m=I||null;var B=y.config.diagnosticLogInterval;return(!B||!(B>0))&&(B=1e4),_&&clearInterval(_),_=setInterval(function(){Z()},B),_},y.stopPollingInternalLogs=function(){_&&(clearInterval(_),_=0,Z())},Kr(y,function(){return g},["addTelemetryInitializer"]),y.unload=function(I,B,Q){I===void 0&&(I=!0),e||gt(nw),p&&gt(fg);var G={reason:50,isAsync:I,flushComplete:!1},le=so(z(),y);le.onComplete(function(){K(),B&&B(G)},y);function T(R){G.flushComplete=R,p=!0,h.run(le,G),y.stopPollingInternalLogs(),le.processNext(G)}ce(I,T,6,Q)||T(!1)},y.getPlugin=Y,y.addPlugin=function(I,B,Q,G){if(!I){G&&G(!1),X(cg);return}var le=Y(I.identifier);if(le&&!B){G&&G(!1),X("Plugin ["+I.identifier+"] is already loaded!");return}var T={reason:16};function R($){u.push(I),T.added=[I],A(y.config,T),G&&G(!0)}if(le){var L=[le.plugin],q={reason:2,isAsync:!!Q};oe(L,q,function($){$?(T.removed=L,T.reason|=32,R(!0)):G&&G(!1)})}else R(!1)},y.evtNamespace=function(){return v},y.flush=ce,y.getTraceCtx=function(I){return S||(S=Yv()),S},y.setTraceCtx=function(I){S=I||null},pr(y,"addUnloadCb",function(){return h},"add");function K(){e=!1,y.config=Wi(!0,{},rw),y.logger=new Zt(y.config),y._extensions=[],g=new sg,n=[],r=null,i=null,o=null,a=null,s=null,c=null,u=[],l=null,f=null,d=null,p=!1,m=null,v=fn("AIBaseCore",!0),h=ri(),S=null}function te(){return Bt(z(),y.config,y)}function A(I,B){var Q=ow(y.logger,xa,u);c=Q.core,s=null;var G=Q.all;if(d=Ot(og(f,G,I,y)),l){var le=at(G,l);le!==-1&&G.splice(le,1),le=at(c,l),le!==-1&&c.splice(le,1),l._setQueue(d)}else l=ig(d,y);G.push(l),c.push(l),y._extensions=Js(G),l.initialize(I,y,G),$s(te(),G),y._extensions=Ot(Js(c||[])).slice(),B&&H(B)}function Y(I){var B=null,Q=null;return J(y._extensions,function(G){if(G.identifier===I&&G!==l&&G!==g)return Q=G,-1}),!Q&&l&&(Q=l.getChannel(I)),Q&&(B={plugin:Q,setEnabled:function(G){Xn(Q)[Ko]=!G},isEnabled:function(){var G=Xn(Q);return!G[$t]&&!G[Ko]},remove:function(G,le){G===void 0&&(G=!0);var T=[Q],R={reason:1,isAsync:G};oe(T,R,function(L){L&&A(y.config,{reason:32,removed:T}),le&&le(L)})}}),B}function z(){if(!s){var I=(c||[]).slice();at(I,g)===-1&&I.push(g),s=En(Js(I),y.config,y)}return s}function oe(I,B,Q){if(I&&I.length>0){var G=En(I,y.config,y),le=so(G,y);le.onComplete(function(){var T=!1,R=[];J(u,function(q,$){dg(q,I)?T=!0:R.push(q)}),u=R;var L=[];f&&(J(f,function(q,$){var ie=[];J(q,function(ne){dg(ne,I)?T=!0:ie.push(ne)}),L.push(ie)}),f=L),Q&&Q(T)}),le.processNext(B)}else Q(!1)}function Z(){var I=y.logger?y.logger.queue:[];I&&(J(I,function(B){var Q={name:m||"InternalMessageId: "+B.messageId,iKey:y.config.instrumentationKey,time:Jt(new Date),baseType:Jr.dataType,baseData:{message:B.message}};y.track(Q)}),I.length=0)}function ce(I,B,Q,G){return l?l.flush(I,B,Q||6,G):(B&&B(!1),!0)}function w(I){I.disableDbgExt===!0&&x&&(r[Hr](x),x=null),r&&!x&&I.disableDbgExt!==!0&&(x=gv(I),r[Or](x))}function E(I){!I.enablePerfMgr&&o&&(o=null),I.enablePerfMgr&&ut(y.config,"createPerfMgr",iw)}function M(I){var B=Xo(I,Zs);B.NotificationManager=r}function H(I){var B=ha(z(),y);(!y._updateHook||y._updateHook(B,I)!==!0)&&B.processNext(I)}function X(I){var B=y.logger;B?We(B,2,73,I):gt(I)}})}return t}()});function tu(t,e,n,r){J(t,function(i){if(i&&i[e])if(n)setTimeout(function(){return r(i)},0);else try{r(i)}catch{}})}var wa,Ul=se(()=>{mt();$e();Lt();wa=function(){function t(e){this.listeners=[];var n=!!(e||{}).perfEvtsSendAll;Se(t,this,function(r){r[Or]=function(i){r.listeners.push(i)},r[Hr]=function(i){for(var o=at(r.listeners,i);o>-1;)r.listeners.splice(o,1),o=at(r.listeners,i)},r[Li]=function(i){tu(r.listeners,Li,!0,function(o){o[Li](i)})},r[Ui]=function(i,o){tu(r.listeners,Ui,!0,function(a){a[Ui](i,o)})},r[Oi]=function(i,o){tu(r.listeners,Oi,o,function(a){a[Oi](i,o)})},r[Go]=function(i){i&&(n||!i.isChildEvt())&&tu(r.listeners,Go,!1,function(o){i.isAsync?setTimeout(function(){return o[Go](i)},0):o[Go](i)})}})}return t}()});var ba,pg=se(()=>{Nt();Ll();Ul();oa();gr();mt();$e();ba=function(t){an(e,t);function e(){var n=t.call(this)||this;return Se(e,n,function(r,i){r.initialize=function(s,u,c,l){i.initialize(s,u,c||new Zt(s),l||new wa(s))},r.track=function(s){Xe(r.getPerfMgr(),function(){return"AppInsightsCore:track"},function(){s===null&&(a(s),gt("Invalid telemetry item")),o(s),i.track(s)},function(){return{item:s}},!s.sync)};function o(s){fe(s.name)&&(a(s),gt("telemetry name required"))}function a(s){var u=r.getNotifyMgr();u&&u.eventsDiscarded([s],2)}}),n}return e}(oi)});var Ol,Ca,vg=se(()=>{Is();Ol=Et({CRITICAL:1,WARNING:2}),Ca=Et({BrowserDoesNotSupportLocalStorage:0,BrowserCannotReadLocalStorage:1,BrowserCannotReadSessionStorage:2,BrowserCannotWriteLocalStorage:3,BrowserCannotWriteSessionStorage:4,BrowserFailedRemovalFromLocalStorage:5,BrowserFailedRemovalFromSessionStorage:6,CannotSendEmptyTelemetry:7,ClientPerformanceMathError:8,ErrorParsingAISessionCookie:9,ErrorPVCalc:10,ExceptionWhileLoggingError:11,FailedAddingTelemetryToBuffer:12,FailedMonitorAjaxAbort:13,FailedMonitorAjaxDur:14,FailedMonitorAjaxOpen:15,FailedMonitorAjaxRSC:16,FailedMonitorAjaxSend:17,FailedMonitorAjaxGetCorrelationHeader:18,FailedToAddHandlerForOnBeforeUnload:19,FailedToSendQueuedTelemetry:20,FailedToReportDataLoss:21,FlushFailed:22,MessageLimitPerPVExceeded:23,MissingRequiredFieldSpecification:24,NavigationTimingNotSupported:25,OnError:26,SessionRenewalDateIsZero:27,SenderNotInitialized:28,StartTrackEventFailed:29,StopTrackEventFailed:30,StartTrackFailed:31,StopTrackFailed:32,TelemetrySampledAndNotSent:33,TrackEventFailed:34,TrackExceptionFailed:35,TrackMetricFailed:36,TrackPVFailed:37,TrackPVFailedCalc:38,TrackTraceFailed:39,TransmissionFailed:40,FailedToSetStorageBuffer:41,FailedToRestoreStorageBuffer:42,InvalidBackendResponse:43,FailedToFixDepricatedValues:44,InvalidDurationValue:45,TelemetryEnvelopeInvalid:46,CreateEnvelopeError:47,CannotSerializeObject:48,CannotSerializeObjectNonSerializable:49,CircularReferenceDetected:50,ClearAuthContextFailed:51,ExceptionTruncated:52,IllegalCharsInName:53,ItemNotInArray:54,MaxAjaxPerPVExceeded:55,MessageTruncated:56,NameTooLong:57,SampleRateOutOfRange:58,SetAuthContextFailed:59,SetAuthContextFailedAccountName:60,StringValueTooLong:61,StartCalledMoreThanOnce:62,StopCalledWithoutStart:63,TelemetryInitializerFailed:64,TrackArgumentsNotSpecified:65,UrlTooLong:66,SessionStorageBufferFull:67,CannotAccessCookie:68,IdTooLong:69,InvalidEvent:70,FailedMonitorAjaxSetRequestHeader:71,SendBrowserInfoOnUserInit:72,PluginException:73,NotificationException:74,SnippetScriptLoadFailure:99,InvalidInstrumentationKey:100,CannotParseAiBlobValue:101,InvalidContentBlob:102,TrackPageActionEventFailed:103,FailedAddingCustomDefinedRequestContext:104,InMemoryStorageBufferFull:105,InstrumentationKeyDeprecation:106})});var Qn=se(()=>{Hp();tv();pg();Ll();Nl();Us();Il();$e();Is();Cl();Yt();Nt();Ul();oa();gr();ya();vg();wl();ca();eu();kl()});var gg,mg,hg,yg,xg,wg,bg=se(()=>{Nt();Qn();gg=Et({NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,CustomerContent_GenericContent:32}),mg=Et({Normal:1,CostDeferred:2,RealTime:3,Immediate:4}),hg=Et({Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9}),yg=Et({Normal:1,Critical:2}),xg=Et({NONE:0,ERROR:1,WARNING:2,INFORMATION:3}),wg=Ot(hs(hs({},Ca),Et({AuthHandShakeError:501,AuthRedirectFail:502,BrowserCannotReadLocalStorage:503,BrowserCannotWriteLocalStorage:504,BrowserDoesNotSupportLocalStorage:505,CannotParseBiBlobValue:506,CannotParseDataAttribute:507,CVPluginNotAvailable:508,DroppedEvent:509,ErrorParsingAISessionCookie:510,ErrorProvidedChannels:511,FailedToGetCookies:512,FailedToInitializeCorrelationVector:513,FailedToInitializeSDK:514,InvalidContentBlob:515,InvalidCorrelationValue:516,SessionRenewalDateIsZero:517,SendPostOnCompleteFailure:518,PostResponseHandler:519,SDKNotInitialized:520})))});function nt(t){return!(t===""||fe(t))}function Ia(t){if(t){var e=t.indexOf("-");if(e>-1)return t.substring(0,e)}return""}function ql(){return Hl===null&&(Hl=!Te(Uint8Array)&&!fw()&&!Wn()),Hl}function Ea(t){return!!(t&&Ut(t)&&t>=1&&t<=4)}function Ta(t,e,n){if(!e&&!nt(e)||typeof t!="string")return null;var r=typeof e;if(r==="string"||r==="number"||r==="boolean"||me(e))e={value:e};else if(r==="object"&&!e.hasOwnProperty("value"))e={value:n?JSON.stringify(e):e};else if(fe(e.value)||e.value===""||!ze(e.value)&&!Ut(e.value)&&!Bn(e.value)&&!me(e.value))return null;if(me(e.value)&&!ru(e.value))return null;if(!fe(e.kind)){if(me(e.value)||!uo(e.kind))return null;e.value=e.value.toString()}return e}function _a(t,e,n){var r=-1;if(!Te(t))if(e>0&&(e===32?r=1<<13:e<=13&&(r=e<<5)),lw(n))r===-1&&(r=0),r|=n;else{var i=cw[pn(t)]||-1;r!==-1&&i!==-1?r|=i:i===6&&(r=i)}return r}function zl(){xr(null).setEnabled(!1)}function jl(t,e,n){dn(null)&&xr(null).set(t,e,n*86400,null,"/")}function Wl(t){dn(null)&&xr(null).del(t)}function Vl(t){return dn(null)?Kl(xr(null),t):""}function Kl(t,e,n){n===void 0&&(n=!0);var r;return t&&(r=t.get(e),n&&r&&decodeURIComponent&&(r=decodeURIComponent(r))),r||""}function Gl(t){t===void 0&&(t="D");var e=ro();return t==="B"?e="{"+e+"}":t==="P"?e="("+e+")":t==="N"&&(e=e.replace(/-/g,"")),e}function Ir(t,e,n,r,i){var o={},a=!1,s=0,u=arguments.length,c=Object[tt],l=arguments;for(c.toString.call(l[0])==="[object Boolean]"&&(a=l[0],s++);s<u;s++){var t=l[s];Ne(t,function(d,p){a&&p&&vt(p)?me(p)?(o[d]=o[d]||[],J(p,function(g,m){g&&vt(g)?o[d][m]=Ir(!0,o[d][m],g):o[d][m]=g})):o[d]=Ir(!0,o[d],p):o[d]=p})}return o}function uo(t){return t===0||t>0&&t<=13||t===32}function lw(t){return t>=0&&t<=9}function fw(){var t=Vt();if(!Te(t)&&t.userAgent){var e=t.userAgent.toLowerCase();if((e.indexOf("safari")>=0||e.indexOf("firefox")>=0)&&e.indexOf("chrome")<0)return!0}return!1}function ru(t){return t.length>0}function co(t,e){var n=t;n.timings=n.timings||{},n.timings.processTelemetryStart=n.timings.processTelemetryStart||{},n.timings.processTelemetryStart[e]=Tt()}function pn(t){var e=0;if(t!=null){var n=typeof t;n==="string"?e=1:n==="number"?e=2:n==="boolean"?e=3:n===Ze&&(e=4,me(t)?(e=4096,t.length>0&&(e|=pn(t[0]))):Sn(t,"value")&&(e=8192|pn(t.value)))}return e}function iu(){return!!je("chrome")}function ou(t,e,n,r,i,o){r===void 0&&(r=!1),i===void 0&&(i=!1);function a(u,c,l){try{u[c]=l}catch{}}var s=new XMLHttpRequest;return r&&a(s,sw,r),n&&a(s,Cg,n),s.open(t,e,!i),n&&a(s,Cg,n),!i&&o&&a(s,uw,o),s}var $n,nu,Jn,sw,Cg,uw,cw,Hl,Sa,Bl,Tt,Sg,Ig,Pa=se(()=>{Nt();Qn();nu="3.2.3",Jn="1DS-Web-JS-"+nu,sw="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Cg="withCredentials",uw="timeout",cw=($n={},$n[0]=0,$n[2]=6,$n[1]=1,$n[3]=7,$n[4096|2]=6,$n[4096|1]=1,$n[4096|3]=7,$n),Hl=null,Sa=Boolean(Ht()),Bl=Boolean(In());Tt=io;Sg={Version:nu,FullVersionString:Jn,strUndefined:et,strObject:Ze,Undefined:et,arrForEach:J,arrIndexOf:at,arrMap:jr,arrReduce:Wr,objKeys:It,toISOString:Jt,isReactNative:Wn,isString:ze,isNumber:Ut,isBoolean:Bn,isFunction:be,isArray:me,isObject:vt,strTrim:Le,isDocumentObjectAvailable:Sa,isWindowObjectAvailable:Bl,isValueAssigned:nt,getTenantId:Ia,isBeaconsSupported:vr,isUint8ArrayAvailable:ql,isLatency:Ea,sanitizeProperty:Ta,getISOString:Jt,useXDomainRequest:$r,getCommonSchemaMetaData:_a,cookieAvailable:dn,disallowsSameSiteNone:Ji,setCookie:jl,deleteCookie:Wl,getCookie:Vl,createGuid:Gl,extend:Ir,getTime:Tt,isValueKind:uo,isArrayValid:ru,objDefineAccessors:Wt,addPageUnloadEventListener:ni,setProcessTelemetryTimings:co,addEventHandler:wr,getFieldValueType:pn,strEndsWith:qr,objForEachKey:Ne},Ig={_canUseCookies:void 0,isTypeof:Hi,isUndefined:Te,isNullOrUndefined:fe,hasOwnProperty:Sn,isFunction:be,isObject:vt,isDate:qi,isArray:me,isError:zr,isString:ze,isNumber:Ut,isBoolean:Bn,toISOString:Jt,arrForEach:J,arrIndexOf:at,arrMap:jr,arrReduce:Wr,strTrim:Le,objCreate:Cn,objKeys:It,objDefineAccessors:Wt,addEventHandler:wr,dateNow:st,isIE:cn,disableCookies:zl,newGuid:ro,perfNow:io,newId:hr,randomValue:Zr,random32:ln,mwcRandomSeed:Ls,mwcRandom32:ua,generateW3CId:Cr}});var Xl,Ql,dw,Eg,Tg=se(()=>{Nt();Qn();Pa();mt();Xl="version",Ql="properties",dw=function(t){an(e,t);function e(){var n=t.call(this)||this;return n.pluginVersionStringArr=[],n.pluginVersionString="",Se(e,n,function(r,i){(!r.logger||!r.logger.queue)&&(r.logger=new Zt({loggingLevelConsole:1})),r.initialize=function(o,a,s,u){Xe(r,function(){return"AppInsightsCore.initialize"},function(){if(o){o.endpointUrl||(o.endpointUrl="https://browser.events.data.microsoft.com/OneCollector/1.0/");var c=o.propertyStorageOverride;if(c&&(!c.getProperty||!c.setProperty))throw new Error("Invalid property storage override passed.");o.channels&&J(o.channels,function(d){d&&J(d,function(p){if(p.identifier&&p.version){var g=p.identifier+"="+p.version;r.pluginVersionStringArr.push(g)}})})}r.getWParam=function(){return typeof document!="undefined"?0:-1},a&&J(a,function(d){if(d&&d.identifier&&d.version){var p=d.identifier+"="+d.version;r.pluginVersionStringArr.push(p)}}),r.pluginVersionString=r.pluginVersionStringArr.join(";");try{i.initialize(o,a,s,u),r.pollInternalLogs("InternalLog")}catch(d){var l=r.logger,f=qe(d);f.indexOf("channels")!==-1&&(f+=`
 - Channels must be provided through config.channels only!`),l.throwInternal(1,514,"SDK Initialization Failed - no telemetry will be sent: "+f)}},function(){return{config:o,extensions:a,logger:s,notificationManager:u}})},r.track=function(o){Xe(r,function(){return"AppInsightsCore.track"},function(){var a=o;if(a){a.timings=a.timings||{},a.timings.trackStart=Tt(),Ea(a.latency)||(a.latency=1);var s=a.ext=a.ext||{};s.sdk=s.sdk||{},s.sdk.ver=Jn;var u=a.baseData=a.baseData||{};u[Ql]||(u[Ql]={});var c=u[Ql];c[Xl]||(c[Xl]=""),r.pluginVersionString!==""&&(c[Xl]=r.pluginVersionString)}i.track(a)},function(){return{item:o}},!o.sync)}}),n}return e}(ba),Eg=dw});var pw,_g,Pg=se(()=>{Nt();mt();Qn();Pa();pw=function(t){an(e,t);function e(){var n=t.call(this)||this;return Se(e,n,function(r,i){r.initialize=function(o,a,s,u){o&&!o.endpointUrl&&(o.endpointUrl="https://browser.events.data.microsoft.com/OneCollector/1.0/"),r.getWParam=function(){return Sa?0:-1};try{i.initialize(o,a,s,u)}catch(c){We(r.logger,1,514,"Initialization Failed: "+qe(c)+`
 - Note: Channels must be provided through config.channels only`)}},r.track=function(o){var a=o;if(a){var s=a.ext=a.ext||{};s.sdk=s.sdk||{},s.sdk.ver=Jn}i.track(a)}}),n}return e}(oi),_g=pw});function vw(t,e,n){return function(r){t[e]=r,n()}}var ai,gw,Er,$l=se(()=>{Qn();mt();ai=be;gw=function(){function t(e){var n=0,r=null,i=[];Se(t,this,function(c){c.then=function(l,f){return new t(function(d,p){o(l,f,d,p)})},c.catch=function(l){return c.then(null,l)}});function o(c,l,f,d){i.push(function(){var p;try{n===1?p=ai(c)?c(r):r:p=ai(l)?l(r):r,p instanceof t?p.then(f,d):n===2&&!ai(l)?d(p):f(p)}catch(g){d(g);return}}),n!==0&&a()}function a(){if(i.length>0){var c=i.slice();i=[],setTimeout(function(){for(var l=0,f=c.length;l<f;++l)try{c[l]()}catch{}},0)}}function s(c){n===0&&(r=c,n=1,a())}function u(c){n===0&&(r=c,n=2,a())}(function(){if(!ai(e))throw new TypeError("ESPromise: resolvedFunc argument is not a Function");try{e(s,u)}catch(l){u(l)}})()}return t.resolve=function(e){return e instanceof t?e:e&&ai(e.then)?new t(function(n,r){try{e.then(n,r)}catch(i){r(i)}}):new t(function(n){n(e)})},t.reject=function(e){return new t(function(n,r){r(e)})},t.all=function(e){if(!(!e||!e.length))return new t(function(n,r){try{for(var i=[],o=0,a=0;a<e.length;a++){var s=e[a];s&&ai(s.then)?(o++,s.then(vw(i,a,function(){--o===0&&n(i)}),r)):i[a]=s}o===0&&setTimeout(function(){n(i)},0)}catch(u){r(u)}})},t.race=function(e){return new t(function(n,r){if(!(!e||!e.length))try{for(var i=function(a){var s=e[a];s&&ai(s.then)?s.then(n,r):setTimeout(function(){n(s)},0)},o=0;o<e.length;o++)i(o)}catch(a){r(a)}})},t}(),Er=gw});function lo(){return new Date().getTime()}var mw,Ag,Aa,si,Jl,hw,Rg,kg=se(()=>{$l();Qn();mt();mw=6e5,Ag=0,Aa=[],si=[],Jl=[];hw=function(){function t(e,n){var r=0,i=(e||"<unnamed>")+"."+Ag;Ag++,Se(t,this,function(s){var u=null,c=0;s.scheduleEvent=function(f,d,p){var g=i+"."+c;c++,d&&(g+="-("+d+")");var m=g+"{"+r+"}";r++;var v={evt:null,tm:lo(),id:m,isRunning:!1,isAborted:!1};return u?v.evt=te(v,u):v.evt=K(v),u=v,u.evt._schId=m,v.evt;function h(A){for(var Y=lo(),z=Y-mw,oe=A.length,Z=0;Z<oe;){var ce=A[Z];if(ce&&ce.tm<z){var w=null;ce.abort?(w="Aborting ["+ce.id+"] due to Excessive runtime ("+(Y-ce.tm)+" ms)",ce.abort(w)):w="Removing ["+ce.id+"] due to Excessive runtime ("+(Y-ce.tm)+" ms)",a(w),A.splice(Z,1),oe--}else Z++}}function x(A,Y){var z=!1,oe=l(Aa,A);if(oe||(oe=l(Jl,A),z=!0),oe){oe.to&&(clearTimeout(oe.to),oe.to=null);var Z=lo()-oe.tm;Y?z?a("Timed out event ["+A+"] finally complete -- "+Z+" ms"):o("Promise ["+A+"] Complete -- "+Z+" ms"):(Jl.push(oe),a("Event ["+A+"] Timed out and removed -- "+Z+" ms"))}else o("Failed to remove ["+A+"] from running queue");u&&u.id===A&&(u=null),h(Aa),h(si),h(Jl)}function S(A,Y){return function(z){return x(A,!0),Y&&Y(z),z}}function _(A,Y,z,oe){Y.then(function(Z){return Z instanceof Er?(o("Event ["+A+"] returned a promise -- waiting"),_(A,Z,z,oe),Z):S(A,z)(Z)},S(A,oe))}function y(A,Y){var z=A.id;return new Er(function(oe,Z){o("Event ["+z+"] Starting -- waited for "+(A.wTm||"--")+" ms"),A.isRunning=!0,A.abort=function(w){A.abort=null,A.isAborted=!0,x(z,!1),Z(new Error(w))};var ce=Y(z);ce instanceof Er?(p&&(A.to=setTimeout(function(){x(z,!1),Z(new Error("Timed out after ["+p+"] ms"))},p)),_(z,ce,function(w){o("Event ["+z+"] Resolving after "+(lo()-A.tm)+" ms"),oe(w)},Z)):(o("Promise ["+z+"] Auto completed as the start action did not return a promise"),oe())})}function K(A){var Y=lo();return A.wTm=Y-A.tm,A.tm=Y,A.isAborted?Er.reject(new Error("["+g+"] was aborted")):(Aa.push(A),y(A,f))}function te(A,Y){var z=new Er(function(oe,Z){var ce=lo()-Y.tm,w=Y.id;o("["+g+"] is waiting for ["+w+":"+ce+" ms] to complete before starting -- ["+si.length+"] waiting and ["+Aa.length+"] running"),A.abort=function(E){A.abort=null,l(si,g),A.isAborted=!0,Z(new Error(E))},Y.evt.then(function(E){l(si,g),K(A).then(oe,Z)},function(E){l(si,g),K(A).then(oe,Z)})});return si.push(A),z}};function l(f,d){for(var p=0;p<f.length;p++)if(f[p].id===d)return f.splice(p,1)[0];return null}});function o(s){var u=on();u&&u.QUnit&&console&&console.log("ESPromiseScheduler["+i+"] "+s)}function a(s){n&&n.warnToConsole("ESPromiseScheduler["+i+"] "+s)}}return t.incomplete=function(){return Aa},t.waitingToStart=function(){return si},t}(),Rg=hw});var Dg,Fg=se(()=>{Qn();Pa();Dg=function(){function t(e){var n=this,r={},i=[],o=[];e&&o.push(e);function a(l,f){var d,p=r[l];if(p&&(d=p[f]),!d&&d!==null){if(ze(l)&&ze(f))if(o.length>0){for(var g=0;g<o.length;g++)if(o[g].handleField(l,f)){d={canHandle:!0,fieldHandler:o[g]};break}}else i.length===0&&(d={canHandle:!0});if(!d&&d!==null){d=null;for(var g=0;g<i.length;g++)if(i[g].handleField(l,f)){d={canHandle:!0,handler:i[g],fieldHandler:null};break}}p||(p=r[l]={}),p[f]=d}return d}n.addSanitizer=function(l){l&&(i.push(l),r={})},n.addFieldSanitizer=function(l){l&&(o.push(l),r={})},n.handleField=function(l,f){var d=a(l,f);return d?d.canHandle:!1},n.value=function(l,f,d,p){var g=a(l,f);if(g&&g.canHandle){if(!g||!g.canHandle)return null;if(g.handler)return g.handler.value(l,f,d,p);if(!ze(f)||fe(d)||d==="")return null;var m=null,v=pn(d);if((v&8192)===8192){var h=v&~8192;if(m=d,!nt(m.value)||h!==1&&h!==2&&h!==3&&(h&4096)!==4096)return null}else v===1||v===2||v===3||(v&4096)===4096?m=u(l,f,d):v===4&&(m=u(l,f,p?JSON.stringify(d):d));if(m)return s(g,l,f,v,m,p)}return null},n.property=function(l,f,d,p){var g=a(l,f);if(!g||!g.canHandle||!ze(f)||fe(d)||!nt(d.value))return null;var m=pn(d.value);return m===0?null:s(g,l,f,m,d,p)};function s(l,f,d,p,g,m){if(l.handler)return l.handler.property(f,d,g,m);if(!fe(g.kind)){if((p&4096)===4096||!uo(g.kind))return null;g.value=g.value.toString()}return c(l.fieldHandler,f,d,p,g)}function u(l,f,d){return nt(d)?{value:d}:null}function c(l,f,d,p,g){if(g&&l){var m=l.getSanitizer(f,d,p,g.kind,g.propertyType);if(m)if(p===4){var v={},h=g.value;Ne(h,function(S,_){var y=f+"."+d;if(nt(_)){var K=u(y,S,_);K=c(l,y,S,pn(_),K),K&&(v[S]=K.value)}}),g.value=v}else{var x={path:f,name:d,type:p,prop:g,sanitizer:n};g=m.call(n,x)}}return g}}return t.getFieldType=pn,t}()});var Mg={};kc(Mg,{AppInsightsCore:()=>Eg,BaseCore:()=>_g,BaseTelemetryPlugin:()=>ii,CoreUtils:()=>Ig,DiagnosticLogger:()=>Zt,ESPromise:()=>Er,ESPromiseScheduler:()=>Rg,EventHelper:()=>Sl,EventLatency:()=>mg,EventPersistence:()=>yg,EventPropertyType:()=>hg,EventsDiscardedReason:()=>un,FullVersionString:()=>Jn,InternalAppInsightsCore:()=>ba,InternalBaseCore:()=>oi,LoggingSeverity:()=>Ol,MinChannelPriorty:()=>Mc,NotificationManager:()=>wa,PerfEvent:()=>Yr,PerfManager:()=>ia,ProcessTelemetryContext:()=>Fl,TraceLevel:()=>xg,Undefined:()=>et,Utils:()=>Sg,ValueKind:()=>gg,ValueSanitizer:()=>Dg,Version:()=>nu,_ExtendedInternalMessageId:()=>wg,_InternalLogMessage:()=>Jr,_InternalMessageId:()=>Ca,__getRegisteredEvents:()=>bl,_throwInternal:()=>We,addEventHandler:()=>wr,addEventListeners:()=>Ks,addPageHideEventListener:()=>to,addPageShowEventListener:()=>no,addPageUnloadEventListener:()=>ni,areCookiesSupported:()=>dn,arrForEach:()=>J,arrIndexOf:()=>at,arrMap:()=>jr,arrReduce:()=>Wr,attachEvent:()=>Yi,cookieAvailable:()=>dn,createCookieMgr:()=>Vn,createEnumStyle:()=>Et,createGuid:()=>Gl,createProcessTelemetryContext:()=>Bt,createTraceParent:()=>_l,createUniqueNamespace:()=>fn,createUnloadHandlerContainer:()=>ri,dateNow:()=>st,deleteCookie:()=>Wl,detachEvent:()=>Zi,disableCookies:()=>zl,disallowsSameSiteNone:()=>Ji,doPerf:()=>Xe,dumpObj:()=>qe,eventOff:()=>ti,eventOn:()=>ei,extend:()=>Ir,findW3cTraceParent:()=>Rl,formatTraceParent:()=>Al,generateW3CId:()=>Cr,getCommonSchemaMetaData:()=>_a,getConsole:()=>Zo,getCookie:()=>Vl,getCookieValue:()=>Kl,getCrypto:()=>ea,getDocument:()=>Ht,getExceptionName:()=>Vr,getFieldValueType:()=>pn,getGlobal:()=>on,getGlobalInst:()=>je,getHistory:()=>al,getIEVersion:()=>sl,getISOString:()=>Jt,getJSON:()=>Xi,getLocation:()=>Xr,getMsCrypto:()=>ta,getNavigator:()=>Vt,getPerformance:()=>Gi,getSetValue:()=>Xo,getTenantId:()=>Ia,getTime:()=>Tt,getWindow:()=>In,hasDocument:()=>Ds,hasHistory:()=>Fs,hasJSON:()=>Qr,hasNavigator:()=>Yo,hasOwnProperty:()=>Sn,hasWindow:()=>Jo,isArray:()=>me,isArrayValid:()=>ru,isBeaconsSupported:()=>vr,isBoolean:()=>Bn,isChromium:()=>iu,isDate:()=>qi,isDocumentObjectAvailable:()=>Sa,isError:()=>zr,isFetchSupported:()=>na,isFunction:()=>be,isIE:()=>cn,isLatency:()=>Ea,isNotTruthy:()=>zi,isNullOrUndefined:()=>fe,isNumber:()=>Ut,isObject:()=>vt,isReactNative:()=>Wn,isSampledFlag:()=>Pl,isString:()=>ze,isTruthy:()=>ji,isTypeof:()=>Hi,isUint8ArrayAvailable:()=>ql,isUndefined:()=>Te,isValidSpanId:()=>ao,isValidTraceId:()=>oo,isValidTraceParent:()=>Qs,isValueAssigned:()=>nt,isValueKind:()=>uo,isWindowObjectAvailable:()=>Bl,isXhrSupported:()=>Qi,mergeEvtNamespace:()=>Kn,newGuid:()=>ro,newId:()=>hr,normalizeJsName:()=>Br,objCreate:()=>Cn,objDefineAccessors:()=>Wt,objForEachKey:()=>Ne,objFreeze:()=>Ot,objKeys:()=>It,objSeal:()=>Wc,openXhr:()=>ou,optimizeObject:()=>qn,parseTraceParent:()=>ma,perfNow:()=>io,proxyAssign:()=>Vc,proxyFunctionAs:()=>pr,proxyFunctions:()=>Kr,random32:()=>ln,randomValue:()=>Zr,removeEventHandler:()=>Vs,removeEventListeners:()=>br,removePageHideEventListener:()=>va,removePageShowEventListener:()=>ga,removePageUnloadEventListener:()=>pa,safeGetCookieMgr:()=>xr,safeGetLogger:()=>ra,sanitizeProperty:()=>Ta,setCookie:()=>jl,setEnableEnvMocks:()=>ol,setProcessTelemetryTimings:()=>co,setValue:()=>ut,strContains:()=>Qe,strEndsWith:()=>qr,strFunction:()=>Qt,strObject:()=>Ze,strPrototype:()=>tt,strStartsWith:()=>Bi,strTrim:()=>Le,strUndefined:()=>et,throwError:()=>gt,toISOString:()=>Jt,useXDomainRequest:()=>$r});var ui=se(()=>{bg();Tg();Pg();$l();kg();Fg();Qn();Pa()});var ci,au,su,Yl=se(()=>{ci="REAL_TIME",au="NEAR_REAL_TIME",su="BEST_EFFORT"});var uu,Ng,cu,Lg,Zl,Ug,Og,Hg,ef,tf,lu,Bg,nf,qg,rf,fu,of,du,pu,vu,Ra,af,zg,fo,gu=se(()=>{uu="POST",Ng="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",cu="drop",Lg="send",Zl="requeue",Ug="rspFail",Og="oth",Hg="no-cache, no-store",ef="application/x-json-stream",tf="cache-control",lu="content-type",Bg="kill-tokens",nf="kill-duration",qg="kill-duration-seconds",rf="time-delta-millis",fu="client-version",of="client-id",du="time-delta-to-apply-millis",pu="upload-time",vu="apikey",Ra="AuthMsaDeviceTicket",af="AuthXToken",zg="NoResponseBody",fo="msfpc"});function jg(t){var e=(t.ext||{}).intweb;return e&&nt(e[fo])?e[fo]:null}function Wg(t){for(var e=null,n=0;e===null&&n<t.length;n++)e=jg(t[n]);return e}var po,sf=se(()=>{ui();gu();po=function(){function t(e,n){var r=n?[].concat(n):[],i=this,o=Wg(r);i.iKey=function(){return e},i.Msfpc=function(){return o||""},i.count=function(){return r.length},i.events=function(){return r},i.addEvent=function(a){return a?(r.push(a),o||(o=jg(a)),!0):!1},i.split=function(a,s){var u;if(a<r.length){var c=r.length-a;fe(s)||(c=s<c?s:c),u=r.splice(a,c),o=Wg(r)}return new t(e,u)}}return t.create=function(e,n){return new t(e,n)},t}()});function Qg(t,e,n,r){if(r&&t){var i=_a(r.value,r.kind,r.propertyType);if(i>-1){var o=t[Gg];o||(o=t[Gg]={f:{}});var a=o[mu];if(a||(a=o[mu]={}),e)for(var s=0;s<e.length;s++){var u=e[s];a[u]||(a[u]={f:{}});var c=a[u][mu];c||(c=a[u][mu]={}),a=c}a=a[n]={},me(r.value)?a.a={t:i}:a.t=i}}}var yw,xw,Vg,Kg,ww,Gg,mu,bw,Xg,$g=se(()=>{ui();sf();mt();yw=20,xw=3984588,Vg=65e3,Kg=2e6,ww=Math.min(Kg,Vg),Gg="metadata",mu="f",bw=/\./,Xg=function(){function t(e,n,r,i){var o="data",a="baseData",s="ext",u=!!i,c=!0,l=n,f={};Se(t,this,function(d){d.createPayload=function(m,v,h,x,S,_){return{apiKeys:[],payloadBlob:"",overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:m,isTeardown:v,isSync:h,isBeacon:x,sendType:_,sendReason:S}},d.appendPayload=function(m,v,h){var x=m&&v&&!m.overflow;return x&&Xe(e,function(){return"Serializer:appendPayload"},function(){for(var S=v.events(),_=m.payloadBlob,y=m.numEvents,K=!1,te=[],A=[],Y=m.isBeacon,z=Y?Vg:xw,oe=Y?ww:Kg,Z=0,ce=0;Z<S.length;){var w=S[Z];if(w){if(y>=h){m.overflow=v.split(Z);break}var E=d.getEventBlob(w);if(E&&E.length<=oe){var M=E.length,H=_.length;if(H+M>z){m.overflow=v.split(Z);break}_&&(_+=`
`),_+=E,ce++,ce>yw&&(_.substr(0,1),ce=0),K=!0,y++}else E?te.push(w):A.push(w),S.splice(Z,1),Z--}Z++}if(te&&te.length>0&&m.sizeExceed.push(po.create(v.iKey(),te)),A&&A.length>0&&m.failedEvts.push(po.create(v.iKey(),A)),K){m.batches.push(v),m.payloadBlob=_,m.numEvents=y;var X=v.iKey();at(m.apiKeys,X)===-1&&m.apiKeys.push(X)}},function(){return{payload:m,theBatch:{iKey:v.iKey(),evts:v.events()},max:h}}),x},d.getEventBlob=function(m){try{return Xe(e,function(){return"Serializer.getEventBlob"},function(){var v={};v.name=m.name,v.time=m.time,v.ver=m.ver,v.iKey="o:"+Ia(m.iKey);var h={},x=m[s];x&&(v[s]=h,Ne(x,function(y,K){var te=h[y]={};g(K,te,"ext."+y,!0,null,null,!0)}));var S=v[o]={};S.baseType=m.baseType;var _=S[a]={};return g(m.baseData,_,a,!1,[a],function(y,K,te){Qg(h,y,K,te)},c),g(m.data,S,o,!1,[],function(y,K,te){Qg(h,y,K,te)},c),JSON.stringify(v)},function(){return{item:m}})}catch{return null}};function p(m,v){var h=f[m];return h===void 0&&(m.length>=7&&(h=Bi(m,"ext.metadata")||Bi(m,"ext.web")),f[m]=h),h}function g(m,v,h,x,S,_,y){Ne(m,function(K,te){var A=null;if(te||nt(te)){var Y=h,z=K,oe=S,Z=v;if(u&&!x&&bw.test(K)){var ce=K.split("."),w=ce.length;if(w>1){oe&&(oe=oe.slice());for(var E=0;E<w-1;E++){var M=ce[E];Z=Z[M]=Z[M]||{},Y+="."+M,oe&&oe.push(M)}z=ce[w-1]}}var H=x&&p(Y,z);if(!H&&l&&l.handleField(Y,z)?A=l.value(Y,z,te,r):A=Ta(z,te,r),A){var X=A.value;if(Z[z]=X,_&&_(oe,z,A),y&&typeof X=="object"&&!me(X)){var I=oe;I&&(I=I.slice(),I.push(z)),g(te,X,Y+"."+z,x,I,_,y)}}}})}})}return t}()});function Yg(t){return!(t>=300&&t<500&&t!=408&&t!=429||t==501||t==505)}function hu(t){var e=0,n=Jg*Cw,r=Jg*Sw,i=Math.floor(Math.random()*(r-n))+n;return e=Math.pow(2,t)*i,Math.min(e,Iw)}var Cw,Sw,Jg,Iw,uf=se(()=>{Cw=.8,Sw=1.2,Jg=3e3,Iw=6e5});var Ew,Tw,Zg,em=se(()=>{mt();ui();Ew=1e3,Tw=function(){function t(){var e={};function n(r){var i=[];return r&&J(r,function(o){i.push(Le(o))}),i}Se(t,this,function(r){r.setKillSwitchTenants=function(i,o){if(i&&o)try{var a=n(i.split(","));if(o==="this-request-only")return a;for(var s=parseInt(o,10)*Ew,u=0;u<a.length;++u)e[a[u]]=st()+s}catch{return[]}return[]},r.isTenantKilled=function(i){var o=e,a=Le(i);return o[a]!==void 0&&o[a]>st()?!0:(delete o[a],!1)}})}return t}(),Zg=Tw});var _w,tm,nm=se(()=>{mt();_w=function(){function t(){var e=!0,n=!0,r=!0,i="use-collector-delta",o=!1;Se(t,this,function(a){a.allowRequestSending=function(){return e},a.firstRequestSent=function(){r&&(r=!1,o||(e=!1))},a.shouldAddClockSkewHeaders=function(){return n},a.getClockSkewHeaderValue=function(){return i},a.setClockSkew=function(s){o||(s?(i=s,n=!0,o=!0):n=!1,e=!0)}})}return t}(),tm=_w});function fi(t,e,n){lf[t]=e,n!==!1&&(ff[e]=t)}function im(t){try{return t.responseText}catch{}return""}function om(t,e){var n=!1;if(t&&e){var r=It(t);if(r&&r.length>0)for(var i=e.toLowerCase(),o=0;o<r.length;o++){var a=r[o];if(a&&Sn(e,a)&&a.toLowerCase()===i){n=!0;break}}}return n}function vo(t,e,n,r){e&&n&&n.length>0&&(r&&lf[e]?(t.hdrs[lf[e]]=n,t.useHdrs=!0):t.url+="&"+e+"="+n)}var li,cf,rm,Pw,lf,ff,am,sm=se(()=>{ui();$g();uf();em();nm();mt();gu();cf="sendAttempt",rm="&"+zg+"=true",Pw=(li={},li[1]=Zl,li[100]=Zl,li[200]="sent",li[8004]=cu,li[8003]=cu,li),lf={},ff={};fi(Ra,Ra,!1);fi(fu,fu);fi(of,"Client-Id");fi(vu,vu);fi(du,du);fi(pu,pu);fi(af,af);am=function(){function t(e,n,r,i,o){this._responseHandlers=[];var a="?cors=true&"+lu.toLowerCase()+"="+ef,s=new Zg,u=!1,c=new tm,l=!1,f=0,d,p,g,m=!0,v=[],h={},x=[],S=null,_=!1,y,K=!1,te=!1,A,Y;Se(t,this,function(z){var oe=!0;z.initialize=function(b,k,F,O,ee){var ge;ee||(ee={}),a=b+a,te=Te(ee.avoidOptions)?!0:!ee.avoidOptions,g=k,y=k.getCookieMgr(),_=!g.config.disableEventTimings;var de=!!g.config.enableCompoundKey;d=F;var we=ee.valueSanitizer,pe=ee.stringifyObjects;Te(ee.enableCompoundKey)||(de=!!ee.enableCompoundKey),A=ee.xhrTimeout,Y=ee.disableXhrSync,l=!Wn(),S=new Xg(g,we,pe,de);var re=O,C=ee.alwaysUseXhrOverride?O:null,P=ee.alwaysUseXhrOverride?O:null;if(!O){m=!1;var N=Xr();N&&N.protocol&&N.protocol.toLowerCase()==="file:"&&(oe=!1);var j=[];Wn()?j=[2,1]:j=[1,2,3];var ae=ee.transports;ae&&(Ut(ae)?j=[ae].concat(j):me(ae)&&(j=ae.concat(j))),O=Z(j,!1),re=Z(j,!0),O||d.diagLog().warnToConsole("No available transport to send events")}p=(ge={},ge[0]=O,ge[1]=re||Z([1,2,3],!0),ge[2]=C||Z([3,2],!0)||re||Z([1],!0),ge[3]=P||Z([2,3],!0)||re||Z([1],!0),ge)};function Z(b,k){for(var F=0,O=null,ee=0;O==null&&ee<b.length;)F=b[ee],F===1?$r()?O=ce:Qi()&&(O=E):F===2&&na(k)?O=w:l&&F===3&&vr()&&(O=H),ee++;return O?{_transport:F,_isSync:k,sendPOST:O}:null}z._getDbgPlgTargets=function(){return[p[0],s,S,p]};function ce(b,k,F){var O=new XDomainRequest;O.open(uu,b.urlString),b.timeout&&(O.timeout=b.timeout),O.onload=function(){var ee=im(O);M(k,200,{},ee),On(ee)},O.onerror=function(){M(k,400,{})},O.ontimeout=function(){M(k,500,{})},O.onprogress=function(){},F?O.send(b.data):o.set(function(){O.send(b.data)},0)}function w(b,k,F){var O,ee=b.urlString,ge=!1,de=!1,we=(O={body:b.data,method:uu},O[Ng]=!0,O);F&&(we.keepalive=!0,b._sendReason===2&&(ge=!0,ee+=rm)),oe&&(we.credentials="include"),b.headers&&It(b.headers).length>0&&(we.headers=b.headers),fetch(ee,we).then(function(pe){var re={},C="";pe.headers&&pe.headers.forEach(function(P,N){re[N]=P}),pe.body&&pe.text().then(function(P){C=P}),de||(de=!0,M(k,pe.status,re,C),On(C))}).catch(function(pe){de||(de=!0,M(k,0,{}))}),ge&&!de&&(de=!0,M(k,200,{})),!de&&b.timeout>0&&o.set(function(){de||(de=!0,M(k,500,{}))},b.timeout)}function E(b,k,F){var O=b.urlString;function ee(pe,re,C){if(!pe[C]&&re&&re.getResponseHeader){var P=re.getResponseHeader(C);P&&(pe[C]=Le(P))}return pe}function ge(pe){var re={};return pe.getAllResponseHeaders?re=Ye(pe.getAllResponseHeaders()):(re=ee(re,pe,rf),re=ee(re,pe,nf),re=ee(re,pe,qg)),re}function de(pe,re){M(k,pe.status,ge(pe),re)}F&&b.disableXhrSync&&(F=!1);var we=ou(uu,O,oe,!0,F,b.timeout);Ne(b.headers,function(pe,re){we.setRequestHeader(pe,re)}),we.onload=function(){var pe=im(we);de(we,pe),On(pe)},we.onerror=function(){de(we)},we.ontimeout=function(){de(we)},we.send(b.data)}function M(b,k,F,O){try{b(k,F,O)}catch(ee){We(d.diagLog(),2,518,qe(ee))}}function H(b,k,F){var O=b,ee=200,ge=O._thePayload,de=b.urlString+rm;try{var we=Vt();if(!we.sendBeacon(de,b.data))if(ge){var pe=[];J(ge.batches,function(re){if(pe&&re&&re.count()>0){for(var C=re.events(),P=0;P<C.length;P++)if(!we.sendBeacon(de,S.getEventBlob(C[P]))){pe.push(re.split(P));break}}else pe.push(re.split(0))}),Dt(pe,8003,ge.sendType,!0)}else ee=0}catch(re){d.diagLog().warnToConsole("Failed to send telemetry using sendBeacon API. Ex:"+qe(re)),ee=0}finally{M(k,ee,{},"")}}function X(b){return b===2||b===3}function I(b){return K&&X(b)&&(b=2),b}z.addQueryStringParameter=function(b,k){for(var F=0;F<v.length;F++)if(v[F].name===b){v[F].value=k;return}v.push({name:b,value:k})},z.addHeader=function(b,k){h[b]=k},z.canSendRequest=function(){return B()&&c.allowRequestSending()},z.sendQueuedRequests=function(b,k){Te(b)&&(b=0),K&&(b=I(b),k=2),G(x,b,0)&&T(Q(),0,!1,b,k||0)},z.isCompletelyIdle=function(){return!u&&f===0&&x.length===0},z.setUnloading=function(b){K=b},z.addBatch=function(b){if(b&&b.count()>0){if(s.isTenantKilled(b.iKey()))return!1;x.push(b)}return!0},z.teardown=function(){x.length>0&&T(Q(),0,!0,2,2)},z.pause=function(){u=!0},z.resume=function(){u=!1,z.sendQueuedRequests(0,4)},z.sendSynchronousBatch=function(b,k,F){b&&b.count()>0&&(fe(k)&&(k=1),K&&(k=I(k),F=2),T([b],0,!1,k,F||0))};function B(){return!u&&f<n}function Q(){var b=x;return x=[],b}function G(b,k,F){var O=!1;return b&&b.length>0&&!u&&p[k]&&S&&(O=k!==0||B()&&(F>0||c.allowRequestSending())),O}function le(b){var k={};return b&&J(b,function(F,O){k[O]={iKey:F.iKey(),evts:F.events()}}),k}function T(b,k,F,O,ee){if(!(!b||b.length===0)){if(u){Dt(b,1,O);return}O=I(O);try{var ge=b,de=O!==0;Xe(g,function(){return"HttpManager:_sendBatches"},function(we){we&&(b=b.slice(0));for(var pe=[],re=null,C=Tt(),P=p[O]||(de?p[1]:p[0]),N=(K||X(O)||P&&P._transport===3)&&L();G(b,O,k);){var j=b.shift();j&&j.count()>0&&(s.isTenantKilled(j.iKey())?pe.push(j):(re=re||S.createPayload(k,F,de,N,ee,O),S.appendPayload(re,j,e)?re.overflow!==null&&(b=[re.overflow].concat(b),re.overflow=null,$(re,C,Tt(),ee),C=Tt(),re=null):($(re,C,Tt(),ee),C=Tt(),b=[j].concat(b),re=null)))}re&&$(re,C,Tt(),ee),b.length>0&&(x=b.concat(x)),Dt(pe,8004,O)},function(){return{batches:le(ge),retryCount:k,isTeardown:F,isSynchronous:de,sendReason:ee,useSendBeacon:X(O),sendType:O}},!de)}catch(we){We(d.diagLog(),2,48,"Unexpected Exception sending batch: "+qe(we))}}}function R(b,k){var F={url:a,hdrs:{},useHdrs:!1};k?(F.hdrs=Ir(F.hdrs,h),F.useHdrs=It(F.hdrs).length>0):Ne(h,function(we,pe){ff[we]?vo(F,ff[we],pe,!1):(F.hdrs[we]=pe,F.useHdrs=!0)}),vo(F,of,"NO_AUTH",k),vo(F,fu,Jn,k);var O="";J(b.apiKeys,function(we){O.length>0&&(O+=","),O+=we}),vo(F,vu,O,k),vo(F,pu,st().toString(),k);var ee=rn(b);if(nt(ee)&&(F.url+="&ext.intweb.msfpc="+ee),c.shouldAddClockSkewHeaders()&&vo(F,du,c.getClockSkewHeaderValue(),k),g.getWParam){var ge=g.getWParam();ge>=0&&(F.url+="&w="+ge)}for(var de=0;de<v.length;de++)F.url+="&"+v[de].name+"="+v[de].value;return F}function L(){return!m&&l&&vr()}function q(b,k,F){b[k]=b[k]||{},b[k][d.identifier]=F}function $(b,k,F,O){if(b&&b.payloadBlob&&b.payloadBlob.length>0){var ee=!!z.sendHook,ge=p[b.sendType];!X(b.sendType)&&b.isBeacon&&b.sendReason===2&&(ge=p[2]||p[3]||ge);var de=te;(b.isBeacon||ge._transport===3)&&(de=!1);var we=R(b,de);de=de||we.useHdrs;var pe=Tt();Xe(g,function(){return"HttpManager:_doPayloadSend"},function(){for(var re=0;re<b.batches.length;re++)for(var C=b.batches[re],P=C.events(),N=0;N<P.length;N++){var j=P[N];if(_){var ae=j.timings=j.timings||{};q(ae,"sendEventStart",pe),q(ae,"serializationStart",k),q(ae,"serializationCompleted",F)}j[cf]>0?j[cf]++:j[cf]=1}Dt(b.batches,1e3+(O||0),b.sendType,!0);var ue={data:b.payloadBlob,urlString:we.url,headers:we.hdrs,_thePayload:b,_sendReason:O,timeout:A};Te(Y)||(ue.disableXhrSync=!!Y),de&&(om(ue.headers,tf)||(ue.headers[tf]=Hg),om(ue.headers,lu)||(ue.headers[lu]=ef));var Ge=null;ge&&(Ge=function(pt){c.firstRequestSent();var Mt=function(Rc,Ux){ne(Rc,Ux,b,O)},wn=b.isTeardown||b.isSync;try{ge.sendPOST(pt,Mt,wn),z.sendListener&&z.sendListener(ue,pt,wn,b.isBeacon)}catch(Rc){d.diagLog().warnToConsole("Unexpected exception sending payload. Ex:"+qe(Rc)),M(Mt,0,{})}}),Xe(g,function(){return"HttpManager:_doPayloadSend.sender"},function(){if(Ge)if(b.sendType===0&&f++,ee&&!b.isBeacon&&ge._transport!==3){var pt={data:ue.data,urlString:ue.urlString,headers:Ir({},ue.headers),timeout:ue.timeout,disableXhrSync:ue.disableXhrSync},Mt=!1;Xe(g,function(){return"HttpManager:_doPayloadSend.sendHook"},function(){try{z.sendHook(pt,function(wn){Mt=!0,!m&&!wn._thePayload&&(wn._thePayload=wn._thePayload||ue._thePayload,wn._sendReason=wn._sendReason||ue._sendReason),Ge(wn)},b.isSync||b.isTeardown)}catch{Mt||Ge(ue)}})}else Ge(ue)})},function(){return{thePayload:b,serializationStart:k,serializationCompleted:F,sendReason:O}},b.isSync)}b.sizeExceed&&b.sizeExceed.length>0&&Dt(b.sizeExceed,8003,b.sendType),b.failedEvts&&b.failedEvts.length>0&&Dt(b.failedEvts,8002,b.sendType)}function ie(b,k){_&&J(b,function(F){var O=F.timings=F.timings||{};q(O,"sendEventCompleted",k)})}function ne(b,k,F,O){var ee=9e3,ge=null,de=!1,we=!1;try{var pe=!0;if(typeof b!==et){if(k){c.setClockSkew(k[rf]);var re=k[nf]||k["kill-duration-seconds"];J(s.setKillSwitchTenants(k[Bg],re),function(P){J(F.batches,function(N){if(N.iKey()===P){ge=ge||[];var j=N.split(0);F.numEvents-=j.count(),ge.push(j)}})})}if(b==200||b==204){ee=200;return}(!Yg(b)||F.numEvents<=0)&&(pe=!1),ee=9e3+b%1e3}if(pe){ee=100;var C=F.retryCnt;F.sendType===0&&(C<r?(de=!0,Oe(function(){F.sendType===0&&f--,T(F.batches,C+1,F.isTeardown,K?2:F.sendType,5)},K,hu(C))):(we=!0,K&&(ee=8001)))}}finally{de||(c.setClockSkew(),xe(F,ee,O,we)),Dt(ge,8004,F.sendType)}}function xe(b,k,F,O){try{O&&d._backOffTransmission(),k===200&&(!O&&!b.isSync&&d._clearBackOff(),De(b.batches)),Dt(b.batches,k,b.sendType,!0)}finally{b.sendType===0&&(f--,F!==5&&z.sendQueuedRequests(b.sendType,F))}}function De(b){if(_){var k=Tt();J(b,function(F){F&&F.count()>0&&ie(F.events(),k)})}}function Oe(b,k,F){k?b():o.set(b,F)}function Ye(b){var k={};if(ze(b)){var F=Le(b).split(/[\r\n]+/);J(F,function(O){if(O){var ee=O.indexOf(": ");if(ee!==-1){var ge=Le(O.substring(0,ee)).toLowerCase(),de=Le(O.substring(ee+1));k[ge]=de}else k[Le(O)]=1}})}return k}function rn(b){for(var k=0;k<b.batches.length;k++){var F=b.batches[k].Msfpc();if(F)return encodeURIComponent(F)}return""}function On(b){var k=z._responseHandlers;try{for(var F=0;F<k.length;F++)try{k[F](b)}catch(ee){We(d.diagLog(),1,519,"Response handler failed: "+ee)}if(b){var O=JSON.parse(b);nt(O.webResult)&&nt(O.webResult[fo])&&y.set("MSFPC",O.webResult[fo],365*86400)}}catch{}}function Dt(b,k,F,O){if(b&&b.length>0&&i){var ee=i[Ft(k)];if(ee){var ge=F!==0;Xe(g,function(){return"HttpManager:_sendBatchesNotification"},function(){Oe(function(){try{ee.call(i,b,k,ge,F)}catch(de){We(d.diagLog(),1,74,"send request notification failed: "+de)}},O||ge,0)},function(){return{batches:le(b),reason:k,isSync:ge,sendSync:O,sendType:F}},!ge)}}}function Ft(b){var k=Pw[b];return nt(k)||(k=Og,b>=9e3&&b<=9999?k=Ug:b>=8e3&&b<=8999?k=cu:b>=1e3&&b<=1999&&(k=Lg)),k}})}return t}()});function Aw(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout(t,e,n)}function Rw(t){clearTimeout(t)}function ka(t,e){return{set:t||Aw,clear:e||Rw}}var um=se(()=>{});var kw,cm,Dw,lm,fm,Fw,dm,Mw,di,yu,pm,vm,Nw,Lw,gm,mm=se(()=>{Nt();mt();ui();Yl();sf();sm();uf();gu();um();kw=.25,cm=500,Dw=20,lm=6,fm=2,Fw=4,dm=2,Mw=1,di="eventsDiscarded",yu="overrideInstrumentationKey",pm="maxEventRetryAttempts",vm="maxUnloadEventRetryAttempts",Nw="addUnloadCb",Lw=function(t){an(e,t);function e(){var n=t.call(this)||this;n.identifier="PostChannel",n.priority=1011,n.version="3.2.3";var r,i=!1,o=[],a=null,s=!1,u=0,c=500,l=0,f=1e4,d={},p=ci,g=null,m=null,v=0,h=0,x,S,_={},y,K,te=-1,A,Y=!0,z=!1,oe=lm,Z=fm,ce,w;return Se(e,n,function(E,M){T(),E._getDbgPlgTargets=function(){return[S]},E.initialize=function(C,P,N){Xe(P,function(){return"PostChannel:initialize"},function(){var j=P;M.initialize(C,P,N);try{var ae=!!P[Nw];ce=Kn(fn(E.identifier),P.evtNamespace&&P.evtNamespace());var ue=E._getTelCtx();C.extensionConfig[E.identifier]=C.extensionConfig[E.identifier]||{},r=ue.getExtCfg(E.identifier),w=ka(r.setTimeoutOverride,r.clearTimeoutOverride),Y=!r.disableOptimizeObj&&iu(),H(j),r.eventsLimitInMem>0&&(f=r.eventsLimitInMem),r.immediateEventLimit>0&&(c=r.immediateEventLimit),r.autoFlushEventsLimit>0&&(y=r.autoFlushEventsLimit),Ut(r[pm])&&(oe=r[pm]),Ut(r[vm])&&(Z=r[vm]),re(),r.httpXHROverride&&r.httpXHROverride.sendPOST&&(x=r.httpXHROverride),nt(C.anonCookieName)&&S.addQueryStringParameter("anoncknm",C.anonCookieName),S.sendHook=r.payloadPreprocessor,S.sendListener=r.payloadListener;var Ge=r.overrideEndpointUrl?r.overrideEndpointUrl:C.endpointUrl;E._notificationManager=C.extensionConfig.NotificationManager,S.initialize(Ge,E.core,E,x,r);var pt=C.disablePageUnloadEvents||[];ni(X,pt,ce),to(X,pt,ce),no(I,C.disablePageShowEvents,ce)}catch(Mt){throw E.setInitialized(!1),Mt}},function(){return{coreConfig:C,core:P,extensions:N}})},E.processTelemetry=function(C,P){co(C,E.identifier),P=E._getTelCtx(P);var N=P.getExtCfg(E.identifier),j=!!r.disableTelemetry;N&&(j=j||!!N.disableTelemetry);var ae=C;!j&&!i&&(r[yu]&&(ae.iKey=r[yu]),N&&N[yu]&&(ae.iKey=N[yu]),B(ae,!0),z?q(2,2):le()),E.processNext(ae,P)},E._doTeardown=function(C,P){q(2,2),i=!0,S.teardown(),pa(null,ce),va(null,ce),ga(null,ce),T()};function H(C){var P=C.getWParam;C.getWParam=function(){var N=0;return r.ignoreMc1Ms0CookieProcessing&&(N=N|2),N|P()}}function X(C){var P=C||In().event;P.type!=="beforeunload"&&(z=!0,S.setUnloading(z)),q(2,2)}function I(C){z=!1,S.setUnloading(z)}function B(C,P){if(C.sendAttempt||(C.sendAttempt=0),C.latency||(C.latency=1),C.ext&&C.ext.trace&&delete C.ext.trace,C.ext&&C.ext.user&&C.ext.user.id&&delete C.ext.user.id,Y&&(C.ext=qn(C.ext),C.baseData&&(C.baseData=qn(C.baseData)),C.data&&(C.data=qn(C.data))),C.sync){if(v||s)C.latency=3,C.sync=!1;else if(S){Y&&(C=qn(C)),S.sendSynchronousBatch(po.create(C.iKey,[C]),C.sync===!0?1:C.sync,3);return}}var N=C.latency,j=l,ae=f;N===4&&(j=u,ae=c);var ue=!1;if(j<ae)ue=!xe(C,P);else{var Ge=1,pt=Dw;N===4&&(Ge=4,pt=1),ue=!0,De(C.iKey,C.latency,Ge,pt)&&(ue=!xe(C,P))}ue&&F(di,[C],un.QueueFull)}E.setEventQueueLimits=function(C,P){f=C>0?C:1e4,y=P>0?P:0,re();var N=l>C;if(!N&&K>0)for(var j=1;!N&&j<=3;j++){var ae=_[j];ae&&ae.batches&&J(ae.batches,function(ue){ue&&ue.count()>=K&&(N=!0)})}ne(!0,N)},E.pause=function(){L(),s=!0,S.pause()},E.resume=function(){s=!1,S.resume(),le()},E.addResponseHandler=function(C){S._responseHandlers.push(C)},E._loadTransmitProfiles=function(C){Dt(),Ne(C,function(P,N){var j=N.length;if(j>=2){var ae=j>2?N[2]:0;if(N.splice(0,j-2),N[1]<0&&(N[0]=-1),N[1]>0&&N[0]>0){var ue=N[0]/N[1];N[0]=Math.ceil(ue)*N[1]}ae>=0&&N[1]>=0&&ae>N[1]&&(ae=N[1]),N.push(ae),d[P]=N}})},E.flush=function(C,P,N){if(C===void 0&&(C=!0),!s)if(N=N||1,C)a==null?(L(),Ye(1,0,N),a=R(function(){a=null,rn(P,N)},0)):o.push(P);else{var j=L();Q(1,1,N),P!=null&&P(),j&&le()}},E.setMsaAuthTicket=function(C){S.addHeader(Ra,C)},E.hasEvents=G,E._setTransmitProfile=function(C){p!==C&&d[C]!==void 0&&(L(),p=C,le())};function Q(C,P,N){var j=Ye(C,P,N);return S.sendQueuedRequests(P,N),j}function G(){return l>0}function le(){if(te>=0&&Ye(te,0,A)&&S.sendQueuedRequests(0,A),u>0&&!m&&!s){var C=d[p][2];C>=0&&(m=R(function(){m=null,Q(4,0,1),le()},C))}var P=d[p][1];!g&&!a&&P>=0&&!s&&(G()?g=R(function(){g=null,Q(h===0?3:1,0,1),h++,h%=2,le()},P):h=0)}E._backOffTransmission=function(){v<Fw&&(v++,L(),le())},E._clearBackOff=function(){v&&(v=0,L(),le())};function T(){r=null,i=!1,o=[],a=null,s=!1,u=0,c=500,l=0,f=1e4,d={},p=ci,g=null,m=null,v=0,h=0,x=null,_={},y=void 0,K=0,te=-1,A=null,Y=!0,z=!1,oe=lm,Z=fm,ce=null,w=ka(),S=new am(cm,dm,Mw,{requeue:b,send:ee,sent:ge,drop:de,rspFail:we,oth:pe},w),Ft(),$(),re()}function R(C,P){P===0&&v&&(P=1);var N=1e3;return v&&(N=hu(v-1)),w.set(C,P*N)}function L(){return g!==null?(w.clear(g),g=null,h=0,!0):!1}function q(C,P){L(),a&&(w.clear(a),a=null),s||Q(1,C,P)}function $(){_[4]={batches:[],iKeyMap:{}},_[3]={batches:[],iKeyMap:{}},_[2]={batches:[],iKeyMap:{}},_[1]={batches:[],iKeyMap:{}}}function ie(C,P,N){var j=_[P];j||(P=1,j=_[P]);var ae=j.iKeyMap[C];return!ae&&N&&(ae=po.create(C),j.batches.push(ae),j.iKeyMap[C]=ae),ae}function ne(C,P){S.canSendRequest()&&!v&&(y>0&&l>y&&(P=!0),P&&a==null&&E.flush(C,null,20))}function xe(C,P){Y&&(C=qn(C));var N=C.latency,j=ie(C.iKey,N,!0);return j.addEvent(C)?(N!==4?(l++,P&&C.sendAttempt===0&&ne(!C.sync,K>0&&j.count()>=K)):u++,!0):!1}function De(C,P,N,j){for(;N<=P;){var ae=ie(C,P,!0);if(ae&&ae.count()>0){var ue=ae.split(0,j),Ge=ue.count();if(Ge>0)return N===4?u-=Ge:l-=Ge,O(di,[ue],un.QueueFull),!0}N++}return Oe(),!1}function Oe(){for(var C=0,P=0,N=function(ae){var ue=_[ae];ue&&ue.batches&&J(ue.batches,function(Ge){ae===4?C+=Ge.count():P+=Ge.count()})},j=1;j<=4;j++)N(j);l=P,u=C}function Ye(C,P,N){var j=!1,ae=P===0;return!ae||S.canSendRequest()?Xe(E.core,function(){return"PostChannel._queueBatches"},function(){for(var ue=[],Ge=4;Ge>=C;){var pt=_[Ge];pt&&pt.batches&&pt.batches.length>0&&(J(pt.batches,function(Mt){S.addBatch(Mt)?j=j||Mt&&Mt.count()>0:ue=ue.concat(Mt.events()),Ge===4?u-=Mt.count():l-=Mt.count()}),pt.batches=[],pt.iKeyMap={}),Ge--}ue.length>0&&F(di,ue,un.KillSwitch),j&&te>=C&&(te=-1,A=0)},function(){return{latency:C,sendType:P,sendReason:N}},!ae):(te=te>=0?Math.min(te,C):C,A=Math.max(A,N)),j}function rn(C,P){Q(1,0,P),Oe(),On(function(){C&&C(),o.length>0?a=R(function(){a=null,rn(o.shift(),P)},0):(a=null,le())})}function On(C){S.isCompletelyIdle()?C():a=R(function(){a=null,On(C)},kw)}function Dt(){L(),Ft(),p=ci,le()}function Ft(){d={},d[ci]=[2,1,0],d[au]=[6,3,0],d[su]=[18,9,0]}function b(C,P){var N=[],j=oe;z&&(j=Z),J(C,function(ae){ae&&ae.count()>0&&J(ae.events(),function(ue){ue&&(ue.sync&&(ue.latency=4,ue.sync=!1),ue.sendAttempt<j?(co(ue,E.identifier),B(ue,!1)):N.push(ue))})}),N.length>0&&F(di,N,un.NonRetryableStatus),z&&q(2,2)}function k(C,P){var N=E._notificationManager||{},j=N[C];if(j)try{j.apply(N,P)}catch(ae){We(E.diagLog(),1,74,C+" notification failed: "+ae)}}function F(C,P){for(var N=[],j=2;j<arguments.length;j++)N[j-2]=arguments[j];P&&P.length>0&&k(C,[P].concat(N))}function O(C,P){for(var N=[],j=2;j<arguments.length;j++)N[j-2]=arguments[j];P&&P.length>0&&J(P,function(ae){ae&&ae.count()>0&&k(C,[ae.events()].concat(N))})}function ee(C,P,N){C&&C.length>0&&k("eventsSendRequest",[P>=1e3&&P<=1999?P-1e3:0,N!==!0])}function ge(C,P){O("eventsSent",C,P),le()}function de(C,P){O(di,C,P>=8e3&&P<=8999?P-8e3:un.Unknown)}function we(C){O(di,C,un.NonRetryableStatus),le()}function pe(C,P){O(di,C,un.Unknown),le()}function re(){!r||!r.disableAutoBatchFlushLimit?K=Math.max(cm*(dm+1),f/6):K=0}Wt(E,"_setTimeoutOverride",function(){return w.set},function(C){w=ka(C,w.clear)}),Wt(E,"_clearTimeoutOverride",function(){return w.clear},function(C){w=ka(w.set,C)})}),n}return e}(ii),gm=Lw});var hm={};kc(hm,{BE_PROFILE:()=>su,NRT_PROFILE:()=>au,PostChannel:()=>gm,RT_PROFILE:()=>ci});var ym=se(()=>{mm();Yl()});var IS={};kc(IS,{activate:()=>CS,deactivate:()=>SS});var fr=dr(require("vscode"));var sx=dr(require("vscode")),xm=Object.defineProperty,wm=Object.getOwnPropertySymbols,Uw=Object.prototype.hasOwnProperty,Ow=Object.prototype.propertyIsEnumerable,bm=(t,e,n)=>e in t?xm(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Tn=(t,e)=>{for(var n in e||(e={}))Uw.call(e,n)&&bm(t,n,e[n]);if(wm)for(var n of wm(e))Ow.call(e,n)&&bm(t,n,e[n]);return t},D=(t,e)=>()=>(t&&(e=t(t=0)),e),Hw=(t,e)=>{for(var n in e)xm(t,n,{get:e[n],enumerable:!0})},go=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{s(n.next(u))}catch(c){i(c)}},a=u=>{try{s(n.throw(u))}catch(c){i(c)}},s=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,a);s((n=n.apply(t,e)).next())}),Cm,Bw=D(()=>{Cm={Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5}}),mo,_n,Yn,Kt,xu,Zn,wu,bu,Sm,Im,Da,df=D(()=>{mo="function",_n="object",Yn="undefined",Kt="prototype",xu="hasOwnProperty",Zn=Object,wu=Zn[Kt],bu=Zn.assign,Sm=Zn.create,Im=Zn.defineProperty,Da=wu[xu]});function ho(){return typeof globalThis!==Yn&&globalThis?globalThis:typeof self!==Yn&&self?self:typeof window!==Yn&&window?window:typeof global!==Yn&&global?global:null}function pf(t){throw new TypeError(t)}function Cu(t){var e=Sm;if(e)return e(t);if(t==null)return{};var n=typeof t;n!==_n&&n!==mo&&pf("Object prototype may only be an Object:"+t);function r(){}return r[Kt]=t,new r}var Em=D(()=>{df()});function Re(t,e){typeof e!==mo&&e!==null&&pf("Class extends value "+String(e)+" is not a constructor or null"),Su(t,e);function n(){this.constructor=t}t[Kt]=e===null?Cu(e):(n[Kt]=e[Kt],new n)}var qw,zw,Tm,yo,Su,jw=D(()=>{df(),Em(),qw=(ho()||{}).Symbol,zw=(ho()||{}).Reflect,Tm=function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)wu[xu].call(e,i)&&(t[i]=e[i])}return t},yo=bu||Tm,Su=function(t,e){return Su=Zn.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r[xu](i)&&(n[i]=r[i])},Su(t,e)}}),Ww=D(()=>{}),Fe=D(()=>{df(),Em(),jw(),Ww()});function er(t,e){return t&&Ua[Pn].hasOwnProperty.call(t,e)}function _m(t){return t&&(t===Ua[Pn]||t===Array[Pn])}function vf(t){return _m(t)||t===Function[Pn]}function pi(t){var e;if(t){if(wo)return wo(t);var n=t[wf]||t[Pn]||(t[Fa]?t[Fa][Pn]:null);e=t[La]||n,er(t,La)||(delete t[Pu],e=t[La]=t[Pu]||t[La],t[Pu]=n)}return e}function Iu(t,e){var n=[];if(Cf)n=Cf(t);else for(var r in t)typeof r=="string"&&er(t,r)&&n.push(r);if(n&&n.length>0)for(var i=0;i<n.length;i++)e(n[i])}function gf(t,e,n){return e!==Fa&&typeof t[e]===Ma&&(n||er(t,e))}function Eu(t){throw new TypeError("DynamicProto: "+t)}function Vw(t){var e={};return Iu(t,function(n){!e[n]&&gf(t,n,!1)&&(e[n]=t[n])}),e}function mf(t,e){for(var n=t.length-1;n>=0;n--)if(t[n]===e)return!0;return!1}function Kw(t,e,n,r){function i(u,c,l){var f=c[l];if(f[Tu]&&r){var d=u[Na]||{};d[xo]!==!1&&(f=(d[c[vi]]||{})[l]||f)}return function(){return f.apply(u,arguments)}}var o={};Iu(n,function(u){o[u]=i(e,n,u)});for(var a=pi(t),s=[];a&&!vf(a)&&!mf(s,a);)Iu(a,function(u){!o[u]&&gf(a,u,!wo)&&(o[u]=i(e,a,u))}),s.push(a),a=pi(a);return o}function Gw(t,e,n,r){var i=null;if(t&&er(n,vi)){var o=t[Na]||{};if(i=(o[n[vi]]||{})[e],i||Eu("Missing ["+e+"] "+Ma),!i[_u]&&o[xo]!==!1){for(var a=!er(t,e),s=pi(t),u=[];a&&s&&!vf(s)&&!mf(u,s);){var c=s[e];if(c){a=c===r;break}u.push(s),s=pi(s)}try{a&&(t[e]=i),i[_u]=1}catch{o[xo]=!1}}}return i}function Xw(t,e,n){var r=e[t];return r===n&&(r=pi(e)[t]),typeof r!==Ma&&Eu("["+t+"] is not a "+Ma),r}function Qw(t,e,n,r,i){function o(u,c){var l=function(){var f=Gw(this,c,u,l)||Xw(c,u,l);return f.apply(this,arguments)};return l[Tu]=1,l}if(!_m(t)){var a=n[Na]=n[Na]||{},s=a[e]=a[e]||{};a[xo]!==!1&&(a[xo]=!!i),Iu(n,function(u){gf(n,u,!1)&&n[u]!==r[u]&&(s[u]=n[u],delete n[u],(!er(t,u)||t[u]&&!t[u][Tu])&&(t[u]=o(t,u)))})}}function $w(t,e){if(wo){for(var n=[],r=pi(e);r&&!vf(r)&&!mf(n,r);){if(r===t)return!0;n.push(r),r=pi(r)}return!1}return!0}function hf(t,e){return er(t,Pn)?t.name||e||xf:((t||{})[Fa]||{}).name||e||xf}function Je(t,e,n,r){er(t,Pn)||Eu("theClass is an invalid class definition.");var i=t[Pn];$w(i,e)||Eu("["+hf(t)+"] is not in class hierarchy of ["+hf(e)+"]");var o=null;er(i,vi)?o=i[vi]:(o=Pm+hf(t,"_")+"$"+Sf,Sf++,i[vi]=o);var a=Je[yf],s=!!a[Au];s&&r&&r[Au]!==void 0&&(s=!!r[Au]);var u=Vw(e),c=Kw(i,e,u,s);n(e,c);var l=!!wo&&!!a[bf];l&&r&&(l=!!r[bf]),Qw(i,o,e,u,l!==!1)}var Fa,Pn,Ma,Na,Tu,vi,Pm,_u,xo,yf,xf,wf,La,Pu,Au,bf,Ua,wo,Cf,Sf,Am,dt=D(()=>{Fa="constructor",Pn="prototype",Ma="function",Na="_dynInstFuncs",Tu="_isDynProxy",vi="_dynClass",Pm="_dynCls$",_u="_dynInstChk",xo=_u,yf="_dfOpts",xf="_unknown_",wf="__proto__",La="_dyn"+wf,Pu="_dynInstProto",Au="useBaseInst",bf="setInstFuncs",Ua=Object,wo=Ua.getPrototypeOf,Cf=Ua.getOwnPropertyNames,Sf=0,Am={setInstFuncs:!0,useBaseInst:!0},Je[yf]=Am}),W,U,Ru=D(()=>{(function(t){t[t.CRITICAL=1]="CRITICAL",t[t.WARNING=2]="WARNING"})(W||(W={})),U={BrowserDoesNotSupportLocalStorage:0,BrowserCannotReadLocalStorage:1,BrowserCannotReadSessionStorage:2,BrowserCannotWriteLocalStorage:3,BrowserCannotWriteSessionStorage:4,BrowserFailedRemovalFromLocalStorage:5,BrowserFailedRemovalFromSessionStorage:6,CannotSendEmptyTelemetry:7,ClientPerformanceMathError:8,ErrorParsingAISessionCookie:9,ErrorPVCalc:10,ExceptionWhileLoggingError:11,FailedAddingTelemetryToBuffer:12,FailedMonitorAjaxAbort:13,FailedMonitorAjaxDur:14,FailedMonitorAjaxOpen:15,FailedMonitorAjaxRSC:16,FailedMonitorAjaxSend:17,FailedMonitorAjaxGetCorrelationHeader:18,FailedToAddHandlerForOnBeforeUnload:19,FailedToSendQueuedTelemetry:20,FailedToReportDataLoss:21,FlushFailed:22,MessageLimitPerPVExceeded:23,MissingRequiredFieldSpecification:24,NavigationTimingNotSupported:25,OnError:26,SessionRenewalDateIsZero:27,SenderNotInitialized:28,StartTrackEventFailed:29,StopTrackEventFailed:30,StartTrackFailed:31,StopTrackFailed:32,TelemetrySampledAndNotSent:33,TrackEventFailed:34,TrackExceptionFailed:35,TrackMetricFailed:36,TrackPVFailed:37,TrackPVFailedCalc:38,TrackTraceFailed:39,TransmissionFailed:40,FailedToSetStorageBuffer:41,FailedToRestoreStorageBuffer:42,InvalidBackendResponse:43,FailedToFixDepricatedValues:44,InvalidDurationValue:45,TelemetryEnvelopeInvalid:46,CreateEnvelopeError:47,CannotSerializeObject:48,CannotSerializeObjectNonSerializable:49,CircularReferenceDetected:50,ClearAuthContextFailed:51,ExceptionTruncated:52,IllegalCharsInName:53,ItemNotInArray:54,MaxAjaxPerPVExceeded:55,MessageTruncated:56,NameTooLong:57,SampleRateOutOfRange:58,SetAuthContextFailed:59,SetAuthContextFailedAccountName:60,StringValueTooLong:61,StartCalledMoreThanOnce:62,StopCalledWithoutStart:63,TelemetryInitializerFailed:64,TrackArgumentsNotSpecified:65,UrlTooLong:66,SessionStorageBufferFull:67,CannotAccessCookie:68,IdTooLong:69,InvalidEvent:70,FailedMonitorAjaxSetRequestHeader:71,SendBrowserInfoOnUserInit:72,PluginException:73,NotificationException:74,SnippetScriptLoadFailure:99,InvalidInstrumentationKey:100,CannotParseAiBlobValue:101,InvalidContentBlob:102,TrackPageActionEventFailed:103}});function If(t){return wu.toString.call(t)}function Jw(t,e){return typeof t===e}function _t(t){return t===void 0||typeof t===Yn}function V(t){return t===null||_t(t)}function Yw(t){return!V(t)}function Ef(t,e){return t&&Da.call(t,e)}function gi(t){return typeof t===_n}function Ie(t){return typeof t===mo}function Oa(t,e,n,r){r===void 0&&(r=!1);var i=!1;if(!V(t))try{V(t[Df])?V(t[kf])||(t[kf](Rf+e,n),i=!0):(t[Df](e,n,r),i=!0)}catch{}return i}function Rm(t,e,n,r){if(r===void 0&&(r=!1),!V(t))try{V(t[Mf])?V(t[Ff])||t[Ff](Rf+e,n):t[Mf](e,n,r)}catch{}}function Zw(t){var e=t,n=/([^\w\d_$])/g;return n.test(t)&&(e=t.replace(n,"_")),e}function ct(t,e){if(t)for(var n in t)Da.call(t,n)&&e.call(t,n,t[n])}function eb(t,e){if(t&&e){var n=e.length,r=t.length;if(t===e)return!0;if(r>=n){for(var i=r-1,o=n-1;o>=0;o--){if(t[i]!=e[o])return!1;i--}return!0}}return!1}function xt(t,e){return t&&e?t.indexOf(e)!==-1:!1}function Tf(t){return If(t)==="[object Date]"}function tr(t){return If(t)==="[object Array]"}function ku(t){return If(t)==="[object Error]"}function he(t){return typeof t=="string"}function _f(t){return typeof t=="number"}function Pf(t){return typeof t=="boolean"}function Tr(t){if(Tf(t)){var e=function(n){var r=String(n);return r.length===1&&(r="0"+r),r};return t.getUTCFullYear()+"-"+e(t.getUTCMonth()+1)+"-"+e(t.getUTCDate())+"T"+e(t.getUTCHours())+":"+e(t.getUTCMinutes())+":"+e(t.getUTCSeconds())+"."+String((t.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}function ye(t,e,n){for(var r=t.length,i=0;i<r&&!(i in t&&e.call(n||t,t[i],i,t)===-1);i++);}function Ha(t,e,n){for(var r=t.length,i=n||0,o=Math.max(i>=0?i:r-Math.abs(i),0);o<r;o++)if(o in t&&t[o]===e)return o;return-1}function Ba(t,e,n){for(var r=t.length,i=n||t,o=new Array(r),a=0;a<r;a++)a in t&&(o[a]=e.call(i,t[a],t));return o}function km(t,e,n){var r=t.length,i=0,o;if(arguments.length>=3)o=arguments[2];else{for(;i<r&&!(i in t);)i++;o=t[i++]}for(;i<r;)i in t&&(o=e(o,t[i],i,t)),i++;return o}function ht(t){return typeof t!="string"?t:t.replace(/^\s+|\s+$/g,"")}function mi(t){var e=typeof t;e!==mo&&(e!==_n||t===null)&&pf("objKeys called on non-object");var n=[];for(var r in t)t&&Da.call(t,r)&&n.push(r);if(Nm)for(var i=Du.length,o=0;o<i;o++)t&&Da.call(t,Du[o])&&n.push(Du[o]);return n}function bo(t,e,n,r){if(Nf)try{var i={enumerable:!0,configurable:!0};return n&&(i.get=n),r&&(i.set=r),Nf(t,e,i),!0}catch{}return!1}function en(){var t=Date;return t.now?t.now():new t().getTime()}function Pe(t){return ku(t)?t.name:""}function Ee(t,e,n,r,i){var o=n;return t&&(o=t[e],o!==n&&(!i||i(o))&&(!r||r(n))&&(o=n,t[e]=o)),o}function wt(t,e,n){var r;return t?(r=t[e],!r&&V(r)&&(r=_t(n)?{}:n,t[e]=r)):r=_t(n)?{}:n,r}function Dm(t){return!t}function Af(t){return!!t}function An(t){throw new Error(t)}function Fm(t,e,n){if(t&&e&&t!==e&&gi(t)&&gi(e)){var r=function(o){if(he(o)){var a=e[o];Ie(a)?(!n||n(o,!0,e,t))&&(t[o]=function(s){return function(){var u=arguments;return e[s].apply(e,u)}}(o)):(!n||n(o,!1,e,t))&&(Ef(t,o)&&delete t[o],bo(t,o,function(){return e[o]},function(s){e[o]=s})||(t[o]=a))}};for(var i in e)r(i)}return t}function tb(t){return function(){function e(){var n=this;t&&ct(t,function(r,i){n[r]=i})}return e}()}function Mm(t){return t&&(t=Zn(bu?bu({},t):t)),t}var Rf,kf,Df,Ff,Mf,Nf,nb,rb,Nm,Du,bt=D(()=>{Fe(),Rf="on",kf="attachEvent",Df="addEventListener",Ff="detachEvent",Mf="removeEventListener",Nf=Im,nb=Zn.freeze,rb=Zn.seal,Nm=!{toString:null}.propertyIsEnumerable("toString"),Du=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]});function Ct(t){var e=ho();return e&&e[t]?e[t]:t===Uf&&Fu()?window:null}function Fu(){return Boolean(typeof window===_n&&window)}function qa(){return Fu()?window:Ct(Uf)}function Lm(){return Boolean(typeof document===_n&&document)}function Rn(){return Lm()?document:Ct(Um)}function ib(){return Boolean(typeof navigator===_n&&navigator)}function kn(){return ib()?navigator:Ct(Om)}function ob(){return Boolean(typeof history===_n&&history)}function ab(){return ob()?history:Ct(Hm)}function hi(t){if(t&&Km){var e=Ct("__mockLocation");if(e)return e}return typeof location===_n&&location?location:Ct(Bm)}function sb(){return typeof console!==Yn?console:Ct(qm)}function nr(){return Ct(zm)}function Co(){return Boolean(typeof JSON===_n&&JSON||Ct(Of)!==null)}function vn(){return Co()?JSON||Ct(Of):null}function ub(){return Ct(jm)}function cb(){return Ct(Wm)}function lb(){var t=kn();return t&&t.product?t.product===Vm:!1}function Mu(){var t=kn();if(t&&(t.userAgent!==Ou||Uu===null)){Ou=t.userAgent;var e=(Ou||"").toLowerCase();Uu=xt(e,Nu)||xt(e,Lu)}return Uu}function Lf(t){if(t===void 0&&(t=null),!t){var e=kn()||{};t=e?(e.userAgent||"").toLowerCase():""}var n=(t||"").toLowerCase();if(xt(n,Nu))return parseInt(n.split(Nu)[1]);if(xt(n,Lu)){var r=parseInt(n.split(Lu)[1]);if(r)return r+4}return null}function ve(t){var e=Object[Kt].toString.call(t),n="";return e==="[object Error]"?n="{ stack: '"+t.stack+"', message: '"+t.message+"', name: '"+t.name+"'":Co()&&(n=vn().stringify(t)),e+n}var Uf,Um,Om,Hm,Bm,qm,zm,Of,jm,Wm,Vm,Nu,Lu,Uu,Ou,Km,za=D(()=>{"use strict";Fe(),bt(),Uf="window",Um="document",Om="navigator",Hm="history",Bm="location",qm="console",zm="performance",Of="JSON",jm="crypto",Wm="msCrypto",Vm="ReactNative",Nu="msie",Lu="trident/",Uu=null,Ou=null,Km=!1});function Gm(t){return t?'"'+t.replace(/\"/g,"")+'"':""}function Hu(t,e){return(t||{}).logger||new Hf(e)}var Xm,Qm,$m,So,Hf,Bf=D(()=>{"use strict";Ru(),za(),dt(),bt(),Xm="AI (Internal): ",Qm="AI: ",$m="AITR_",So=function(){function t(e,n,r,i){r===void 0&&(r=!1);var o=this;o.messageId=e,o.message=(r?Qm:Xm)+e;var a="";Co()&&(a=vn().stringify(i));var s=(n?" message:"+Gm(n):"")+(i?" props:"+Gm(a):"");o.message+=s}return t.dataType="MessageData",t}(),Hf=function(){function t(e){this.identifier="DiagnosticLogger",this.queue=[];var n=0,r={};Je(t,this,function(i){V(e)&&(e={}),i.consoleLoggingLevel=function(){return o("loggingLevelConsole",0)},i.telemetryLoggingLevel=function(){return o("loggingLevelTelemetry",1)},i.maxInternalMessageLimit=function(){return o("maxMessageLimit",25)},i.enableDebugExceptions=function(){return o("enableDebugExceptions",!1)},i.throwInternal=function(s,u,c,l,f){f===void 0&&(f=!1);var d=new So(u,c,f,l);if(i.enableDebugExceptions())throw d;if(!_t(d.message)){var p=i.consoleLoggingLevel();if(f){var g=+d.messageId;!r[g]&&p>=W.WARNING&&(i.warnToConsole(d.message),r[g]=!0)}else p>=W.WARNING&&i.warnToConsole(d.message);i.logInternalMessage(s,d)}},i.warnToConsole=function(s){var u=sb();if(u){var c="log";u.warn&&(c="warn"),Ie(u[c])&&u[c](s)}},i.resetInternalMessageCount=function(){n=0,r={}},i.logInternalMessage=function(s,u){if(!a()){var c=!0,l=$m+u.messageId;if(r[l]?c=!1:r[l]=!0,c&&(s<=i.telemetryLoggingLevel()&&(i.queue.push(u),n++),n===i.maxInternalMessageLimit())){var f="Internal events throttle limit per PageView reached for this app.",d=new So(U.MessageLimitPerPVExceeded,f,!1);i.queue.push(d),i.warnToConsole(f)}}};function o(s,u){var c=e[s];return V(c)?u:c}function a(){return n>=i.maxInternalMessageLimit()}})}return t}()});function Io(t,e,n,r,i){if(t){var o=t;if(Ie(o.getPerfMgr)&&(o=o.getPerfMgr()),o){var a=void 0,s=o.getCtx(Bu);try{if(a=o.create(e(),r,i),a){if(s&&a.setCtx&&(a.setCtx(Eo.ParentContextKey,s),s.getCtx&&s.setCtx)){var u=s.getCtx(Eo.ChildrenContextKey);u||(u=[],s.setCtx(Eo.ChildrenContextKey,u)),u.push(a)}return o.setCtx(Bu,a),n(a)}}catch(c){a&&a.setCtx&&a.setCtx("exception",c)}finally{a&&o.fire(a),o.setCtx(Bu,s)}}}return n()}var yi,Eo,qf,Bu,qu=D(()=>{dt(),bt(),yi="ctx",Eo=function(){function t(e,n,r){var i=this,o=!1;if(i.start=en(),i.name=e,i.isAsync=r,i.isChildEvt=function(){return!1},Ie(n)){var a;o=bo(i,"payload",function(){return!a&&Ie(n)&&(a=n(),n=null),a})}i.getCtx=function(s){return s?s===t.ParentContextKey||s===t.ChildrenContextKey?i[s]:(i[yi]||{})[s]:null},i.setCtx=function(s,u){if(s)if(s===t.ParentContextKey)i[s]||(i.isChildEvt=function(){return!0}),i[s]=u;else if(s===t.ChildrenContextKey)i[s]=u;else{var c=i[yi]=i[yi]||{};c[s]=u}},i.complete=function(){var s=0,u=i.getCtx(t.ChildrenContextKey);if(tr(u))for(var c=0;c<u.length;c++){var l=u[c];l&&(s+=l.time)}i.time=en()-i.start,i.exTime=i.time-s,i.complete=function(){},!o&&Ie(n)&&(i.payload=n())}}return t.ParentContextKey="parent",t.ChildrenContextKey="childEvts",t}(),qf=function(){function t(e){this.ctx={},Je(t,this,function(n){n.create=function(r,i,o){return new Eo(r,i,o)},n.fire=function(r){r&&(r.complete(),e&&e.perfEvent(r))},n.setCtx=function(r,i){if(r){var o=n[yi]=n[yi]||{};o[r]=i}},n.getCtx=function(r){return(n[yi]||{})[r]}})}return t}(),Bu="CoreUtils.doPerf"}),Jm,fb=D(()=>{"use strict";qu(),Ru(),bt(),Jm=function(){function t(e,n){var r=this,i=null,o=Ie(e.processTelemetry),a=Ie(e.setNextPlugin);r._hasRun=!1,r.getPlugin=function(){return e},r.getNext=function(){return i},r.setNext=function(s){i=s},r.processTelemetry=function(s,u){u||(u=n);var c=e?e.identifier:"TelemetryPluginChain";Io(u?u.core():null,function(){return c+":processTelemetry"},function(){if(e&&o){r._hasRun=!0;try{u.setNext(i),a&&e.setNextPlugin(i),i&&(i._hasRun=!1),e.processTelemetry(s,u)}catch(f){var l=i&&i._hasRun;(!i||!l)&&u.diagLog().throwInternal(W.CRITICAL,U.PluginException,"Plugin ["+e.identifier+"] failed during processTelemetry - "+f),i&&!l&&i.processTelemetry(s,u)}}else i&&(r._hasRun=!0,i.processTelemetry(s,u))},function(){return{item:s}},!s.sync)}}return t}()});function zf(t,e){var n=[];if(t&&t.length>0)for(var r=null,i=0;i<t.length;i++){var o=t[i];if(o&&Ie(o.processTelemetry)){var a=new Jm(o,e);n.push(a),r&&r.setNext(a),r=a}}return n.length>0?n[0]:null}function db(t,e,n){var r=[],i=!n;if(t)for(;t;){var o=t.getPlugin();(i||o===n)&&(i=!0,r.push(o)),t=t.getNext()}return i||r.push(n),zf(r,e)}function pb(t,e,n){var r=t,i=!1;return n&&t&&(r=[],ye(t,function(o){(i||o===n)&&(i=!0,r.push(o))})),n&&!i&&(r||(r=[]),r.push(n)),zf(r,e)}var xi,jf=D(()=>{"use strict";Bf(),fb(),bt(),xi=function(){function t(e,n,r,i){var o=this,a=null;i!==null&&(e&&Ie(e.getPlugin)?a=db(e,o,i||e.getPlugin()):i?a=pb(e,o,i):_t(i)&&(a=zf(e,o))),o.core=function(){return r},o.diagLog=function(){return Hu(r,n)},o.getCfg=function(){return n},o.getExtCfg=function(s,u){u===void 0&&(u={});var c;if(n){var l=n.extensionConfig;l&&s&&(c=l[s])}return c||u},o.getConfig=function(s,u,c){c===void 0&&(c=!1);var l,f=o.getExtCfg(s,null);return f&&!V(f[u])?l=f[u]:n&&!V(n[u])&&(l=n[u]),V(l)?c:l},o.hasNext=function(){return a!=null},o.getNext=function(){return a},o.setNext=function(s){a=s},o.processNext=function(s){var u=a;u&&(a=u.getNext(),u.processTelemetry(s,o))},o.createNew=function(s,u){return s===void 0&&(s=null),new t(s||a,n,r,u)}}return t}()}),Ym,Wf,Zm=D(()=>{Ym="iKey",Wf="extensionConfig"}),ja,wi,eh=D(()=>{"use strict";jf(),bt(),Zm(),ja="getPlugin",wi=function(){function t(){var e=this,n=!1,r=null,i=null;e.core=null,e.diagLog=function(o){return e._getTelCtx(o).diagLog()},e.isInitialized=function(){return n},e.setInitialized=function(o){n=o},e.setNextPlugin=function(o){i=o},e.processNext=function(o,a){a?a.processNext(o):i&&Ie(i.processTelemetry)&&i.processTelemetry(o,null)},e._getTelCtx=function(o){o===void 0&&(o=null);var a=o;if(!a){var s=r||new xi(null,{},e.core);i&&i[ja]?a=s.createNew(null,i[ja]):a=s.createNew(null,i)}return a},e._baseTelInit=function(o,a,s,u){o&&Ee(o,Wf,[],null,V),!u&&a&&(u=a.getProcessTelContext().getNext());var c=i;i&&i[ja]&&(c=i[ja]()),e.core=a,r=new xi(u,o,a,c),n=!0}}return t.prototype.initialize=function(e,n,r,i){this._baseTelInit(e,n,r,i)},t}()});function Vf(t,e){for(var n=[],r=null,i=t.getNext();i;){var o=i.getPlugin();o&&(r&&Ie(r[Gf])&&Ie(o[zu])&&r[Gf](o),(!Ie(o[Xf])||!o[Xf]())&&n.push(o),r=o,i=i.getNext())}ye(n,function(a){a.initialize(t.getCfg(),t.core(),e,t.getNext())})}function th(t){return t.sort(function(e,n){var r=0,i=Ie(n[zu]);return Ie(e[zu])?r=i?e[Kf]-n[Kf]:1:i&&(r=-1),r})}var zu,Kf,Gf,Xf,nh=D(()=>{"use strict";bt(),zu="processTelemetry",Kf="priority",Gf="setNextPlugin",Xf="isInitialized"}),ju,rh,ih,vb=D(()=>{"use strict";Fe(),dt(),eh(),jf(),nh(),bt(),ju=500,rh="Channel has invalid priority",ih=function(t){Re(e,t);function e(){var n=t.call(this)||this;n.identifier="ChannelControllerPlugin",n.priority=ju;var r;Je(e,n,function(s,u){s.setNextPlugin=function(c){},s.processTelemetry=function(c,l){r&&ye(r,function(f){if(f.length>0){var d=n._getTelCtx(l).createNew(f);d.processNext(c)}})},s.getChannelControls=function(){return r},s.initialize=function(c,l,f){s.isInitialized()||(u.initialize(c,l,f),a((c||{}).channels,f),ye(r,function(d){return Vf(new xi(d,c,l),f)}))}});function i(s){ye(s,function(u){u.priority<ju&&An(rh+u.identifier)})}function o(s){s&&s.length>0&&(s=s.sort(function(u,c){return u.priority-c.priority}),i(s),r.push(s))}function a(s,u){if(r=[],s&&ye(s,function(l){return o(l)}),u){var c=[];ye(u,function(l){l.priority>ju&&c.push(l)}),o(c)}}return n}return e._staticInit=function(){var n=e.prototype;bo(n,"ChannelControls",n.getChannelControls),bo(n,"channelQueue",n.getChannelControls)}(),e}(wi)});function oh(t,e){var n=Wa[rr]||Ka[rr];return n||(n=Wa[rr]=Wa(t,e),Ka[rr]=n),n}function Wu(t){return t?t.isEnabled():!0}function gb(t){var e=t.cookieCfg=t.cookieCfg||{};if(Ee(e,"domain",t.cookieDomain,Yw,V),Ee(e,"path",t.cookiePath||"/",null,V),V(e[Gu])){var n=void 0;_t(t[Yf])||(n=!t[Yf]),_t(t[Zf])||(n=!t[Zf]),e[Gu]=n}return e}function Qf(t,e){var n;if(t)n=t.getCookieMgr();else if(e){var r=e.cookieCfg;r[rr]?n=r[rr]:n=Wa(e)}return n||(n=oh(e,(t||{}).logger)),n}function Wa(t,e){var n=gb(t||Ka),r=n.path||"/",i=n.domain,o=n[Gu]!==!1,a={isEnabled:function(){var s=o&&ah(e),u=Ka[rr];return s&&u&&a!==u&&(s=Wu(u)),s},setEnabled:function(s){o=s!==!1},set:function(s,u,c,l,f){if(Wu(a)){var d={},p=ht(u||tn),g=p.indexOf(";");if(g!==-1&&(p=ht(u.substring(0,g)),d=sh(u.substring(g+1))),Ee(d,"domain",l||i,Af,_t),!V(c)){var m=Mu();if(_t(d[Ku])){var v=en(),h=v+c*1e3;if(h>0){var x=new Date;x.setTime(h),Ee(d,Ku,uh(x,m?$f:Jf)||uh(x,m?$f:Jf)||tn,Af)}}m||Ee(d,"max-age",tn+c,null,_t)}var S=hi();S&&S.protocol==="https:"&&(Ee(d,"secure",null,null,_t),Xu===null&&(Xu=!fh((kn()||{}).userAgent)),Xu&&Ee(d,"SameSite","None",null,_t)),Ee(d,"path",f||r,null,_t);var _=n.setCookie||lh;_(s,ch(p,d))}},get:function(s){var u=tn;return Wu(a)&&(u=(n.getCookie||mb)(s)),u},del:function(s,u){Wu(a)&&a.purge(s,u)},purge:function(s,u){if(ah(e)){var c=(f={},f.path=u||"/",f[Ku]="Thu, 01 Jan 1970 00:00:01 GMT",f);Mu()||(c["max-age"]="0");var l=n.delCookie||lh;l(s,ch(tn,c))}var f}};return a[rr]=a,a}function ah(t){if(Va===null){Va=!1;try{var e=To||{};Va=e[Vu]!==void 0}catch(n){t&&t.throwInternal(W.WARNING,U.CannotAccessCookie,"Cannot access document.cookie - "+Pe(n),{exception:ve(n)})}}return Va}function sh(t){var e={};if(t&&t.length){var n=ht(t).split(";");ye(n,function(r){if(r=ht(r||tn),r){var i=r.indexOf("=");i===-1?e[r]=null:e[ht(r.substring(0,i))]=ht(r.substring(i+1))}})}return e}function uh(t,e){return Ie(t[e])?t[e]():null}function ch(t,e){var n=t||tn;return ct(e,function(r,i){n+="; "+r+(V(i)?tn:"="+i)}),n}function mb(t){var e=tn;if(To){var n=To[Vu]||tn;ed!==n&&(td=sh(n),ed=n),e=ht(td[t]||tn)}return e}function lh(t,e){To&&(To[Vu]=t+"="+e)}function fh(t){return he(t)?!!(xt(t,"CPU iPhone OS 12")||xt(t,"iPad; CPU OS 12")||xt(t,"Macintosh; Intel Mac OS X 10_14")&&xt(t,"Version/")&&xt(t,"Safari")||xt(t,"Macintosh; Intel Mac OS X 10_14")&&eb(t,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||xt(t,"Chrome/5")||xt(t,"Chrome/6")||xt(t,"UnrealEngine")&&!xt(t,"Chrome")||xt(t,"UCBrowser/12")||xt(t,"UCBrowser/11")):!1}var $f,Jf,Vu,Ku,Gu,Yf,Zf,rr,tn,Va,Xu,ed,To,td,Ka,nd=D(()=>{Ru(),za(),bt(),$f="toGMTString",Jf="toUTCString",Vu="cookie",Ku="expires",Gu="enabled",Yf="isCookieUseDisabled",Zf="disableCookiesUsage",rr="_ckMgr",tn="",Va=null,Xu=null,ed=null,To=Rn(),td={},Ka={}}),dh,rd,id,ph=D(()=>{"use strict";Fe(),dt(),vb(),jf(),nh(),qu(),nd(),bt(),Zm(),dh="Extensions must provide callback to initialize",rd="_notificationManager",id=function(){function t(){var e=!1,n,r,i,o,a;Je(t,this,function(s){s._extensions=new Array,r=new ih,s.logger=Cu({throwInternal:function(u,c,l,f,d){d===void 0&&(d=!1)},warnToConsole:function(u){},resetInternalMessageCount:function(){}}),n=[],s.isInitialized=function(){return e},s.initialize=function(u,c,l,f){s.isInitialized()&&An("Core should not be initialized more than once"),(!u||V(u.instrumentationKey))&&An("Please provide instrumentation key"),i=f,s[rd]=f,s.config=u||{},u.extensions=V(u.extensions)?[]:u.extensions;var d=wt(u,Wf);d.NotificationManager=f,l&&(s.logger=l);var p=[];p.push.apply(p,c.concat(u.extensions)),p=th(p);var g=[],m=[],v={};ye(p,function(h){(V(h)||V(h.initialize))&&An(dh);var x=h.priority,S=h.identifier;h&&x&&(V(v[x])?v[x]=S:l.warnToConsole("Two extensions have same priority #"+x+" - "+v[x]+", "+S)),!x||x<r.priority?g.push(h):m.push(h)}),p.push(r),g.push(r),p=th(p),s._extensions=p,Vf(new xi([r],u,s),p),Vf(new xi(g,u,s),p),s._extensions=g,s.getTransmissionControls().length===0&&An("No channels available"),e=!0,s.releaseQueue()},s.getTransmissionControls=function(){return r.getChannelControls()},s.track=function(u){Ee(u,Ym,s.config.instrumentationKey,null,Dm),Ee(u,"time",Tr(new Date),null,Dm),Ee(u,"ver","4.0",null,V),s.isInitialized()?s.getProcessTelContext().processNext(u):n.push(u)},s.getProcessTelContext=function(){var u=s._extensions,c=u;return(!u||u.length===0)&&(c=[r]),new xi(c,s.config,s)},s.getNotifyMgr=function(){return i||(i=Cu({addNotificationListener:function(u){},removeNotificationListener:function(u){},eventsSent:function(u){},eventsDiscarded:function(u,c){},eventsSendRequest:function(u,c){}}),s[rd]=i),i},s.getCookieMgr=function(){return a||(a=Wa(s.config,s.logger)),a},s.setCookieMgr=function(u){a=u},s.getPerfMgr=function(){return o||s.config&&s.config.enablePerfMgr&&(o=new qf(s.getNotifyMgr())),o},s.setPerfMgr=function(u){o=u},s.eventCnt=function(){return n.length},s.releaseQueue=function(){n.length>0&&(ye(n,function(u){s.getProcessTelContext().processNext(u)}),n=[])}})}return t}()}),od,vh=D(()=>{dt(),bt(),od=function(){function t(e){this.listeners=[];var n=!!(e||{}).perfEvtsSendAll;Je(t,this,function(r){r.addNotificationListener=function(i){r.listeners.push(i)},r.removeNotificationListener=function(i){for(var o=Ha(r.listeners,i);o>-1;)r.listeners.splice(o,1),o=Ha(r.listeners,i)},r.eventsSent=function(i){ye(r.listeners,function(o){o&&o.eventsSent&&setTimeout(function(){return o.eventsSent(i)},0)})},r.eventsDiscarded=function(i,o){ye(r.listeners,function(a){a&&a.eventsDiscarded&&setTimeout(function(){return a.eventsDiscarded(i,o)},0)})},r.eventsSendRequest=function(i,o){ye(r.listeners,function(a){if(a&&a.eventsSendRequest)if(o)setTimeout(function(){return a.eventsSendRequest(i,o)},0);else try{a.eventsSendRequest(i,o)}catch{}})},r.perfEvent=function(i){i&&(n||!i.isChildEvt())&&ye(r.listeners,function(o){if(o&&o.perfEvent)if(i.isAsync)setTimeout(function(){return o.perfEvent(i)},0);else try{o.perfEvent(i)}catch{}})}})}return t}()}),ad,hb=D(()=>{Fe(),ph(),Bw(),vh(),qu(),Bf(),dt(),bt(),ad=function(t){Re(e,t);function e(){var n=t.call(this)||this;return Je(e,n,function(r,i){r.initialize=function(s,u,c,l){i.initialize(s,u,c||new Hf(s),l||new od(s))},r.track=function(s){Io(r.getPerfMgr(),function(){return"AppInsightsCore:track"},function(){s===null&&(a(s),An("Invalid telemetry item")),o(s),i.track(s)},function(){return{item:s}},!s.sync)},r.addNotificationListener=function(s){var u=r.getNotifyMgr();u&&u.addNotificationListener(s)},r.removeNotificationListener=function(s){var u=r.getNotifyMgr();u&&u.removeNotificationListener(s)},r.pollInternalLogs=function(s){var u=r.config.diagnosticLogInterval;return(!u||!(u>0))&&(u=1e4),setInterval(function(){var c=r.logger?r.logger.queue:[];ye(c,function(l){var f={name:s||"InternalMessageId: "+l.messageId,iKey:r.config.instrumentationKey,time:Tr(new Date),baseType:So.dataType,baseData:{message:l.message}};r.track(f)}),c.length=0},u)};function o(s){if(V(s.name))throw a(s),Error("telemetry name required")}function a(s){var u=r.getNotifyMgr();u&&u.eventsDiscarded([s],Cm.InvalidEvent)}}),n}return e}(id)});function gh(t){t<0&&(t>>>=0),_o=123456789+t&ir,Po=987654321-t&ir,ud=!0}function mh(){try{var t=en()&2147483647;gh((Math.random()*sd^t)+t)}catch{}}function hh(t){return t>0?Math.floor(bi()/ir*(t+1))>>>0:0}function bi(t){var e,n=ub()||cb();return n&&n.getRandomValues?e=n.getRandomValues(new Uint32Array(1))[0]&ir:Mu()?(ud||mh(),e=yh()&ir):e=Math.floor(sd*Math.random()|0),t||(e>>>=0),e}function yb(t){t?gh(t):mh()}function yh(t){Po=36969*(Po&65535)+(Po>>16)&ir,_o=18e3*(_o&65535)+(_o>>16)&ir;var e=(Po<<16)+(_o&65535)>>>0&ir|0;return t||(e>>>=0),e}var sd,ir,ud,_o,Po,xh=D(()=>{za(),bt(),sd=4294967296,ir=4294967295,ud=!1,_o=123456789,Po=987654321});function Ci(t,e){var n=!1,r=qa();r&&(n=Oa(r,t,e),n=Oa(r.body,t,e)||n);var i=Rn();return i&&(n=Xa.Attach(i,t,e)||n),n}function xb(){function t(){return hh(15)}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(bh,function(e){var n=t()|0,r=e==="x"?n:n&3|8;return r.toString(16)})}function wb(){var t=nr();return t&&t.now?t.now():en()}function Qu(t){t===void 0&&(t=22);for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=bi()>>>0,r=0,i="";i.length<t;)r++,i+=e.charAt(n&63),n>>>=6,r===5&&(n=(bi()<<2&4294967295|n&3)>>>0,r=0);return i}function Dn(){for(var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],e="",n,r=0;r<4;r++)n=bi(),e+=t[n&15]+t[n>>4&15]+t[n>>8&15]+t[n>>12&15]+t[n>>16&15]+t[n>>20&15]+t[n>>24&15]+t[n>>28&15];var i=t[8+(bi()&3)|0];return e.substr(0,8)+e.substr(9,4)+"4"+e.substr(13,3)+i+e.substr(16,3)+e.substr(19,12)}function Ao(t,e){var n=oh(t,e),r=$u._canUseCookies;return Ro===null&&(Ro=[],Ga=r,bo($u,"_canUseCookies",function(){return Ga},function(i){Ga=i,ye(Ro,function(o){o.setEnabled(i)})})),Ha(Ro,n)===-1&&Ro.push(n),Pf(r)&&n.setEnabled(r),Pf(Ga)&&n.setEnabled(Ga),n}function wh(){Ao().setEnabled(!1)}function bb(t){return Ao(null,t).isEnabled()}function Cb(t,e){return Ao(null,t).get(e)}function Sb(t,e,n,r){Ao(null,t).set(e,n,null,r)}function Ib(t,e){return Ao(null,t).del(e)}var Ro,Ga,$u,bh,Xa,Eb=D(()=>{"use strict";Fe(),nd(),za(),bt(),xh(),Ro=null,$u={_canUseCookies:void 0,isTypeof:Jw,isUndefined:_t,isNullOrUndefined:V,hasOwnProperty:Ef,isFunction:Ie,isObject:gi,isDate:Tf,isArray:tr,isError:ku,isString:he,isNumber:_f,isBoolean:Pf,toISOString:Tr,arrForEach:ye,arrIndexOf:Ha,arrMap:Ba,arrReduce:km,strTrim:ht,objCreate:Cu,objKeys:mi,objDefineAccessors:bo,addEventHandler:Ci,dateNow:en,isIE:Mu,disableCookies:wh,newGuid:xb,perfNow:wb,newId:Qu,randomValue:hh,random32:bi,mwcRandomSeed:yb,mwcRandom32:yh,generateW3CId:Dn},bh=/[xy]/g,Xa={Attach:Oa,AttachEvent:Oa,Detach:Rm,DetachEvent:Rm}});function cd(t,e){if(t)for(var n=0;n<t.length&&!e(t[n],n);n++);}function ld(t,e,n,r,i){i>=0&&i<=2&&cd(t,function(o,a){var s=o.cbks,u=s[pd[i]];if(u){e.ctx=function(){var f=r[a]=r[a]||{};return f};try{u.apply(e.inst,n)}catch(f){var c=e.err;try{var l=s[pd[2]];l&&(e.err=f,l.apply(e.inst,n))}catch{}finally{e.err=c}}}})}function Tb(t){return function(){var e=this,n=arguments,r=t.h,i={name:t.n,inst:e,ctx:null,set:u},o=[],a=s([i],n);function s(l,f){return cd(f,function(d){l.push(d)}),l}function u(l,f){n=s([],n),n[l]=f,a=s([i],n)}ld(r,i,a,o,0);var c=t.f;try{i.rslt=c.apply(e,n)}catch(l){throw i.err=l,ld(r,i,a,o,3),l}return ld(r,i,a,o,1),i.rslt}}function _b(t){if(t){if(vd)return vd(t);var e=t[Sh]||t[Kt]||t[Ih];if(e)return e}return null}function Ch(t,e,n){var r=null;return t&&(Ef(t,e)?r=t:n&&(r=Ch(_b(t),e,!1))),r}function Pb(t,e,n){return t?fd(t[Kt],e,n,!1):null}function fd(t,e,n,r){if(r===void 0&&(r=!0),t&&e&&n){var i=Ch(t,e,r);if(i){var o=i[e];if(typeof o===mo){var a=o[dd];if(!a){a={i:0,n:e,f:o,h:[]};var s=Tb(a);s[dd]=a,i[e]=s}var u={id:a.i,cbks:n,rm:function(){var c=this.id;cd(a.h,function(l,f){if(l.id===c)return a.h.splice(f,1),1})}};return a.i++,a.h.push(u),u}}}return null}var dd,pd,Sh,Ih,vd,Ab=D(()=>{Fe(),bt(),dd="_aiHooks",pd=["req","rsp","hkErr","fnErr"],Sh="__proto__",Ih="constructor",vd=Object.getPrototypeOf}),Ce=D(()=>{hb(),ph(),eh(),xh(),Eb(),bt(),za(),Fe(),vh(),qu(),Bf(),Ru(),Ab(),nd()}),Ue,Eh=D(()=>{Ue={requestContextHeader:"Request-Context",requestContextTargetKey:"appId",requestContextAppIdFormat:"appId=cid-v1:",requestIdHeader:"Request-Id",traceParentHeader:"traceparent",traceStateHeader:"tracestate",sdkContextHeader:"Sdk-Context",sdkContextHeaderAppIdRequest:"appId",requestContextHeaderLowerCase:"request-context"}});function gd(t,e,n){var r=e.length,i=Th(t,e);if(i.length!==r){for(var o=0,a=i;n[a]!==void 0;)o++,a=i.substring(0,150-3)+Ah(o);i=a}return i}function Th(t,e){var n;return e&&(e=ht(e.toString()),e.length>150&&(n=e.substring(0,150),t.throwInternal(W.WARNING,U.NameTooLong,"name is too long.  It has been truncated to "+150+" characters.",{name:e},!0))),n||e}function Pt(t,e,n){n===void 0&&(n=1024);var r;return e&&(n=n||1024,e=ht(e),e.toString().length>n&&(r=e.toString().substring(0,n),t.throwInternal(W.WARNING,U.StringValueTooLong,"string value is too long. It has been truncated to "+n+" characters.",{value:e},!0))),r||e}function Qa(t,e){return hd(t,e,2048,U.UrlTooLong)}function md(t,e){var n;return e&&e.length>32768&&(n=e.substring(0,32768),t.throwInternal(W.WARNING,U.MessageTruncated,"message is too long, it has been truncated to "+32768+" characters.",{message:e},!0)),n||e}function _h(t,e){var n;if(e){var r=""+e;r.length>32768&&(n=r.substring(0,32768),t.throwInternal(W.WARNING,U.ExceptionTruncated,"exception is too long, it has been truncated to "+32768+" characters.",{exception:e},!0))}return n||e}function _r(t,e){if(e){var n={};ct(e,function(r,i){if(gi(i)&&Co())try{i=vn().stringify(i)}catch(o){t.throwInternal(W.WARNING,U.CannotSerializeObjectNonSerializable,"custom property is not valid",{exception:o},!0)}i=Pt(t,i,8192),r=gd(t,r,n),n[r]=i}),e=n}return e}function Pr(t,e){if(e){var n={};ct(e,function(r,i){r=gd(t,r,n),n[r]=i}),e=n}return e}function Ph(t,e){return e&&hd(t,e,128,U.IdTooLong).toString()}function hd(t,e,n,r){var i;return e&&(e=ht(e),e.length>n&&(i=e.substring(0,n),t.throwInternal(W.WARNING,r,"input is too long, it has been truncated to "+n+" characters.",{data:e},!0))),i||e}function Ah(t){var e="00"+t;return e.substr(e.length-3)}var Rh,gn=D(()=>{Ce(),Rh={MAX_NAME_LENGTH:150,MAX_ID_LENGTH:128,MAX_PROPERTY_LENGTH:8192,MAX_STRING_LENGTH:1024,MAX_URL_LENGTH:2048,MAX_MESSAGE_LENGTH:32768,MAX_EXCEPTION_LENGTH:32768,sanitizeKeyAndAddUniqueness:gd,sanitizeKey:Th,sanitizeString:Pt,sanitizeUrl:Qa,sanitizeMessage:md,sanitizeException:_h,sanitizeProperties:_r,sanitizeMeasurements:Pr,sanitizeId:Ph,sanitizeInput:hd,padNumber:Ah,trim:ht}});function ko(t){var e=null;if(Ie(Event))e=new Event(t);else{var n=Rn();n&&n.createEvent&&(e=n.createEvent("Event"),e.initEvent(t,!0,!0))}return e}var kh=D(()=>{Ce()});function ke(t,e){return e===void 0&&(e=!1),t==null?e:t.toString().toLowerCase()==="true"}function or(t){(isNaN(t)||t<0)&&(t=0),t=Math.round(t);var e=""+t%1e3,n=""+Math.floor(t/1e3)%60,r=""+Math.floor(t/(1e3*60))%60,i=""+Math.floor(t/(1e3*60*60))%24,o=Math.floor(t/(1e3*60*60*24));return e=e.length===1?"00"+e:e.length===2?"0"+e:e,n=n.length<2?"0"+n:n,r=r.length<2?"0"+r:r,i=i.length<2?"0"+i:i,(o>0?o+".":"")+i+":"+r+":"+n+"."+e}function yd(){var t=kn();return"sendBeacon"in t&&t.sendBeacon}function Dh(t,e){var n=null;return ye(t,function(r){if(r.identifier===e)return n=r,-1}),n}function Fh(t,e,n,r,i){return!i&&he(t)&&(t==="Script error."||t==="Script error")}var Ju=D(()=>{Ce()}),Si,Yu,Do,Zu,xd,nn,mn=D(()=>{Si="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Yu="sampleRate",Do="ProcessLegacy",Zu="http.method",xd="https://dc.services.visualstudio.com",nn="not_specified"}),Ii,hn,Mh=D(()=>{(function(t){t[t.LocalStorage=0]="LocalStorage",t[t.SessionStorage=1]="SessionStorage"})(Ii||(Ii={})),function(t){t[t.AI=0]="AI",t[t.AI_AND_W3C=1]="AI_AND_W3C",t[t.W3C=2]="W3C"}(hn||(hn={}))});function wd(){return Cd()?ec(Ii.LocalStorage):null}function ec(t){try{if(V(ho()))return null;var e=new Date,n=Ct(t===Ii.LocalStorage?"localStorage":"sessionStorage");n.setItem(e.toString(),e.toString());var r=n.getItem(e.toString())!==e.toString();if(n.removeItem(e.toString()),!r)return n}catch{}return null}function bd(){return Fo()?ec(Ii.SessionStorage):null}function Nh(){Ar=!1,Rr=!1}function Cd(){return Ar===void 0&&(Ar=!!ec(Ii.LocalStorage)),Ar}function Lh(t,e){var n=wd();if(n!==null)try{return n.getItem(e)}catch(r){Ar=!1,t.throwInternal(W.WARNING,U.BrowserCannotReadLocalStorage,"Browser failed read of local storage. "+Pe(r),{exception:ve(r)})}return null}function Uh(t,e,n){var r=wd();if(r!==null)try{return r.setItem(e,n),!0}catch(i){Ar=!1,t.throwInternal(W.WARNING,U.BrowserCannotWriteLocalStorage,"Browser failed write to local storage. "+Pe(i),{exception:ve(i)})}return!1}function Oh(t,e){var n=wd();if(n!==null)try{return n.removeItem(e),!0}catch(r){Ar=!1,t.throwInternal(W.WARNING,U.BrowserFailedRemovalFromLocalStorage,"Browser failed removal of local storage item. "+Pe(r),{exception:ve(r)})}return!1}function Fo(){return Rr===void 0&&(Rr=!!ec(Ii.SessionStorage)),Rr}function Rb(){var t=[];return Fo()&&ct(Ct("sessionStorage"),function(e){t.push(e)}),t}function tc(t,e){var n=bd();if(n!==null)try{return n.getItem(e)}catch(r){Rr=!1,t.throwInternal(W.WARNING,U.BrowserCannotReadSessionStorage,"Browser failed read of session storage. "+Pe(r),{exception:ve(r)})}return null}function nc(t,e,n){var r=bd();if(r!==null)try{return r.setItem(e,n),!0}catch(i){Rr=!1,t.throwInternal(W.WARNING,U.BrowserCannotWriteSessionStorage,"Browser failed write to session storage. "+Pe(i),{exception:ve(i)})}return!1}function Hh(t,e){var n=bd();if(n!==null)try{return n.removeItem(e),!0}catch(r){Rr=!1,t.throwInternal(W.WARNING,U.BrowserFailedRemovalFromSessionStorage,"Browser failed removal of session storage item. "+Pe(r),{exception:ve(r)})}return!1}var Ar,Rr,Bh=D(()=>{Ce(),Mh(),Ar=void 0,Rr=void 0});function $a(t){var e=Ed,n=Wh,r=n[e];return Id.createElement?n[e]||(r=n[e]=Id.createElement("a")):r={host:jh(t,!0)},r.href=t,e++,e>=n.length&&(e=0),Ed=e,r}function qh(t){var e,n=$a(t);return n&&(e=n.href),e}function kb(t){var e,n=$a(t);return n&&(e=n.pathname),e}function zh(t,e){return t?t.toUpperCase()+" "+e:e}function jh(t,e){var n=Sd(t,e)||"";if(n){var r=n.match(/(www[0-9]?\.)?(.[^/:]+)(\:[\d]+)?/i);if(r!=null&&r.length>3&&he(r[2])&&r[2].length>0)return r[2]+(r[3]||"")}return n}function Sd(t,e){var n=null;if(t){var r=t.match(/(\w*):\/\/(.[^/:]+)(\:[\d]+)?/i);if(r!=null&&r.length>2&&he(r[2])&&r[2].length>0&&(n=r[2]||"",e&&r.length>2)){var i=(r[1]||"").toLowerCase(),o=r[3]||"";(i==="http"&&o===":80"||i==="https"&&o===":443")&&(o=""),n+=o}}return n}var Id,Ed,Wh,Vh=D(()=>{Ce(),Id=Rn()||{},Ed=0,Wh=[null,null,null,null,null]});function rc(t){return Kh.indexOf(t.toLowerCase())!==-1}function Db(t,e,n,r){var i,o=r,a=r;if(e&&e.length>0){var s=$a(e);if(i=s.host,!o)if(s.pathname!=null){var u=s.pathname.length===0?"/":s.pathname;u.charAt(0)!=="/"&&(u="/"+u),a=s.pathname,o=Pt(t,n?n+" "+u:u)}else o=Pt(t,e)}else i=r,o=r;return{target:i,name:o,data:a}}function Ja(){var t=nr();if(t&&t.now&&t.timing){var e=t.now()+t.timing.navigationStart;if(e>0)return e}return en()}function At(t,e){var n=null;return t!==0&&e!==0&&!V(t)&&!V(e)&&(n=e-t),n}var Kh,Td,Gh,kr,Xh,Qh=D(()=>{Ce(),Eh(),gn(),kh(),Ju(),mn(),Bh(),Vh(),Kh=["https://dc.services.visualstudio.com/v2/track","https://breeze.aimon.applicationinsights.io/v2/track","https://dc-int.services.visualstudio.com/v2/track"],Td={NotSpecified:nn,createDomEvent:ko,disableStorage:Nh,isInternalApplicationInsightsEndpoint:rc,canUseLocalStorage:Cd,getStorage:Lh,setStorage:Uh,removeStorage:Oh,canUseSessionStorage:Fo,getSessionStorageKeys:Rb,getSessionStorage:tc,setSessionStorage:nc,removeSessionStorage:Hh,disableCookies:wh,canUseCookies:bb,disallowsSameSiteNone:fh,setCookie:Sb,stringToBoolOrDefault:ke,getCookie:Cb,deleteCookie:Ib,trim:ht,newId:Qu,random32:function(){return bi(!0)},generateW3CId:Dn,isArray:tr,isError:ku,isDate:Tf,toISOStringForIE8:Tr,getIEVersion:Lf,msToTimeSpan:or,isCrossOriginError:Fh,dump:ve,getExceptionName:Pe,addEventHandler:Oa,IsBeaconApiSupported:yd,getExtension:Dh},Gh={parseUrl:$a,getAbsoluteUrl:qh,getPathName:kb,getCompleteUrl:zh,parseHost:jh,parseFullHost:Sd},kr={correlationIdPrefix:"cid-v1:",canIncludeCorrelationHeader:function(t,e,n){if(!e||t&&t.disableCorrelationHeaders)return!1;if(t&&t.correlationHeaderExcludePatterns){for(var r=0;r<t.correlationHeaderExcludePatterns.length;r++)if(t.correlationHeaderExcludePatterns[r].test(e))return!1}var i=$a(e).host.toLowerCase();if(i&&(i.indexOf(":443")!==-1||i.indexOf(":80")!==-1)&&(i=(Sd(e,!0)||"").toLowerCase()),(!t||!t.enableCorsCorrelation)&&i&&i!==n)return!1;var o=t&&t.correlationHeaderDomains;if(o){var a;if(ye(o,function(c){var l=new RegExp(c.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));a=a||l.test(i)}),!a)return!1}var s=t&&t.correlationHeaderExcludedDomains;if(!s||s.length===0)return!0;for(var r=0;r<s.length;r++){var u=new RegExp(s[r].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(u.test(i))return!1}return i&&i.length>0},getCorrelationContext:function(t){if(t){var e=kr.getCorrelationContextValue(t,Ue.requestContextTargetKey);if(e&&e!==kr.correlationIdPrefix)return e}},getCorrelationContextValue:function(t,e){if(t)for(var n=t.split(","),r=0;r<n.length;++r){var i=n[r].split("=");if(i.length===2&&i[0]===e)return i[1]}}},Xh={Now:Ja,GetDuration:At}});function $h(t){if(!t)return{};var e=t.split(Jh),n=km(e,function(i,o){var a=o.split(Yh);if(a.length===2){var s=a[0].toLowerCase(),u=a[1];i[s]=u}return i},{});if(mi(n).length>0){if(n.endpointsuffix){var r=n.location?n.location+".":"";n.ingestionendpoint=n.ingestionendpoint||"https://"+r+"dc."+n.endpointsuffix}n.ingestionendpoint=n.ingestionendpoint||xd}return n}var Jh,Yh,Zh,Fb=D(()=>{mn(),Ce(),Jh=";",Yh="=",Zh={parse:$h}}),_d,ey=D(()=>{_d=function(){function t(){}return t}()}),Pd,ty=D(()=>{Fe(),ey(),Pd=function(t){Re(e,t);function e(){return t.call(this)||this}return e}(_d)}),ny,Mb=D(()=>{ny=function(){function t(){this.ver=1,this.sampleRate=100,this.tags={}}return t}()}),Ad,Nb=D(()=>{Fe(),Mb(),gn(),Ce(),mn(),Ad=function(t){Re(e,t);function e(n,r,i){var o=t.call(this)||this;return o.name=Pt(n,i)||nn,o.data=r,o.time=Tr(new Date),o.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return o.sampleRate===100?4:1},tags:1,data:1},o}return e}(ny)}),Rd,ry=D(()=>{Rd=function(){function t(){this.ver=2,this.properties={},this.measurements={}}return t}()}),yn,Lb=D(()=>{Fe(),ry(),gn(),mn(),yn=function(t){Re(e,t);function e(n,r,i,o){var a=t.call(this)||this;return a.aiDataContract={ver:1,name:1,properties:0,measurements:0},a.name=Pt(n,r)||nn,a.properties=_r(n,i),a.measurements=Pr(n,o),a}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Event",e.dataType="EventData",e}(Rd)}),iy,Ub=D(()=>{iy=function(){function t(){}return t}()}),oy,Ob=D(()=>{oy=function(){function t(){this.ver=2,this.exceptions=[],this.properties={},this.measurements={}}return t}()}),ay,Hb=D(()=>{ay=function(){function t(){this.hasFullStack=!0,this.parsedStack=[]}return t}()});function kd(t,e){var n=t;return n&&!he(n)&&(JSON&&JSON.stringify?(n=JSON.stringify(t),e&&(!n||n==="{}")&&(Ie(t.toString)?n=t.toString():n=""+t)):n=""+t+" - (Missing JSON.stringify)"),n||""}function sy(t,e){var n=t;return t&&(n=t[ac]||t[Md]||"",n&&!he(n)&&(n=kd(n,!0)),t.filename&&(n=n+" @"+(t.filename||"")+":"+(t.lineno||"?")+":"+(t.colno||"?"))),e&&e!=="String"&&e!=="Object"&&e!=="Error"&&(n||"").indexOf(e)===-1&&(n=e+": "+n),n||""}function Bb(t){return gi(t)?"hasFullStack"in t&&"typeName"in t:!1}function qb(t){return gi(t)?"ver"in t&&"exceptions"in t&&"properties"in t:!1}function uy(t){return t&&t.src&&he(t.src)&&t.obj&&tr(t.obj)}function Mo(t){var e=t||"";he(e)||(he(e[Gt])?e=e[Gt]:e=""+e);var n=e.split(`
`);return{src:e,obj:n}}function zb(t){for(var e=[],n=t.split(`
`),r=0;r<n.length;r++){var i=n[r];n[r+1]&&(i+="@"+n[r+1],r++),e.push(i)}return{src:t,obj:e}}function cy(t){var e=null;if(t)try{if(t[Gt])e=Mo(t[Gt]);else if(t[Ei]&&t[Ei][Gt])e=Mo(t[Ei][Gt]);else if(t.exception&&t.exception[Gt])e=Mo(t.exception[Gt]);else if(uy(t))e=t;else if(uy(t[oc]))e=t[oc];else if(window.opera&&t[ac])e=zb(t.message);else if(he(t))e=Mo(t);else{var n=t[ac]||t[Md]||"";he(t[Fd])&&(n&&(n+=`
`),n+=" from "+t[Fd]),n&&(e=Mo(n))}}catch(r){e=Mo(r)}return e||{src:"",obj:null}}function jb(t){var e="";return t&&(t.obj?ye(t.obj,function(n){e+=n+`
`}):e=t.src||""),e}function Wb(t){var e,n=t.obj;if(n&&n.length>0){e=[];var r=0,i=0;ye(n,function(g){var m=g.toString();if(sc.regex.test(m)){var v=new sc(m,r++);i+=v.sizeInBytes,e.push(v)}});var o=32*1024;if(i>o)for(var a=0,s=e.length-1,u=0,c=a,l=s;a<s;){var f=e[a].sizeInBytes,d=e[s].sizeInBytes;if(u+=f+d,u>o){var p=l-c+1;e.splice(c,p);break}c=a,l=s,a++,s--}}return e}function ic(t){var e="";if(t&&(e=t.typeName||t.name||"",!e))try{var n=/function (.{1,200})\(/,r=n.exec(t.constructor.toString());e=r&&r.length>1?r[1]:""}catch{}return e}function Dd(t){if(t)try{if(!he(t)){var e=ic(t),n=kd(t,!1);return(!n||n==="{}")&&(t[Ei]&&(t=t[Ei],e=ic(t)),n=kd(t,!0)),n.indexOf(e)!==0&&e!=="String"?e+":"+n:n}}catch{}return""+(t||"")}var ly,Ei,Gt,oc,Fd,ac,Md,Rt,Nd,sc,Vb=D(()=>{Fe(),Ub(),Ob(),Hb(),gn(),Ce(),mn(),ly="<no_method>",Ei="error",Gt="stack",oc="stackDetails",Fd="errorSrc",ac="message",Md="description",Rt=function(t){Re(e,t);function e(n,r,i,o,a,s){var u=t.call(this)||this;return u.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0},qb(r)?(u.exceptions=r.exceptions,u.properties=r.properties,u.measurements=r.measurements,r.severityLevel&&(u.severityLevel=r.severityLevel),r.id&&(u.id=r.id),r.problemGroup&&(u.problemGroup=r.problemGroup),u.ver=2,V(r.isManual)||(u.isManual=r.isManual)):(i||(i={}),u.exceptions=[new Nd(n,r,i)],u.properties=_r(n,i),u.measurements=Pr(n,o),a&&(u.severityLevel=a),s&&(u.id=s)),u}return e.CreateAutoException=function(n,r,i,o,a,s,u,c){var l=ic(a||s||n);return{message:sy(n,l),url:r,lineNumber:i,columnNumber:o,error:Dd(a||s||n),evt:Dd(s||n),typeName:l,stackDetails:cy(u||a||s),errorSrc:c}},e.CreateFromInterface=function(n,r,i,o){var a=r.exceptions&&Ba(r.exceptions,function(u){return Nd.CreateFromInterface(n,u)}),s=new e(n,yo({},r,{exceptions:a}),i,o);return s},e.prototype.toInterface=function(){var n=this,r=n.exceptions,i=n.properties,o=n.measurements,a=n.severityLevel,s=n.ver,u=n.problemGroup,c=n.id,l=n.isManual,f=r instanceof Array&&Ba(r,function(d){return d.toInterface()})||void 0;return{ver:"4.0",exceptions:f,severityLevel:a,properties:i,measurements:o,problemGroup:u,id:c,isManual:l}},e.CreateSimpleException=function(n,r,i,o,a,s){return{exceptions:[{hasFullStack:!0,message:n,stack:a,typeName:r}]}},e.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",e.dataType="ExceptionData",e.formatError=Dd,e}(oy),Nd=function(t){Re(e,t);function e(n,r,i){var o=t.call(this)||this;if(o.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2},Bb(r))o.typeName=r.typeName,o.message=r.message,o[Gt]=r[Gt],o.parsedStack=r.parsedStack,o.hasFullStack=r.hasFullStack;else{var a=r,s=a&&a.evt;ku(a)||(a=a[Ei]||s||a),o.typeName=Pt(n,ic(a))||nn,o.message=md(n,sy(r||a,o.typeName))||nn;var u=r[oc]||cy(r);o.parsedStack=Wb(u),o[Gt]=_h(n,jb(u)),o.hasFullStack=tr(o.parsedStack)&&o.parsedStack.length>0,i&&(i.typeName=i.typeName||o.typeName)}return o}return e.prototype.toInterface=function(){var n=this.parsedStack instanceof Array&&Ba(this.parsedStack,function(i){return i.toInterface()}),r={id:this.id,outerId:this.outerId,typeName:this.typeName,message:this.message,hasFullStack:this.hasFullStack,stack:this[Gt],parsedStack:n||void 0};return r},e.CreateFromInterface=function(n,r){var i=r.parsedStack instanceof Array&&Ba(r.parsedStack,function(a){return sc.CreateFromInterface(a)})||r.parsedStack,o=new e(n,yo({},r,{parsedStack:i}));return o},e}(ay),sc=function(t){Re(e,t);function e(n,r){var i=t.call(this)||this;if(i.sizeInBytes=0,i.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0},typeof n=="string"){var o=n;i.level=r,i.method=ly,i.assembly=ht(o),i.fileName="",i.line=0;var a=o.match(e.regex);a&&a.length>=5&&(i.method=ht(a[2])||i.method,i.fileName=ht(a[4]),i.line=parseInt(a[5])||0)}else i.level=n.level,i.method=n.method,i.assembly=n.assembly,i.fileName=n.fileName,i.line=n.line,i.sizeInBytes=0;return i.sizeInBytes+=i.method.length,i.sizeInBytes+=i.fileName.length,i.sizeInBytes+=i.assembly.length,i.sizeInBytes+=e.baseSize,i.sizeInBytes+=i.level.toString().length,i.sizeInBytes+=i.line.toString().length,i}return e.CreateFromInterface=function(n){return new e(n,null)},e.prototype.toInterface=function(){return{level:this.level,method:this.method,assembly:this.assembly,fileName:this.fileName,line:this.line}},e.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,e.baseSize=58,e}(iy)}),fy,Kb=D(()=>{fy=function(){function t(){this.ver=2,this.metrics=[],this.properties={},this.measurements={}}return t}()}),Ld,Gb=D(()=>{(function(t){t[t.Measurement=0]="Measurement",t[t.Aggregation=1]="Aggregation"})(Ld||(Ld={}))}),dy,Xb=D(()=>{Gb(),dy=function(){function t(){this.kind=Ld.Measurement}return t}()}),py,Qb=D(()=>{Fe(),Xb(),py=function(t){Re(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},n}return e}(dy)}),Fn,$b=D(()=>{Fe(),Kb(),gn(),Qb(),mn(),Fn=function(t){Re(e,t);function e(n,r,i,o,a,s,u,c){var l=t.call(this)||this;l.aiDataContract={ver:1,metrics:1,properties:0};var f=new py;return f.count=o>0?o:void 0,f.max=isNaN(s)||s===null?void 0:s,f.min=isNaN(a)||a===null?void 0:a,f.name=Pt(n,r)||nn,f.value=i,l.metrics=[f],l.properties=_r(n,u),l.measurements=Pr(n,c),l}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",e.dataType="MetricData",e}(fy)}),uc,Ud=D(()=>{Fe(),ry(),uc=function(t){Re(e,t);function e(){var n=t.call(this)||this;return n.ver=2,n.properties={},n.measurements={},n}return e}(Rd)}),xn,Jb=D(()=>{Fe(),Ud(),gn(),Ju(),mn(),xn=function(t){Re(e,t);function e(n,r,i,o,a,s,u){var c=t.call(this)||this;return c.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0},c.id=Ph(n,u),c.url=Qa(n,i),c.name=Pt(n,r)||nn,isNaN(o)||(c.duration=or(o)),c.properties=_r(n,a),c.measurements=Pr(n,s),c}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",e.dataType="PageviewData",e}(uc)}),vy,Yb=D(()=>{vy=function(){function t(){this.ver=2,this.success=!0,this.properties={},this.measurements={}}return t}()}),Mn,Zb=D(()=>{Fe(),gn(),Qh(),Yb(),Ju(),Mn=function(t){Re(e,t);function e(n,r,i,o,a,s,u,c,l,f,d,p){l===void 0&&(l="Ajax");var g=t.call(this)||this;g.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0},g.id=r,g.duration=or(a),g.success=s,g.resultCode=u+"",g.type=Pt(n,l);var m=Db(n,i,c,o);return g.data=Qa(n,o)||m.data,g.target=Pt(n,m.target),f&&(g.target=g.target+" | "+f),g.name=Pt(n,m.name),g.properties=_r(n,d),g.measurements=Pr(n,p),g}return e.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",e.dataType="RemoteDependencyData",e}(vy)}),gy,eC=D(()=>{gy=function(){function t(){this.ver=2,this.properties={},this.measurements={}}return t}()}),ar,tC=D(()=>{Fe(),eC(),gn(),mn(),ar=function(t){Re(e,t);function e(n,r,i,o,a){var s=t.call(this)||this;return s.aiDataContract={ver:1,message:1,severityLevel:0,properties:0},r=r||nn,s.message=md(n,r),s.properties=_r(n,o),s.measurements=Pr(n,a),i&&(s.severityLevel=i),s}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Message",e.dataType="MessageData",e}(gy)}),my,nC=D(()=>{Fe(),Ud(),my=function(t){Re(e,t);function e(){var n=t.call(this)||this;return n.ver=2,n.properties={},n.measurements={},n}return e}(uc)}),sr,rC=D(()=>{Fe(),nC(),gn(),mn(),sr=function(t){Re(e,t);function e(n,r,i,o,a,s,u){var c=t.call(this)||this;return c.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0},c.url=Qa(n,i),c.name=Pt(n,r)||nn,c.properties=_r(n,a),c.measurements=Pr(n,s),u&&(c.domProcessing=u.domProcessing,c.duration=u.duration,c.networkConnect=u.networkConnect,c.perfTotal=u.perfTotal,c.receivedResponse=u.receivedResponse,c.sentRequest=u.sentRequest),c}return e.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",e.dataType="PageviewPerformanceData",e}(my)}),ur,iC=D(()=>{Fe(),ty(),ur=function(t){Re(e,t);function e(n,r){var i=t.call(this)||this;return i.aiDataContract={baseType:1,baseData:1},i.baseType=n,i.baseData=r,i}return e}(Pd)}),Ya,oC=D(()=>{(function(t){t[t.Verbose=0]="Verbose",t[t.Information=1]="Information",t[t.Warning=2]="Warning",t[t.Error=3]="Error",t[t.Critical=4]="Critical"})(Ya||(Ya={}))}),hy,aC=D(()=>{Ce(),hy=function(){function t(){}return t.getConfig=function(e,n,r,i){i===void 0&&(i=!1);var o;return r&&e.extensionConfig&&e.extensionConfig[r]&&!V(e.extensionConfig[r][n])?o=e.extensionConfig[r][n]:o=e[n],V(o)?i:o},t}()});function Dr(t){var e="ai."+t+".";return function(n){return e+n}}var No,rt,Za,Ti,cc,cr,Fr,Lo,lc,yy=D(()=>{Fe(),Ce(),No=Dr("application"),rt=Dr("device"),Za=Dr("location"),Ti=Dr("operation"),cc=Dr("session"),cr=Dr("user"),Fr=Dr("cloud"),Lo=Dr("internal"),lc=function(t){Re(e,t);function e(){return t.call(this)||this}return e}(tb({applicationVersion:No("ver"),applicationBuild:No("build"),applicationTypeId:No("typeId"),applicationId:No("applicationId"),applicationLayer:No("layer"),deviceId:rt("id"),deviceIp:rt("ip"),deviceLanguage:rt("language"),deviceLocale:rt("locale"),deviceModel:rt("model"),deviceFriendlyName:rt("friendlyName"),deviceNetwork:rt("network"),deviceNetworkName:rt("networkName"),deviceOEMName:rt("oemName"),deviceOS:rt("os"),deviceOSVersion:rt("osVersion"),deviceRoleInstance:rt("roleInstance"),deviceRoleName:rt("roleName"),deviceScreenResolution:rt("screenResolution"),deviceType:rt("type"),deviceMachineName:rt("machineName"),deviceVMName:rt("vmName"),deviceBrowser:rt("browser"),deviceBrowserVersion:rt("browserVersion"),locationIp:Za("ip"),locationCountry:Za("country"),locationProvince:Za("province"),locationCity:Za("city"),operationId:Ti("id"),operationName:Ti("name"),operationParentId:Ti("parentId"),operationRootId:Ti("rootId"),operationSyntheticSource:Ti("syntheticSource"),operationCorrelationVector:Ti("correlationVector"),sessionId:cc("id"),sessionIsFirst:cc("isFirst"),sessionIsNew:cc("isNew"),userAccountAcquisitionDate:cr("accountAcquisitionDate"),userAccountId:cr("accountId"),userAgent:cr("userAgent"),userId:cr("id"),userStoreRegion:cr("storeRegion"),userAuthUserId:cr("authUserId"),userAnonymousUserAcquisitionDate:cr("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:cr("authUserAcquisitionDate"),cloudName:Fr("name"),cloudRole:Fr("role"),cloudRoleVer:Fr("roleVer"),cloudRoleInstance:Fr("roleInstance"),cloudEnvironment:Fr("environment"),cloudLocation:Fr("location"),cloudDeploymentUnit:Fr("deploymentUnit"),internalNodeName:Lo("nodeName"),internalSdkVersion:Lo("sdkVersion"),internalAgentVersion:Lo("agentVersion"),internalSnippet:Lo("snippet"),internalSdkSrc:Lo("sdkSrc")}))}),Nn,sC=D(()=>{gn(),Ce(),mn(),Nn=function(){function t(){}return t.create=function(e,n,r,i,o,a){if(r=Pt(i,r)||nn,V(e)||V(n)||V(r))throw Error("Input doesn't contain all required fields");var s={name:r,time:Tr(new Date),iKey:"",ext:a||{},tags:[],data:{},baseType:n,baseData:e};return V(o)||ct(o,function(u,c){s.data[u]=c}),s},t}()}),kt,Me,uC=D(()=>{yy(),kt={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},Me=new lc}),Uo,fc,Od,lt=D(()=>{Qh(),Fb(),Eh(),mn(),ty(),ey(),Nb(),Lb(),Vb(),$b(),Jb(),Ud(),Zb(),tC(),rC(),iC(),oC(),aC(),yy(),gn(),sC(),uC(),Mh(),Ju(),kh(),Bh(),Vh(),Uo="AppInsightsPropertiesPlugin",fc="AppInsightsChannelPlugin",Od="ApplicationInsightsAnalytics"}),xy,cC=D(()=>{lt(),Ce(),dt(),xy=function(){function t(e,n,r,i){Je(t,this,function(o){var a=null,s=[],u=!1,c;r&&(c=r.logger);function l(){r&&ye(r.getTransmissionControls(),function(d){ye(d,function(p){return p.flush(!0)})})}function f(d){s.push(d),a||(a=setInterval(function(){var p=s.slice(0),g=!1;s=[],ye(p,function(m){m()?g=!0:s.push(m)}),s.length===0&&(clearInterval(a),a=null),g&&l()},100))}o.trackPageView=function(d,p){var g=d.name;if(V(g)||typeof g!="string"){var m=Rn();g=d.name=m&&m.title||""}var v=d.uri;if(V(v)||typeof v!="string"){var h=hi();v=d.uri=h&&h.href||""}if(!i.isPerformanceTimingSupported()){e.sendPageViewInternal(d,p),l(),c.throwInternal(W.WARNING,U.NavigationTimingNotSupported,"trackPageView: navigation timing API used for calculation of page duration is not supported in this browser. This page view will be collected without duration and timing info.");return}var x=!1,S,_=i.getPerformanceTiming().navigationStart;_>0&&(S=At(_,+new Date),i.shouldCollectDuration(S)||(S=void 0));var y;!V(p)&&!V(p.duration)&&(y=p.duration),(n||!isNaN(y))&&(isNaN(y)&&(p||(p={}),p.duration=S),e.sendPageViewInternal(d,p),l(),x=!0);var K=6e4;p||(p={}),f(function(){var te=!1;try{if(i.isPerformanceTimingDataReady()){te=!0;var A={name:g,uri:v};i.populatePageViewPerformanceEvent(A),!A.isValid&&!x?(p.duration=S,e.sendPageViewInternal(d,p)):(x||(p.duration=A.durationMs,e.sendPageViewInternal(d,p)),u||(e.sendPageViewPerformanceInternal(A,p),u=!0))}else _>0&&At(_,+new Date)>K&&(te=!0,x||(p.duration=K,e.sendPageViewInternal(d,p)))}catch(Y){c.throwInternal(W.CRITICAL,U.TrackPVFailedCalc,"trackPageView failed on page load calculation: "+Pe(Y),{exception:ve(Y)})}return te})}})}return t}()}),wy,by,lC=D(()=>{lt(),Ce(),wy=function(){function t(e,n){this.prevPageVisitDataKeyName="prevPageVisitData",this.pageVisitTimeTrackingHandler=n,this._logger=e}return t.prototype.trackPreviousPageVisit=function(e,n){try{var r=this.restartPageVisitTimer(e,n);r&&this.pageVisitTimeTrackingHandler(r.pageName,r.pageUrl,r.pageVisitTime)}catch(i){this._logger.warnToConsole("Auto track page visit time failed, metric will not be collected: "+ve(i))}},t.prototype.restartPageVisitTimer=function(e,n){try{var r=this.stopPageVisitTimer();return this.startPageVisitTimer(e,n),r}catch(i){return this._logger.warnToConsole("Call to restart failed: "+ve(i)),null}},t.prototype.startPageVisitTimer=function(e,n){try{if(Fo()){tc(this._logger,this.prevPageVisitDataKeyName)!=null&&An("Cannot call startPageVisit consecutively without first calling stopPageVisit");var r=new by(e,n),i=vn().stringify(r);nc(this._logger,this.prevPageVisitDataKeyName,i)}}catch(o){this._logger.warnToConsole("Call to start failed: "+ve(o))}},t.prototype.stopPageVisitTimer=function(){try{if(Fo()){var e=en(),n=tc(this._logger,this.prevPageVisitDataKeyName);if(n&&Co()){var r=vn().parse(n);return r.pageVisitTime=e-r.pageVisitStartTime,Hh(this._logger,this.prevPageVisitDataKeyName),r}else return null}return null}catch(i){return this._logger.warnToConsole("Stop page visit timer failed: "+ve(i)),null}},t}(),by=function(){function t(e,n){this.pageVisitStartTime=en(),this.pageName=e,this.pageUrl=n}return t}()}),Cy,fC=D(()=>{lt(),Ce(),Cy=function(){function t(e){this.MAX_DURATION_ALLOWED=36e5,e&&(this._logger=e.logger)}return t.prototype.populatePageViewPerformanceEvent=function(e){e.isValid=!1;var n=this.getPerformanceNavigationTiming(),r=this.getPerformanceTiming(),i=0,o=0,a=0,s=0,u=0;(n||r)&&(n?(i=n.duration,o=n.startTime===0?n.connectEnd:At(n.startTime,n.connectEnd),a=At(n.requestStart,n.responseStart),s=At(n.responseStart,n.responseEnd),u=At(n.responseEnd,n.loadEventEnd)):(i=At(r.navigationStart,r.loadEventEnd),o=At(r.navigationStart,r.connectEnd),a=At(r.requestStart,r.responseStart),s=At(r.responseStart,r.responseEnd),u=At(r.responseEnd,r.loadEventEnd)),i===0?this._logger.throwInternal(W.WARNING,U.ErrorPVCalc,"error calculating page view performance.",{total:i,network:o,request:a,response:s,dom:u}):this.shouldCollectDuration(i,o,a,s,u)?i<Math.floor(o)+Math.floor(a)+Math.floor(s)+Math.floor(u)?this._logger.throwInternal(W.WARNING,U.ClientPerformanceMathError,"client performance math error.",{total:i,network:o,request:a,response:s,dom:u}):(e.durationMs=i,e.perfTotal=e.duration=or(i),e.networkConnect=or(o),e.sentRequest=or(a),e.receivedResponse=or(s),e.domProcessing=or(u),e.isValid=!0):this._logger.throwInternal(W.WARNING,U.InvalidDurationValue,"Invalid page load duration value. Browser perf data won't be sent.",{total:i,network:o,request:a,response:s,dom:u}))},t.prototype.getPerformanceTiming=function(){return this.isPerformanceTimingSupported()?nr().timing:null},t.prototype.getPerformanceNavigationTiming=function(){return this.isPerformanceNavigationTimingSupported()?nr().getEntriesByType("navigation")[0]:null},t.prototype.isPerformanceNavigationTimingSupported=function(){var e=nr();return e&&e.getEntriesByType&&e.getEntriesByType("navigation").length>0},t.prototype.isPerformanceTimingSupported=function(){var e=nr();return e&&e.timing},t.prototype.isPerformanceTimingDataReady=function(){var e=nr(),n=e?e.timing:0;return n&&n.domainLookupStart>0&&n.navigationStart>0&&n.responseStart>0&&n.requestStart>0&&n.loadEventEnd>0&&n.responseEnd>0&&n.connectEnd>0&&n.domLoading>0},t.prototype.shouldCollectDuration=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=kn()||{},i=["googlebot","adsbot-google","apis-google","mediapartners-google"],o=r.userAgent,a=!1;if(o)for(var s=0;s<i.length;s++)a=a||o.toLowerCase().indexOf(i[s])!==-1;if(a)return!1;for(var s=0;s<e.length;s++)if(e[s]<0||e[s]>=this.MAX_DURATION_ALLOWED)return!1;return!0},t}()});function es(t,e){t&&t.dispatchEvent&&e&&t.dispatchEvent(e)}var Hd,dc,Bd,qd,dC=D(()=>{Fe(),lt(),Ce(),cC(),lC(),fC(),dt(),Hd="duration",dc="event",Bd=function(t){Re(e,t);function e(){var n=t.call(this)||this;n.identifier=Od,n.priority=180,n.autoRoutePVDelay=500;var r,i,o,a=0,s,u;return Je(e,n,function(c,l){var f=hi(!0);s=f&&f.href||"",c.getCookieMgr=function(){return Qf(c.core)},c.processTelemetry=function(v,h){Io(c.core,function(){return c.identifier+":processTelemetry"},function(){var x=!1,S=c._telemetryInitializers.length;h=c._getTelCtx(h);for(var _=0;_<S;++_){var y=c._telemetryInitializers[_];if(y)try{if(y.apply(null,[v])===!1){x=!0;break}}catch(K){h.diagLog().throwInternal(W.CRITICAL,U.TelemetryInitializerFailed,"One of telemetry initializers failed, telemetry item will not be sent: "+Pe(K),{exception:ve(K)},!0)}}x||c.processNext(v,h)},function(){return{item:v}},!v.sync)},c.trackEvent=function(v,h){try{var x=Nn.create(v,yn.dataType,yn.envelopeType,c.diagLog(),h);c.core.track(x)}catch(S){c.diagLog().throwInternal(W.WARNING,U.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+Pe(S),{exception:ve(S)})}},c.startTrackEvent=function(v){try{r.start(v)}catch(h){c.diagLog().throwInternal(W.CRITICAL,U.StartTrackEventFailed,"startTrackEvent failed, event will not be collected: "+Pe(h),{exception:ve(h)})}},c.stopTrackEvent=function(v,h,x){try{r.stop(v,void 0,h)}catch(S){c.diagLog().throwInternal(W.CRITICAL,U.StopTrackEventFailed,"stopTrackEvent failed, event will not be collected: "+Pe(S),{exception:ve(S)})}},c.trackTrace=function(v,h){try{var x=Nn.create(v,ar.dataType,ar.envelopeType,c.diagLog(),h);c.core.track(x)}catch(S){c.diagLog().throwInternal(W.WARNING,U.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+Pe(S),{exception:ve(S)})}},c.trackMetric=function(v,h){try{var x=Nn.create(v,Fn.dataType,Fn.envelopeType,c.diagLog(),h);c.core.track(x)}catch(S){c.diagLog().throwInternal(W.CRITICAL,U.TrackMetricFailed,"trackMetric failed, metric will not be collected: "+Pe(S),{exception:ve(S)})}},c.trackPageView=function(v,h){try{var x=v||{};c._pageViewManager.trackPageView(x,yo({},x.properties,x.measurements,h)),c.config.autoTrackPageVisitTime&&c._pageVisitTimeManager.trackPreviousPageVisit(x.name,x.uri)}catch(S){c.diagLog().throwInternal(W.CRITICAL,U.TrackPVFailed,"trackPageView failed, page view will not be collected: "+Pe(S),{exception:ve(S)})}},c.sendPageViewInternal=function(v,h,x){var S=Rn();S&&(v.refUri=v.refUri===void 0?S.referrer:v.refUri);var _=Nn.create(v,xn.dataType,xn.envelopeType,c.diagLog(),h,x);c.core.track(_),a=0},c.sendPageViewPerformanceInternal=function(v,h,x){var S=Nn.create(v,sr.dataType,sr.envelopeType,c.diagLog(),h,x);c.core.track(S)},c.trackPageViewPerformance=function(v,h){try{c._pageViewPerformanceManager.populatePageViewPerformanceEvent(v),c.sendPageViewPerformanceInternal(v,h)}catch(x){c.diagLog().throwInternal(W.CRITICAL,U.TrackPVFailed,"trackPageViewPerformance failed, page view will not be collected: "+Pe(x),{exception:ve(x)})}},c.startTrackPage=function(v){try{if(typeof v!="string"){var h=Rn();v=h&&h.title||""}i.start(v)}catch(x){c.diagLog().throwInternal(W.CRITICAL,U.StartTrackFailed,"startTrackPage failed, page view may not be collected: "+Pe(x),{exception:ve(x)})}},c.stopTrackPage=function(v,h,x,S){try{if(typeof v!="string"){var _=Rn();v=_&&_.title||""}if(typeof h!="string"){var y=hi();h=y&&y.href||""}i.stop(v,h,x,S),c.config.autoTrackPageVisitTime&&c._pageVisitTimeManager.trackPreviousPageVisit(v,h)}catch(K){c.diagLog().throwInternal(W.CRITICAL,U.StopTrackFailed,"stopTrackPage failed, page view will not be collected: "+Pe(K),{exception:ve(K)})}},c.sendExceptionInternal=function(v,h,x){var S=v.exception||v.error||new Error(nn),_=new Rt(c.diagLog(),S,v.properties||h,v.measurements,v.severityLevel,v.id).toInterface(),y=Nn.create(_,Rt.dataType,Rt.envelopeType,c.diagLog(),h,x);c.core.track(y)},c.trackException=function(v,h){try{c.sendExceptionInternal(v,h)}catch(x){c.diagLog().throwInternal(W.CRITICAL,U.TrackExceptionFailed,"trackException failed, exception will not be collected: "+Pe(x),{exception:ve(x)})}},c._onerror=function(v){var h=v&&v.error,x=v&&v.evt;try{if(!x){var S=qa();S&&(x=S[dc])}var _=v&&v.url||(Rn()||{}).URL,y=v.errorSrc||"window.onerror@"+_+":"+(v.lineNumber||0)+":"+(v.columnNumber||0),K={errorSrc:y,url:_,lineNumber:v.lineNumber||0,columnNumber:v.columnNumber||0,message:v.message};Fh(v.message,v.url,v.lineNumber,v.columnNumber,v.error)?m(Rt.CreateAutoException("Script error: The browser's same-origin policy prevents us from getting the details of this exception. Consider using the 'crossorigin' attribute.",_,v.lineNumber||0,v.columnNumber||0,h,x,null,y),K):(v.errorSrc||(v.errorSrc=y),c.trackException({exception:v,severityLevel:Ya.Error},K))}catch(A){var te=h?h.name+", "+h.message:"null";c.diagLog().throwInternal(W.CRITICAL,U.ExceptionWhileLoggingError,"_onError threw exception while logging error, error will not be collected: "+Pe(A),{exception:ve(A),errorString:te})}},c.addTelemetryInitializer=function(v){c._telemetryInitializers.push(v)},c.initialize=function(v,h,x,S){if(!c.isInitialized()){if(V(h))throw Error("Error initializing");l.initialize(v,h,x,S),c.setInitialized(!1);var _=c._getTelCtx(),y=c.identifier;c.config=_.getExtCfg(y);var K=e.getDefaultConfig(v);K!==void 0&&ct(K,function(H,X){c.config[H]=_.getConfig(y,H,X),c.config[H]===void 0&&(c.config[H]=X)}),c.config.isStorageUseDisabled&&Nh();var te={instrumentationKey:function(){return v.instrumentationKey},accountId:function(){return c.config.accountId||v.accountId},sessionRenewalMs:function(){return c.config.sessionRenewalMs||v.sessionRenewalMs},sessionExpirationMs:function(){return c.config.sessionExpirationMs||v.sessionExpirationMs},sampleRate:function(){return c.config.samplingPercentage||v.samplingPercentage},sdkExtension:function(){return c.config.sdkExtension||v.sdkExtension},isBrowserLinkTrackingEnabled:function(){return c.config.isBrowserLinkTrackingEnabled||v.isBrowserLinkTrackingEnabled},appId:function(){return c.config.appId||v.appId}};c._pageViewPerformanceManager=new Cy(c.core),c._pageViewManager=new xy(n,c.config.overridePageViewDuration,c.core,c._pageViewPerformanceManager),c._pageVisitTimeManager=new wy(c.diagLog(),function(H,X,I){return d(H,X,I)}),c._telemetryInitializers=c._telemetryInitializers||[],p(te),r=new qd(c.diagLog(),"trackEvent"),r.action=function(H,X,I,B){B||(B={}),B[Hd]=I.toString(),c.trackEvent({name:H,properties:B})},i=new qd(c.diagLog(),"trackPageView"),i.action=function(H,X,I,B,Q){V(B)&&(B={}),B[Hd]=I.toString();var G={name:H,uri:X,properties:B,measurements:Q};c.sendPageViewInternal(G,B)};var A=qa(),Y=ab(),z=hi(!0),oe=n;if(c.config.disableExceptionTracking===!1&&!c.config.autoExceptionInstrumented&&A){var Z="onerror",ce=A[Z];A.onerror=function(H,X,I,B,Q){var G=A[dc],le=ce&&ce(H,X,I,B,Q);return le!==!0&&oe._onerror(Rt.CreateAutoException(H,X,I,B,Q,G)),le},c.config.autoExceptionInstrumented=!0}if(c.config.disableExceptionTracking===!1&&c.config.enableUnhandledPromiseRejectionTracking===!0&&!c.config.autoUnhandledPromiseInstrumented&&A){var w="onunhandledrejection",E=A[w];A[w]=function(H){var X=A[dc],I=E&&E.call(A,H);return I!==!0&&oe._onerror(Rt.CreateAutoException(H.reason.toString(),z?z.href:"",0,0,H,X)),I},c.config.autoUnhandledPromiseInstrumented=!0}if(c.config.enableAutoRouteTracking===!0&&Y&&Ie(Y.pushState)&&Ie(Y.replaceState)&&A&&typeof Event!="undefined"){var M=n;ye(x,function(H){H.identifier===Uo&&(o=H)}),Y.pushState=function(H){return function(){var X=H.apply(this,arguments);return es(A,ko(M.config.namePrefix+"pushState")),es(A,ko(M.config.namePrefix+"locationchange")),X}}(Y.pushState),Y.replaceState=function(H){return function(){var X=H.apply(this,arguments);return es(A,ko(M.config.namePrefix+"replaceState")),es(A,ko(M.config.namePrefix+"locationchange")),X}}(Y.replaceState),A.addEventListener&&(A.addEventListener(M.config.namePrefix+"popstate",function(){es(A,ko(M.config.namePrefix+"locationchange"))}),A.addEventListener(M.config.namePrefix+"locationchange",function(){if(o&&o.context&&o.context.telemetryTrace){o.context.telemetryTrace.traceID=Dn();var H="_unknown_";z&&z.pathname&&(H=z.pathname+(z.hash||"")),o.context.telemetryTrace.name=H}u&&(s=u),u=z&&z.href||"",setTimeout(function(X){M.trackPageView({refUri:X,properties:{duration:0}})}.bind(n,s),M.autoRoutePVDelay)}))}c.setInitialized(!0)}};function d(v,h,x){var S={PageName:v,PageUrl:h};c.trackMetric({name:"PageVisitTime",average:x,max:x,min:x,sampleCount:1},S)}function p(v){if(!v.isBrowserLinkTrackingEnabled()){var h=["/browserLinkSignalR/","/__browserLink/"],x=function(S){if(S.baseType===Mn.dataType){var _=S.baseData;if(_){for(var y=0;y<h.length;y++)if(_.target&&_.target.indexOf(h[y])>=0)return!1}}return!0};g(x)}}function g(v){c._telemetryInitializers.push(v)}function m(v,h){var x=Nn.create(v,Rt.dataType,Rt.envelopeType,c.diagLog(),h);c.core.track(x)}}),n}return e.getDefaultConfig=function(n){return n||(n={}),n.sessionRenewalMs=30*60*1e3,n.sessionExpirationMs=24*60*60*1e3,n.disableExceptionTracking=ke(n.disableExceptionTracking),n.autoTrackPageVisitTime=ke(n.autoTrackPageVisitTime),n.overridePageViewDuration=ke(n.overridePageViewDuration),n.enableUnhandledPromiseRejectionTracking=ke(n.enableUnhandledPromiseRejectionTracking),(isNaN(n.samplingPercentage)||n.samplingPercentage<=0||n.samplingPercentage>=100)&&(n.samplingPercentage=100),n.isStorageUseDisabled=ke(n.isStorageUseDisabled),n.isBrowserLinkTrackingEnabled=ke(n.isBrowserLinkTrackingEnabled),n.enableAutoRouteTracking=ke(n.enableAutoRouteTracking),n.namePrefix=n.namePrefix||"",n.enableDebug=ke(n.enableDebug),n.disableFlushOnBeforeUnload=ke(n.disableFlushOnBeforeUnload),n.disableFlushOnUnload=ke(n.disableFlushOnUnload,n.disableFlushOnBeforeUnload),n},e.Version="2.6.4",e}(wi),qd=function(){function t(e,n){var r=this,i={};r.start=function(o){typeof i[o]!="undefined"&&e.throwInternal(W.WARNING,U.StartCalledMoreThanOnce,"start was called more than once for this event without calling stop.",{name:o,key:o},!0),i[o]=+new Date},r.stop=function(o,a,s,u){var c=i[o];if(isNaN(c))e.throwInternal(W.WARNING,U.StopCalledWithoutStart,"stop was called without a corresponding start.",{name:o,key:o},!0);else{var l=+new Date,f=At(c,l);r.action(o,a,f,s,u)}delete i[o],i[o]=void 0}}return t}()}),Sy=D(()=>{dC()}),Iy,Ey,pC=D(()=>{lt(),Ce(),dt(),Iy=function(){function t(e){var n=[];Je(t,this,function(r){r.enqueue=function(i){n.push(i)},r.count=function(){return n.length},r.clear=function(){n.length=0},r.getItems=function(){return n.slice(0)},r.batchPayloads=function(i){if(i&&i.length>0){var o=e.emitLineDelimitedJson()?i.join(`
`):"["+i.join(",")+"]";return o}return null},r.markAsSent=function(i){r.clear()},r.clearSent=function(i){}})}return t}(),Ey=function(){function t(e,n){var r=!1,i;Je(t,this,function(o){var a=c(t.BUFFER_KEY),s=c(t.SENT_BUFFER_KEY);i=a.concat(s),i.length>t.MAX_BUFFER_SIZE&&(i.length=t.MAX_BUFFER_SIZE),l(t.SENT_BUFFER_KEY,[]),l(t.BUFFER_KEY,i),o.enqueue=function(f){if(i.length>=t.MAX_BUFFER_SIZE){r||(e.throwInternal(W.WARNING,U.SessionStorageBufferFull,"Maximum buffer size reached: "+i.length,!0),r=!0);return}i.push(f),l(t.BUFFER_KEY,i)},o.count=function(){return i.length},o.clear=function(){i=[],l(t.BUFFER_KEY,[]),l(t.SENT_BUFFER_KEY,[]),r=!1},o.getItems=function(){return i.slice(0)},o.batchPayloads=function(f){if(f&&f.length>0){var d=n.emitLineDelimitedJson()?f.join(`
`):"["+f.join(",")+"]";return d}return null},o.markAsSent=function(f){i=u(f,i),l(t.BUFFER_KEY,i);var d=c(t.SENT_BUFFER_KEY);d instanceof Array&&f instanceof Array&&(d=d.concat(f),d.length>t.MAX_BUFFER_SIZE&&(e.throwInternal(W.CRITICAL,U.SessionStorageBufferFull,"Sent buffer reached its maximum size: "+d.length,!0),d.length=t.MAX_BUFFER_SIZE),l(t.SENT_BUFFER_KEY,d))},o.clearSent=function(f){var d=c(t.SENT_BUFFER_KEY);d=u(f,d),l(t.SENT_BUFFER_KEY,d)};function u(f,d){var p=[];return ye(d,function(g){!Ie(g)&&Ha(f,g)===-1&&p.push(g)}),p}function c(f){var d=f;try{d=n.namePrefix&&n.namePrefix()?n.namePrefix()+"_"+d:d;var p=tc(e,d);if(p){var g=vn().parse(p);if(he(g)&&(g=vn().parse(g)),g&&tr(g))return g}}catch(m){e.throwInternal(W.CRITICAL,U.FailedToRestoreStorageBuffer," storage key: "+d+", "+Pe(m),{exception:ve(m)})}return[]}function l(f,d){var p=f;try{p=n.namePrefix&&n.namePrefix()?n.namePrefix()+"_"+p:p;var g=JSON.stringify(d);nc(e,p,g)}catch(m){nc(e,p,JSON.stringify([])),e.throwInternal(W.WARNING,U.FailedToSetStorageBuffer," storage key: "+p+", "+Pe(m)+". Buffer cleared",{exception:ve(m)})}}})}return t.BUFFER_KEY="AI_buffer",t.SENT_BUFFER_KEY="AI_sentBuffer",t.MAX_BUFFER_SIZE=2e3,t}()});function it(t,e,n){return Ee(t,e,n,Af)}var pc,He,ft,zd,Ve,Ty,jd,_y,Py,Ay,Ry,ky,vC=D(()=>{Fe(),lt(),Ce(),pc="baseType",He="baseData",ft="properties",zd="true",Ve=function(){function t(){}return t.extractPropsAndMeasurements=function(e,n,r){V(e)||ct(e,function(i,o){_f(o)?r[i]=o:he(o)?n[i]=o:Co()&&(n[i]=vn().stringify(o))})},t.createEnvelope=function(e,n,r,i){var o=new Ad(e,i,n);it(o,"sampleRate",r[Yu]),(r[He]||{}).startTime&&(o.time=Tr(r[He].startTime)),o.iKey=r.iKey;var a=r.iKey.replace(/-/g,"");return o.name=o.name.replace("{0}",a),t.extractPartAExtensions(r,o),r.tags=r.tags||[],Mm(o)},t.extractPartAExtensions=function(e,n){var r=n.tags=n.tags||{},i=e.ext=e.ext||{},o=e.tags=e.tags||[],a=i.user;a&&(it(r,Me.userAuthUserId,a.authId),it(r,Me.userId,a.id||a.localId));var s=i.app;s&&it(r,Me.sessionId,s.sesId);var u=i.device;u&&(it(r,Me.deviceId,u.id||u.localId),it(r,Me.deviceType,u.deviceClass),it(r,Me.deviceIp,u.ip),it(r,Me.deviceModel,u.model),it(r,Me.deviceType,u.deviceType));var c=e.ext.web;if(c){it(r,Me.deviceLanguage,c.browserLang),it(r,Me.deviceBrowserVersion,c.browserVer),it(r,Me.deviceBrowser,c.browser);var l=n.data=n.data||{},f=l[He]=l[He]||{},d=f[ft]=f[ft]||{};it(d,"domain",c.domain),it(d,"isManual",c.isManual?zd:null),it(d,"screenRes",c.screenRes),it(d,"userConsent",c.userConsent?zd:null)}var p=i.os;p&&it(r,Me.deviceOS,p.name);var g=i.trace;g&&(it(r,Me.operationParentId,g.parentID),it(r,Me.operationName,g.name),it(r,Me.operationId,g.traceID));for(var m={},v=o.length-1;v>=0;v--){var h=o[v];ct(h,function(S,_){m[S]=_}),o.splice(v,1)}ct(o,function(S,_){m[S]=_});var x=yo({},r,m);x[Me.internalSdkVersion]||(x[Me.internalSdkVersion]="javascript:"+t.Version),n.tags=Mm(x)},t.prototype.Init=function(e,n){this._logger=e,V(n[He])&&this._logger.throwInternal(W.CRITICAL,U.TelemetryEnvelopeInvalid,"telemetryItem.baseData cannot be null.")},t.Version="2.6.4",t}(),Ty=function(t){Re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.Create=function(n,r){t.prototype.Init.call(this,n,r);var i=r[He].measurements||{},o=r[He][ft]||{};Ve.extractPropsAndMeasurements(r.data,o,i);var a=r[He];if(V(a))return n.warnToConsole("Invalid input for dependency data"),null;var s=a[ft]&&a[ft][Zu]?a[ft][Zu]:"GET",u=new Mn(n,a.id,a.target,a.name,a.duration,a.success,a.responseCode,s,a.type,a.correlationContext,o,i),c=new ur(Mn.dataType,u);return Ve.createEnvelope(n,Mn.envelopeType,r,c)},e.DependencyEnvelopeCreator=new e,e}(Ve),jd=function(t){Re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.Create=function(n,r){t.prototype.Init.call(this,n,r);var i={},o={};r[pc]!==yn.dataType&&(i.baseTypeSource=r[pc]),r[pc]===yn.dataType?(i=r[He][ft]||{},o=r[He].measurements||{}):r[He]&&Ve.extractPropsAndMeasurements(r[He],i,o),Ve.extractPropsAndMeasurements(r.data,i,o);var a=r[He].name,s=new yn(n,a,i,o),u=new ur(yn.dataType,s);return Ve.createEnvelope(n,yn.envelopeType,r,u)},e.EventEnvelopeCreator=new e,e}(Ve),_y=function(t){Re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.Create=function(n,r){t.prototype.Init.call(this,n,r);var i=r[He].measurements||{},o=r[He][ft]||{};Ve.extractPropsAndMeasurements(r.data,o,i);var a=r[He],s=Rt.CreateFromInterface(n,a,o,i),u=new ur(Rt.dataType,s);return Ve.createEnvelope(n,Rt.envelopeType,r,u)},e.ExceptionEnvelopeCreator=new e,e}(Ve),Py=function(t){Re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.Create=function(n,r){t.prototype.Init.call(this,n,r);var i=r[He],o=i[ft]||{},a=i.measurements||{};Ve.extractPropsAndMeasurements(r.data,o,a);var s=new Fn(n,i.name,i.average,i.sampleCount,i.min,i.max,o,a),u=new ur(Fn.dataType,s);return Ve.createEnvelope(n,Fn.envelopeType,r,u)},e.MetricEnvelopeCreator=new e,e}(Ve),Ay=function(t){Re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.Create=function(n,r){t.prototype.Init.call(this,n,r);var i="duration",o,a=r[He];!V(a)&&!V(a[ft])&&!V(a[ft][i])?(o=a[ft][i],delete a[ft][i]):!V(r.data)&&!V(r.data[i])&&(o=r.data[i],delete r.data[i]);var s=r[He],u;((r.ext||{}).trace||{}).traceID&&(u=r.ext.trace.traceID);var c=s.id||u,l=s.name,f=s.uri,d=s[ft]||{},p=s.measurements||{};if(V(s.refUri)||(d.refUri=s.refUri),V(s.pageType)||(d.pageType=s.pageType),V(s.isLoggedIn)||(d.isLoggedIn=s.isLoggedIn.toString()),!V(s[ft])){var g=s[ft];ct(g,function(h,x){d[h]=x})}Ve.extractPropsAndMeasurements(r.data,d,p);var m=new xn(n,l,f,o,d,p,c),v=new ur(xn.dataType,m);return Ve.createEnvelope(n,xn.envelopeType,r,v)},e.PageViewEnvelopeCreator=new e,e}(Ve),Ry=function(t){Re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.Create=function(n,r){t.prototype.Init.call(this,n,r);var i=r[He],o=i.name,a=i.uri||i.url,s=i[ft]||{},u=i.measurements||{};Ve.extractPropsAndMeasurements(r.data,s,u);var c=new sr(n,o,a,void 0,s,u,i),l=new ur(sr.dataType,c);return Ve.createEnvelope(n,sr.envelopeType,r,l)},e.PageViewPerformanceEnvelopeCreator=new e,e}(Ve),ky=function(t){Re(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.Create=function(n,r){t.prototype.Init.call(this,n,r);var i=r[He].message,o=r[He].severityLevel,a=r[He][ft]||{},s=r[He].measurements||{};Ve.extractPropsAndMeasurements(r.data,a,s);var u=new ar(n,i,o,a,s),c=new ur(ar.dataType,u);return Ve.createEnvelope(n,ar.envelopeType,r,c)},e.TraceEnvelopeCreator=new e,e}(Ve)}),Dy,gC=D(()=>{Ce(),dt(),Dy=function(){function t(e){Je(t,this,function(n){n.serialize=function(a){var s=r(a,"root");try{return vn().stringify(s)}catch(u){e.throwInternal(W.CRITICAL,U.CannotSerializeObject,u&&Ie(u.toString)?u.toString():"Error serializing object",null,!0)}};function r(a,s){var u="__aiCircularRefCheck",c={};if(!a)return e.throwInternal(W.CRITICAL,U.CannotSerializeObject,"cannot serialize object because it is null or undefined",{name:s},!0),c;if(a[u])return e.throwInternal(W.WARNING,U.CircularReferenceDetected,"Circular reference detected while serializing object",{name:s},!0),c;if(!a.aiDataContract){if(s==="measurements")c=o(a,"number",s);else if(s==="properties")c=o(a,"string",s);else if(s==="tags")c=o(a,"string",s);else if(tr(a))c=i(a,s);else{e.throwInternal(W.WARNING,U.CannotSerializeObjectNonSerializable,"Attempting to serialize an object which does not implement ISerializable",{name:s},!0);try{vn().stringify(a),c=a}catch(l){e.throwInternal(W.CRITICAL,U.CannotSerializeObject,l&&Ie(l.toString)?l.toString():"Error serializing object",null,!0)}}return c}return a[u]=!0,ct(a.aiDataContract,function(l,f){var d=Ie(f)?f()&1:f&1,p=Ie(f)?f()&4:f&4,g=f&2,m=a[l]!==void 0,v=gi(a[l])&&a[l]!==null;if(d&&!m&&!g)e.throwInternal(W.CRITICAL,U.MissingRequiredFieldSpecification,"Missing required field specification. The field is required but not present on source",{field:l,name:s});else if(!p){var h=void 0;v?g?h=i(a[l],l):h=r(a[l],l):h=a[l],h!==void 0&&(c[l]=h)}}),delete a[u],c}function i(a,s){var u;if(a)if(!tr(a))e.throwInternal(W.CRITICAL,U.ItemNotInArray,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:s},!0);else{u=[];for(var c=0;c<a.length;c++){var l=a[c],f=r(l,s+"["+c+"]");u.push(f)}}return u}function o(a,s,u){var c;return a&&(c={},ct(a,function(l,f){if(s==="string")f===void 0?c[l]="undefined":f===null?c[l]="null":f.toString?c[l]=f.toString():c[l]="invalid field: toString() is not defined.";else if(s==="number")if(f===void 0)c[l]="undefined";else if(f===null)c[l]="null";else{var d=parseFloat(f);isNaN(d)?c[l]="NaN":c[l]=d}else c[l]="invalid field: "+u+" is of unknown type.",e.throwInternal(W.CRITICAL,c[l],null,!0)})),c}})}return t}()}),Fy,Wd,mC=D(()=>{Ce(),dt(),Fy=function(){function t(){var e=qa(),n=Rn(),r=!1,i=!0;Je(t,this,function(o){try{if(e&&Xa.Attach(e,"online",u)&&(Xa.Attach(e,"offline",c),r=!0),n){var a=n.body||n;_t(a.ononline)||(a.ononline=u,a.onoffline=c,r=!0)}if(r){var s=kn();s&&!V(s.onLine)&&(i=s.onLine)}}catch{r=!1}o.isListening=r,o.isOnline=function(){var l=!0,f=kn();return r?l=i:f&&!V(f.onLine)&&(l=f.onLine),l},o.isOffline=function(){return!o.isOnline()};function u(){i=!0}function c(){i=!1}})}return t.Offline=new t,t}(),Wd=Fy.Offline}),My,hC=D(()=>{My=function(){function t(){}return t.prototype.getHashCodeScore=function(e){var n=this.getHashCode(e)/t.INT_MAX_VALUE;return n*100},t.prototype.getHashCode=function(e){if(e==="")return 0;for(;e.length<t.MIN_INPUT_LENGTH;)e=e.concat(e);for(var n=5381,r=0;r<e.length;++r)n=(n<<5)+n+e.charCodeAt(r),n=n&n;return Math.abs(n)},t.INT_MAX_VALUE=2147483647,t.MIN_INPUT_LENGTH=8,t}()}),Ny,yC=D(()=>{hC(),lt(),Ny=function(){function t(){this.hashCodeGeneragor=new My,this.keys=new lc}return t.prototype.getSamplingScore=function(e){var n=0;return e.tags&&e.tags[this.keys.userId]?n=this.hashCodeGeneragor.getHashCodeScore(e.tags[this.keys.userId]):e.ext&&e.ext.user&&e.ext.user.id?n=this.hashCodeGeneragor.getHashCodeScore(e.ext.user.id):e.tags&&e.tags[this.keys.operationId]?n=this.hashCodeGeneragor.getHashCodeScore(e.tags[this.keys.operationId]):e.ext&&e.ext.telemetryTrace&&e.ext.telemetryTrace.traceID?n=this.hashCodeGeneragor.getHashCodeScore(e.ext.telemetryTrace.traceID):n=Math.random()*100,n},t}()}),Ly,xC=D(()=>{yC(),lt(),Ce(),Ly=function(){function t(e,n){this.INT_MAX_VALUE=2147483647,this._logger=n||Hu(null),(e>100||e<0)&&(this._logger.throwInternal(W.WARNING,U.SampleRateOutOfRange,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:e},!0),e=100),this.sampleRate=e,this.samplingScoreGenerator=new Ny}return t.prototype.isSampledIn=function(e){var n=this.sampleRate,r=!1;return n==null||n>=100||e.baseType===Fn.dataType?!0:(r=this.samplingScoreGenerator.getSamplingScore(e)<n,r)},t}()});function vc(t){try{return t.responseText}catch{}return null}var Vd,wC=D(()=>{Fe(),pC(),vC(),gC(),lt(),Ce(),mC(),xC(),dt(),Vd=function(t){Re(e,t);function e(){var n=t.call(this)||this;n.priority=1001,n.identifier=fc,n._XMLHttpRequestSupported=!1;var r,i,o,a,s,u,c={};return Je(e,n,function(l,f){function d(){An("Method not implemented.")}l.pause=d,l.resume=d,l.flush=function(){try{l.triggerSend(!0,null,1)}catch(w){l.diagLog().throwInternal(W.CRITICAL,U.FlushFailed,"flush failed, telemetry will not be collected: "+Pe(w),{exception:ve(w)})}},l.onunloadFlush=function(){if((l._senderConfig.onunloadDisableBeacon()===!1||l._senderConfig.isBeaconApiDisabled()===!1)&&yd())try{l.triggerSend(!0,v,2)}catch(w){l.diagLog().throwInternal(W.CRITICAL,U.FailedToSendQueuedTelemetry,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+Pe(w),{exception:ve(w)})}else l.flush()},l.teardown=d,l.addHeader=function(w,E){c[w]=E},l.initialize=function(w,E,M,H){f.initialize(w,E,M,H);var X=l._getTelCtx(),I=l.identifier;s=new Dy(E.logger),r=0,i=null,o=0,l._sender=null,u=0;var B=e._getDefaultAppInsightsChannelConfig();if(l._senderConfig=e._getEmptyAppInsightsChannelConfig(),ct(B,function(T,R){l._senderConfig[T]=function(){return X.getConfig(I,T,R())}}),l._buffer=l._senderConfig.enableSessionStorageBuffer()&&Fo()?new Ey(l.diagLog(),l._senderConfig):new Iy(l._senderConfig),l._sample=new Ly(l._senderConfig.samplingPercentage(),l.diagLog()),ce(w)||l.diagLog().throwInternal(W.CRITICAL,U.InvalidInstrumentationKey,"Invalid Instrumentation key "+w.instrumentationKey),!rc(l._senderConfig.endpointUrl())&&l._senderConfig.customHeaders()&&l._senderConfig.customHeaders().length>0&&ye(l._senderConfig.customHeaders(),function(T){n.addHeader(T.header,T.value)}),!l._senderConfig.isBeaconApiDisabled()&&yd())l._sender=v;else{var Q=Ct("XMLHttpRequest");if(Q){var G=new Q;"withCredentials"in G?(l._sender=h,l._XMLHttpRequestSupported=!0):typeof XDomainRequest!==Yn&&(l._sender=Y)}else{var le=Ct("fetch");le&&(l._sender=x)}}},l.processTelemetry=function(w,E){E=l._getTelCtx(E);try{if(l._senderConfig.disableTelemetry())return;if(!w){E.diagLog().throwInternal(W.CRITICAL,U.CannotSendEmptyTelemetry,"Cannot send empty telemetry");return}if(w.baseData&&!w.baseType){E.diagLog().throwInternal(W.CRITICAL,U.InvalidEvent,"Cannot send telemetry without baseData and baseType");return}if(w.baseType||(w.baseType="EventData"),!l._sender){E.diagLog().throwInternal(W.CRITICAL,U.SenderNotInitialized,"Sender was not initialized");return}if(p(w))w[Yu]=l._sample.sampleRate;else{E.diagLog().throwInternal(W.WARNING,U.TelemetrySampledAndNotSent,"Telemetry item was sampled out and not sent",{SampleRate:l._sample.sampleRate});return}var M=e.constructEnvelope(w,l._senderConfig.instrumentationKey(),E.diagLog());if(!M){E.diagLog().throwInternal(W.CRITICAL,U.CreateEnvelopeError,"Unable to create an AppInsights envelope");return}var H=!1;if(w.tags&&w.tags[Do]&&(ye(w.tags[Do],function(Q){try{Q&&Q(M)===!1&&(H=!0,E.diagLog().warnToConsole("Telemetry processor check returns false"))}catch(G){E.diagLog().throwInternal(W.CRITICAL,U.TelemetryInitializerFailed,"One of telemetry initializers failed, telemetry item will not be sent: "+Pe(G),{exception:ve(G)},!0)}}),delete w.tags[Do]),H)return;var X=s.serialize(M),I=l._buffer.getItems(),B=l._buffer.batchPayloads(I);B&&B.length+X.length>l._senderConfig.maxBatchSizeInBytes()&&l.triggerSend(!0,null,10),l._buffer.enqueue(X),K()}catch(Q){E.diagLog().throwInternal(W.WARNING,U.FailedAddingTelemetryToBuffer,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+Pe(Q),{exception:ve(Q)})}l.processNext(w,E)},l._xhrReadyStateChange=function(w,E,M){w.readyState===4&&g(w.status,E,w.responseURL,M,A(w),vc(w)||w.response)},l.triggerSend=function(w,E,M){w===void 0&&(w=!0);try{if(l._senderConfig.disableTelemetry())l._buffer.clear();else{if(l._buffer.count()>0){var H=l._buffer.getItems();Z(M||0,w),E?E.call(n,H,w):l._sender(H,w)}o=+new Date}clearTimeout(a),a=null,i=null}catch(I){var X=Lf();(!X||X>9)&&l.diagLog().throwInternal(W.CRITICAL,U.TransmissionFailed,"Telemetry transmission failed, some telemetry will be lost: "+Pe(I),{exception:ve(I)})}},l._onError=function(w,E,M){l.diagLog().throwInternal(W.WARNING,U.OnError,"Failed to send telemetry.",{message:E}),l._buffer.clearSent(w)},l._onPartialSuccess=function(w,E){for(var M=[],H=[],X=E.errors.reverse(),I=0,B=X;I<B.length;I++){var Q=B[I],G=w.splice(Q.index,1)[0];te(Q.statusCode)?H.push(G):M.push(G)}w.length>0&&l._onSuccess(w,E.itemsAccepted),M.length>0&&l._onError(M,A(null,["partial success",E.itemsAccepted,"of",E.itemsReceived].join(" "))),H.length>0&&(_(H),l.diagLog().throwInternal(W.WARNING,U.TransmissionFailed,"Partial success. Delivered: "+w.length+", Failed: "+M.length+". Will retry to send "+H.length+" our of "+E.itemsReceived+" items"))},l._onSuccess=function(w,E){l._buffer.clearSent(w)},l._xdrOnLoad=function(w,E){var M=vc(w);if(w&&(M+""=="200"||M===""))r=0,l._onSuccess(E,0);else{var H=S(M);H&&H.itemsReceived&&H.itemsReceived>H.itemsAccepted&&!l._senderConfig.isRetryDisabled()?l._onPartialSuccess(E,H):l._onError(E,z(w))}};function p(w){return l._sample.isSampledIn(w)}function g(w,E,M,H,X,I){var B=null;if(l._appId||(B=S(I),B&&B.appId&&(l._appId=B.appId)),(w<200||w>=300)&&w!==0){if((w===301||w===307||w===308)&&!m(M)){l._onError(E,X);return}!l._senderConfig.isRetryDisabled()&&te(w)?(_(E),l.diagLog().throwInternal(W.WARNING,U.TransmissionFailed,". Response code "+w+". Will retry to send "+E.length+" items.")):l._onError(E,X)}else if(Wd.isOffline()){if(!l._senderConfig.isRetryDisabled()){var Q=10;_(E,Q),l.diagLog().throwInternal(W.WARNING,U.TransmissionFailed,". Offline - Response Code: "+w+". Offline status: "+Wd.isOffline()+". Will retry to send "+E.length+" items.")}}else m(M),w===206?(B||(B=S(I)),B&&!l._senderConfig.isRetryDisabled()?l._onPartialSuccess(E,B):l._onError(E,X)):(r=0,l._onSuccess(E,H))}function m(w){return u>=10?!1:!V(w)&&w!==""&&w!==l._senderConfig.endpointUrl()?(l._senderConfig.endpointUrl=function(){return w},++u,!0):!1}function v(w,E){var M=l._senderConfig.endpointUrl(),H=l._buffer.batchPayloads(w),X=new Blob([H],{type:"text/plain;charset=UTF-8"}),I=kn().sendBeacon(M,X);I?(l._buffer.markAsSent(w),l._onSuccess(w,w.length)):(h(w,!0),l.diagLog().throwInternal(W.WARNING,U.TransmissionFailed,". Failed to send telemetry with Beacon API, retried with xhrSender."))}function h(w,E){var M=new XMLHttpRequest,H=l._senderConfig.endpointUrl();try{M[Si]=!0}catch{}M.open("POST",H,E),M.setRequestHeader("Content-type","application/json"),rc(H)&&M.setRequestHeader(Ue.sdkContextHeader,Ue.sdkContextHeaderAppIdRequest),ye(mi(c),function(I){M.setRequestHeader(I,c[I])}),M.onreadystatechange=function(){return l._xhrReadyStateChange(M,w,w.length)},M.onerror=function(I){return l._onError(w,A(M),I)};var X=l._buffer.batchPayloads(w);M.send(X),l._buffer.markAsSent(w)}function x(w,E){var M=l._senderConfig.endpointUrl(),H=l._buffer.batchPayloads(w),X=new Blob([H],{type:"text/plain;charset=UTF-8"}),I=new Headers;rc(M)&&I.append(Ue.sdkContextHeader,Ue.sdkContextHeaderAppIdRequest),ye(mi(c),function(G){I.append(G,c[G])});var B={method:"POST",headers:I,body:X},Q=new Request(M,B);fetch(Q).then(function(G){if(G.ok)G.text().then(function(le){g(G.status,w,G.url,w.length,G.statusText,le)}),l._buffer.markAsSent(w);else throw Error(G.statusText)}).catch(function(G){l._onError(w,G.message)})}function S(w){try{if(w&&w!==""){var E=vn().parse(w);if(E&&E.itemsReceived&&E.itemsReceived>=E.itemsAccepted&&E.itemsReceived-E.itemsAccepted===E.errors.length)return E}}catch(M){l.diagLog().throwInternal(W.CRITICAL,U.InvalidBackendResponse,"Cannot parse the response. "+Pe(M),{response:w})}return null}function _(w,E){if(E===void 0&&(E=1),!(!w||w.length===0)){l._buffer.clearSent(w),r++;for(var M=0,H=w;M<H.length;M++){var X=H[M];l._buffer.enqueue(X)}y(E),K()}}function y(w){var E=10,M;if(r<=1)M=E;else{var H=(Math.pow(2,r)-1)/2,X=Math.floor(Math.random()*H*E)+1;X=w*X,M=Math.max(Math.min(X,3600),E)}var I=en()+M*1e3;i=I}function K(){if(!a){var w=i?Math.max(0,i-en()):0,E=Math.max(l._senderConfig.maxBatchInterval(),w);a=setTimeout(function(){l.triggerSend(!0,null,1)},E)}}function te(w){return w===408||w===429||w===500||w===503}function A(w,E){return w?"XMLHttpRequest,Status:"+w.status+",Response:"+vc(w)||w.response||"":E}function Y(w,E){var M=qa(),H=new XDomainRequest;H.onload=function(){return l._xdrOnLoad(H,w)},H.onerror=function(Q){return l._onError(w,z(H),Q)};var X=M&&M.location&&M.location.protocol||"";if(l._senderConfig.endpointUrl().lastIndexOf(X,0)!==0){l.diagLog().throwInternal(W.WARNING,U.TransmissionFailed,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),l._buffer.clear();return}var I=l._senderConfig.endpointUrl().replace(/^(https?:)/,"");H.open("POST",I);var B=l._buffer.batchPayloads(w);H.send(B),l._buffer.markAsSent(w)}function z(w,E){return w?"XDomainRequest,Response:"+vc(w)||"":E}function oe(){var w="getNotifyMgr";return l.core[w]?l.core[w]():l.core._notificationManager}function Z(w,E){var M=oe();if(M&&M.eventsSendRequest)try{M.eventsSendRequest(w,E)}catch(H){l.diagLog().throwInternal(W.CRITICAL,U.NotificationException,"send request notification failed: "+Pe(H),{exception:ve(H)})}}function ce(w){var E=V(w.disableInstrumentationKeyValidation)?!1:w.disableInstrumentationKeyValidation;if(E)return!0;var M="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",H=new RegExp(M);return H.test(w.instrumentationKey)}}),n}return e.constructEnvelope=function(n,r,i){var o;switch(r!==n.iKey&&!V(r)?o=yo({},n,{iKey:r}):o=n,o.baseType){case yn.dataType:return jd.EventEnvelopeCreator.Create(i,o);case ar.dataType:return ky.TraceEnvelopeCreator.Create(i,o);case xn.dataType:return Ay.PageViewEnvelopeCreator.Create(i,o);case sr.dataType:return Ry.PageViewPerformanceEnvelopeCreator.Create(i,o);case Rt.dataType:return _y.ExceptionEnvelopeCreator.Create(i,o);case Fn.dataType:return Py.MetricEnvelopeCreator.Create(i,o);case Mn.dataType:return Ty.DependencyEnvelopeCreator.Create(i,o);default:return jd.EventEnvelopeCreator.Create(i,o)}},e._getDefaultAppInsightsChannelConfig=function(){return{endpointUrl:function(){return"https://dc.services.visualstudio.com/v2/track"},emitLineDelimitedJson:function(){return!1},maxBatchInterval:function(){return 15e3},maxBatchSizeInBytes:function(){return 102400},disableTelemetry:function(){return!1},enableSessionStorageBuffer:function(){return!0},isRetryDisabled:function(){return!1},isBeaconApiDisabled:function(){return!0},onunloadDisableBeacon:function(){return!1},instrumentationKey:function(){},namePrefix:function(){},samplingPercentage:function(){return 100},customHeaders:function(){}}},e._getEmptyAppInsightsChannelConfig=function(){return{endpointUrl:void 0,emitLineDelimitedJson:void 0,maxBatchInterval:void 0,maxBatchSizeInBytes:void 0,disableTelemetry:void 0,enableSessionStorageBuffer:void 0,isRetryDisabled:void 0,isBeaconApiDisabled:void 0,onunloadDisableBeacon:void 0,instrumentationKey:void 0,namePrefix:void 0,samplingPercentage:void 0,customHeaders:void 0}},e}(wi)}),Uy=D(()=>{wC()}),Oy,Kd,Hy,bC=D(()=>{dt(),lt(),Ce(),Oy="ai_session",Kd=function(){function t(){}return t}(),Hy=function(){function t(e,n){var r=this,i,o,a=Hu(n),s=Qf(n);Je(t,r,function(u){e||(e={}),Ie(e.sessionExpirationMs)||(e.sessionExpirationMs=function(){return t.acquisitionSpan}),Ie(e.sessionRenewalMs)||(e.sessionRenewalMs=function(){return t.renewalSpan}),u.config=e;var c=u.config.sessionCookiePostfix&&u.config.sessionCookiePostfix()?u.config.sessionCookiePostfix():u.config.namePrefix&&u.config.namePrefix()?u.config.namePrefix():"";i=function(){return Oy+c},u.automaticSession=new Kd,u.update=function(){var m=en(),v=!1,h=u.automaticSession;h.id||(v=!l(h,m));var x=u.config.sessionExpirationMs();if(!v&&x>0){var S=u.config.sessionRenewalMs(),_=m-h.acquisitionDate,y=m-h.renewalDate;v=_<0||y<0,v=v||_>x,v=v||y>S}v?d(m):(!o||m-o>t.cookieUpdateInterval)&&p(h,m)},u.backup=function(){var m=u.automaticSession;g(m.id,m.acquisitionDate,m.renewalDate)};function l(m,v){var h=!1,x=s.get(i());if(x&&Ie(x.split))h=f(m,x);else{var S=Lh(a,i());S&&(h=f(m,S))}return h||!!m.id}function f(m,v){var h=!1,x=", session will be reset",S=v.split("|");if(S.length>=2)try{var _=+S[1]||0,y=+S[2]||0;isNaN(_)||_<=0?a.throwInternal(W.WARNING,U.SessionRenewalDateIsZero,"AI session acquisition date is 0"+x):isNaN(y)||y<=0?a.throwInternal(W.WARNING,U.SessionRenewalDateIsZero,"AI session renewal date is 0"+x):S[0]&&(m.id=S[0],m.acquisitionDate=_,m.renewalDate=y,h=!0)}catch(K){a.throwInternal(W.CRITICAL,U.ErrorParsingAISessionCookie,"Error parsing ai_session value ["+(v||"")+"]"+x+" - "+Pe(K),{exception:ve(K)})}return h}function d(m){var v=u.config||{},h=(v.getNewId?v.getNewId():null)||Qu;u.automaticSession.id=h(v.idLength?v.idLength():22),u.automaticSession.acquisitionDate=m,p(u.automaticSession,m),Cd()||a.throwInternal(W.WARNING,U.BrowserDoesNotSupportLocalStorage,"Browser does not support local storage. Session durations will be inaccurate.")}function p(m,v){var h=m.acquisitionDate;m.renewalDate=v;var x=u.config,S=x.sessionRenewalMs(),_=h+x.sessionExpirationMs()-v,y=[m.id,h,v],K=0;_<S?K=_/1e3:K=S/1e3;var te=x.cookieDomain?x.cookieDomain():null;s.set(i(),y.join("|"),x.sessionExpirationMs()>0?K:null,te),o=v}function g(m,v,h){Uh(a,i(),[m,v,h].join("|"))}})}return t.acquisitionSpan=864e5,t.renewalSpan=18e5,t.cookieUpdateInterval=6e4,t}()}),By,CC=D(()=>{By=function(){function t(){}return t}()}),qy,SC=D(()=>{qy=function(){function t(){this.id="browser",this.deviceClass="Browser"}return t}()}),zy,jy,IC=D(()=>{zy="2.6.4",jy=function(){function t(e){this.sdkVersion=(e.sdkExtension&&e.sdkExtension()?e.sdkExtension()+"_":"")+"javascript:"+zy}return t}()});function Wy(t){return!(typeof t!="string"||!t||t.match(/,|;|=| |\|/))}var Vy,EC=D(()=>{dt(),lt(),Ce(),Vy=function(){function t(e,n){this.isNewUser=!1;var r=Hu(n),i=Qf(n),o;Je(t,this,function(a){a.config=e;var s=a.config.userCookiePostfix&&a.config.userCookiePostfix()?a.config.userCookiePostfix():"";o=function(){return t.userCookieName+s};var u=i.get(o());if(u){a.isNewUser=!1;var c=u.split(t.cookieSeparator);c.length>0&&(a.id=c[0])}if(!a.id){var l=e||{},f=(l.getNewId?l.getNewId():null)||Qu;a.id=f(l.idLength?e.idLength():22);var d=31536e3,p=Tr(new Date);a.accountAcquisitionDate=p,a.isNewUser=!0;var g=[a.id,p];i.set(o(),g.join(t.cookieSeparator),d);var m=e.namePrefix&&e.namePrefix()?e.namePrefix()+"ai_session":"ai_session";Oh(r,m)}a.accountId=e.accountId?e.accountId():void 0;var v=i.get(t.authUserCookieName);if(v){v=decodeURI(v);var h=v.split(t.cookieSeparator);h[0]&&(a.authenticatedId=h[0]),h.length>1&&h[1]&&(a.accountId=h[1])}a.setAuthenticatedUserContext=function(x,S,_){_===void 0&&(_=!1);var y=!Wy(x)||S&&!Wy(S);if(y){r.throwInternal(W.WARNING,U.SetAuthContextFailedAccountName,"Setting auth user context failed. User auth/account id should be of type string, and not contain commas, semi-colons, equal signs, spaces, or vertical-bars.",!0);return}a.authenticatedId=x;var K=a.authenticatedId;S&&(a.accountId=S,K=[a.authenticatedId,a.accountId].join(t.cookieSeparator)),_&&i.set(t.authUserCookieName,encodeURI(K))},a.clearAuthenticatedUserContext=function(){a.authenticatedId=null,a.accountId=null,i.del(t.authUserCookieName)}})}return t.cookieSeparator="|",t.userCookieName="ai_user",t.authUserCookieName="ai_authUser",t}()}),Ky,TC=D(()=>{Ky=function(){function t(){}return t}()}),Gy,_C=D(()=>{lt(),Ce(),Gy=function(){function t(e,n,r,i){var o=this;o.traceID=e||Dn(),o.parentID=n,o.name=r;var a=hi();!r&&a&&a.pathname&&(o.name=a.pathname),o.name=Pt(i,o.name)}return t}()});function Oo(t,e){t&&t[e]&&mi(t[e]).length===0&&delete t[e]}var ts,ns,Xy,PC=D(()=>{dt(),Ce(),bC(),lt(),CC(),SC(),IC(),EC(),TC(),_C(),ts="ext",ns="tags",Xy=function(){function t(e,n){var r=this,i=e.logger;this.appId=function(){return null},Je(t,this,function(o){o.application=new By,o.internal=new jy(n),Fu()&&(o.sessionManager=new Hy(n,e),o.device=new qy,o.location=new Ky,o.user=new Vy(n,e),o.telemetryTrace=new Gy(void 0,void 0,void 0,i),o.session=new Kd),o.applySessionContext=function(a,s){var u=o.session,c=o.sessionManager;u&&he(u.id)?Ee(wt(a.ext,kt.AppExt),"sesId",u.id):c&&c.automaticSession&&Ee(wt(a.ext,kt.AppExt),"sesId",c.automaticSession.id,he)},o.applyOperatingSystemContxt=function(a,s){Ee(a.ext,kt.OSExt,o.os)},o.applyApplicationContext=function(a,s){var u=o.application;if(u){var c=wt(a,ns);Ee(c,Me.applicationVersion,u.ver,he),Ee(c,Me.applicationBuild,u.build,he)}},o.applyDeviceContext=function(a,s){var u=o.device;if(u){var c=wt(wt(a,ts),kt.DeviceExt);Ee(c,"localId",u.id,he),Ee(c,"ip",u.ip,he),Ee(c,"model",u.model,he),Ee(c,"deviceClass",u.deviceClass,he)}},o.applyInternalContext=function(a,s){var u=o.internal;if(u){var c=wt(a,ns);Ee(c,Me.internalAgentVersion,u.agentVersion,he),Ee(c,Me.internalSdkVersion,u.sdkVersion,he),(a.baseType===So.dataType||a.baseType===xn.dataType)&&(Ee(c,Me.internalSnippet,u.snippetVer,he),Ee(c,Me.internalSdkSrc,u.sdkSrc,he))}},o.applyLocationContext=function(a,s){var u=r.location;u&&Ee(wt(a,ns,[]),Me.locationIp,u.ip,he)},o.applyOperationContext=function(a,s){var u=o.telemetryTrace;if(u){var c=wt(wt(a,ts),kt.TraceExt,{traceID:void 0,parentID:void 0});Ee(c,"traceID",u.traceID,he),Ee(c,"name",u.name,he),Ee(c,"parentID",u.parentID,he)}},o.applyWebContext=function(a,s){var u=r.web;u&&Ee(wt(a,ts),kt.WebExt,u)},o.applyUserContext=function(a,s){var u=o.user;if(u){var c=wt(a,ns,[]);Ee(c,Me.userAccountId,u.accountId,he);var l=wt(wt(a,ts),kt.UserExt);Ee(l,"id",u.id,he),Ee(l,"authId",u.authenticatedId,he)}},o.cleanUp=function(a,s){var u=a.ext;u&&(Oo(u,kt.DeviceExt),Oo(u,kt.UserExt),Oo(u,kt.WebExt),Oo(u,kt.OSExt),Oo(u,kt.AppExt),Oo(u,kt.TraceExt))}})}return t}()}),Qy,Gd,AC=D(()=>{Fe(),dt(),Ce(),PC(),lt(),Qy=function(t){Re(e,t);function e(){var n=t.call(this)||this;n.priority=110,n.identifier=Uo;var r,i;return Je(e,n,function(o,a){o.initialize=function(u,c,l,f){a.initialize(u,c,l,f);var d=o._getTelCtx(),p=o.identifier,g=e.getDefaultConfig();i=i||{},ct(g,function(m,v){i[m]=function(){return d.getConfig(p,m,v())}}),o.context=new Xy(c,i),r=Dh(l,fc),o.context.appId=function(){return r?r._appId:null},o._extConfig=i},o.processTelemetry=function(u,c){if(!V(u)){c=o._getTelCtx(c),u.name===xn.envelopeType&&c.diagLog().resetInternalMessageCount();var l=o.context||{};if(l.session&&typeof o.context.session.id!="string"&&l.sessionManager&&l.sessionManager.update(),s(u,c),l.user&&l.user.isNewUser){l.user.isNewUser=!1;var f=new So(U.SendBrowserInfoOnUserInit,(kn()||{}).userAgent||"");c.diagLog().logInternalMessage(W.CRITICAL,f)}o.processNext(u,c)}};function s(u,c){wt(u,"tags",[]),wt(u,"ext",{});var l=o.context;l.applySessionContext(u,c),l.applyApplicationContext(u,c),l.applyDeviceContext(u,c),l.applyOperationContext(u,c),l.applyUserContext(u,c),l.applyOperatingSystemContxt(u,c),l.applyWebContext(u,c),l.applyLocationContext(u,c),l.applyInternalContext(u,c),l.cleanUp(u,c)}}),n}return e.getDefaultConfig=function(){var n={instrumentationKey:function(){},accountId:function(){return null},sessionRenewalMs:function(){return 18e5},samplingPercentage:function(){return 100},sessionExpirationMs:function(){return 864e5},cookieDomain:function(){return null},sdkExtension:function(){return null},isBrowserLinkTrackingEnabled:function(){return!1},appId:function(){return null},namePrefix:function(){},sessionCookiePostfix:function(){},userCookiePostfix:function(){},idLength:function(){return 22},getNewId:function(){return null}};return n},e}(wi),Gd=Qy}),$y=D(()=>{AC()});function Jy(t,e,n){var r=0,i=t[e],o=t[n];return i&&o&&(r=At(i,o)),r}function _i(t,e,n,r,i){var o=0,a=Jy(n,r,i);return a&&(o=Mr(t,e,or(a))),o}function Mr(t,e,n){var r="ajaxPerf",i=0;if(t&&e&&n){var o=t[r]=t[r]||{};o[e]=n,i=1}return i}function RC(t,e){var n=t.perfTiming,r=e[qt]||{},i=0,o="name",a="Start",s="End",u="domainLookup",c="connect",l="redirect",f="request",d="response",p="duration",g="startTime",m=u+a,v=u+s,h=c+a,x=c+s,S=f+a,_=f+s,y=d+a,K=d+s,te=l+a,A=l=s,Y="transferSize",z="encodedBodySize",oe="decodedBodySize",Z="serverTiming";if(n){i|=_i(r,l,n,te,A),i|=_i(r,u,n,m,v),i|=_i(r,c,n,h,x),i|=_i(r,f,n,S,_),i|=_i(r,d,n,y,K),i|=_i(r,"networkConnect",n,g,x),i|=_i(r,"sentRequest",n,S,K);var ce=n[p];ce||(ce=Jy(n,g,K)||0),i|=Mr(r,p,ce),i|=Mr(r,"perfTotal",ce);var w=n[Z];if(w){var E={};ye(w,function(M,H){var X=Zw(M[o]||""+H),I=E[X]||{};ct(M,function(B,Q){(B!==o&&he(Q)||_f(Q))&&(I[B]&&(Q=I[B]+";"+Q),(Q||!he(Q))&&(I[B]=Q))}),E[X]=I}),i|=Mr(r,Z,E)}i|=Mr(r,Y,n[Y]),i|=Mr(r,z,n[z]),i|=Mr(r,oe,n[oe])}else t.perfMark&&(i|=Mr(r,"missing",t.perfAttempts));i&&(e[qt]=r)}var qt,Yy,Xd,kC=D(()=>{lt(),Ce(),dt(),qt="properties",Yy=function(){function t(){var e=this;e.openDone=!1,e.setRequestHeaderDone=!1,e.sendDone=!1,e.abortDone=!1,e.stateChangeAttached=!1}return t}(),Xd=function(){function t(e,n,r){var i=this,o=r,a="responseText";i.perfMark=null,i.completed=!1,i.requestHeadersSize=null,i.requestHeaders=null,i.responseReceivingDuration=null,i.callbackDuration=null,i.ajaxTotalDuration=null,i.aborted=0,i.pageUrl=null,i.requestUrl=null,i.requestSize=0,i.method=null,i.status=null,i.requestSentTime=null,i.responseStartedTime=null,i.responseFinishedTime=null,i.callbackFinishedTime=null,i.endTime=null,i.xhrMonitoringState=new Yy,i.clientFailure=0,i.traceID=e,i.spanID=n,Je(t,i,function(s){s.getAbsoluteUrl=function(){return s.requestUrl?qh(s.requestUrl):null},s.getPathName=function(){return s.requestUrl?Qa(o,zh(s.method,s.requestUrl)):null},s.CreateTrackItem=function(u,c,l){if(s.ajaxTotalDuration=Math.round(At(s.requestSentTime,s.responseFinishedTime)*1e3)/1e3,s.ajaxTotalDuration<0)return null;var f=(m={id:"|"+s.traceID+"."+s.spanID,target:s.getAbsoluteUrl(),name:s.getPathName(),type:u,startTime:null,duration:s.ajaxTotalDuration,success:+s.status>=200&&+s.status<400,responseCode:+s.status,method:s.method},m[qt]={HttpMethod:s.method},m);if(s.requestSentTime&&(f.startTime=new Date,f.startTime.setTime(s.requestSentTime)),RC(s,f),c&&mi(s.requestHeaders).length>0&&(f[qt]=f[qt]||{},f[qt].requestHeaders=s.requestHeaders),l){var d=l();if(d){var p=d.correlationContext;if(p&&(f.correlationContext=p),d.headerMap&&mi(d.headerMap).length>0&&(f[qt]=f[qt]||{},f[qt].responseHeaders=d.headerMap),s.status>=400){var g=d.type;f[qt]=f[qt]||{},(g===""||g==="text")&&(f[qt][a]=d[a]?d.statusText+" - "+d[a]:d.statusText),g==="json"&&(f[qt][a]=d.response?d.statusText+" - "+JSON.stringify(d.response):d.statusText)}}}return f;var m}})}return t}()}),DC,FC=D(()=>{Ce(),Ce(),DC=function(){function t(){}return t.GetLength=function(e){var n=0;if(!V(e)){var r="";try{r=e.toString()}catch{}n=r.length,n=isNaN(n)?0:n}return n},t}()}),Qd,MC=D(()=>{Ce(),Qd=function(){function t(e,n){var r=this;r.traceFlag=t.DEFAULT_TRACE_FLAG,r.version=t.DEFAULT_VERSION,e&&t.isValidTraceId(e)?r.traceId=e:r.traceId=Dn(),n&&t.isValidSpanId(n)?r.spanId=n:r.spanId=Dn().substr(0,16)}return t.isValidTraceId=function(e){return e.match(/^[0-9a-f]{32}$/)&&e!=="00000000000000000000000000000000"},t.isValidSpanId=function(e){return e.match(/^[0-9a-f]{16}$/)&&e!=="0000000000000000"},t.prototype.toString=function(){var e=this;return e.version+"-"+e.traceId+"-"+e.spanId+"-"+e.traceFlag},t.DEFAULT_TRACE_FLAG="01",t.DEFAULT_VERSION="00",t}()});function NC(){var t=ho();return!t||V(t.Request)||V(t.Request[Kt])||V(t[qo])?null:t[qo]}function LC(t){var e=!1;if(typeof XMLHttpRequest!==Yn&&!V(XMLHttpRequest)){var n=XMLHttpRequest[Kt];e=!V(n)&&!V(n.open)&&!V(n.send)&&!V(n.abort)}var r=Lf();if(r&&r<9&&(e=!1),e)try{var i=new XMLHttpRequest;i[zt]={};var o=XMLHttpRequest[Kt].open;XMLHttpRequest[Kt].open=o}catch(a){e=!1,rs(t,U.FailedMonitorAjaxOpen,"Failed to enable XMLHttpRequest monitoring, extension is not supported",{exception:ve(a)})}return e}function gc(t){var e="";try{!V(t)&&!V(t[zt])&&!V(t[zt].requestUrl)&&(e+="(url: '"+t[zt].requestUrl+"')")}catch{}return e}function rs(t,e,n,r,i){t[Bo]()[Jd](W.CRITICAL,e,n,r,i)}function mc(t,e,n,r,i){t[Bo]()[Jd](W.WARNING,e,n,r,i)}function is(t,e,n){return function(r){rs(t,e,n,{ajaxDiagnosticsMessage:gc(r.inst),exception:ve(r.err)})}}function Ho(t,e){return t&&e?t.indexOf(e):-1}var $d,Bo,zt,Jd,qo,Yd,Zd,UC=D(()=>{Fe(),lt(),Ce(),kC(),FC(),MC(),dt(),$d="ai.ajxmn.",Bo="diagLog",zt="ajaxData",Jd="throwInternal",qo="fetch",Yd=0,Zd=function(t){Re(e,t);function e(){var n=t.call(this)||this;n.identifier=e.identifier,n.priority=120;var r="trackDependencyDataInternal",i=hi(),o=!1,a=!1,s=i&&i.host&&i.host.toLowerCase(),u=e.getEmptyConfig(),c=!1,l=0,f,d,p,g,m=!1,v=0,h=!1,x=[],S={},_;return Je(e,n,function(y,K){y.initialize=function(T,R,L,q){if(!y.isInitialized()){K.initialize(T,R,L,q);var $=y._getTelCtx(),ie=e.getDefaultConfig();ct(ie,function(Ye,rn){u[Ye]=$.getConfig(e.identifier,Ye,rn)});var ne=u.distributedTracingMode;if(c=u.enableRequestHeaderTracking,m=u.enableAjaxPerfTracking,v=u.maxAjaxCallsPerView,h=u.enableResponseHeaderTracking,_=u.excludeRequestFromAutoTrackingPatterns,p=ne===hn.AI||ne===hn.AI_AND_W3C,d=ne===hn.AI_AND_W3C||ne===hn.W3C,m){var xe=T.instrumentationKey||"unkwn";xe.length>5?g=$d+xe.substring(xe.length-5)+".":g=$d+xe+"."}if(u.disableAjaxTracking===!1&&z(),A(),L.length>0&&L){for(var De=void 0,Oe=0;!De&&Oe<L.length;)L[Oe]&&L[Oe].identifier===Uo&&(De=L[Oe]),Oe++;De&&(f=De.context)}}},y.teardown=function(){ye(x,function(T){T.rm()}),x=[],o=!1,a=!1,y.setInitialized(!1)},y.trackDependencyData=function(T,R){y[r](T,R)},y.includeCorrelationHeaders=function(T,R,L,q){var $=y._currentWindowHost||s;if(R){if(kr.canIncludeCorrelationHeader(u,T.getAbsoluteUrl(),$)){if(L||(L={}),L.headers=new Headers(L.headers||(R instanceof Request?R.headers||{}:{})),p){var ie="|"+T.traceID+"."+T.spanID;L.headers.set(Ue.requestIdHeader,ie),c&&(T.requestHeaders[Ue.requestIdHeader]=ie)}var ne=u.appId||f&&f.appId();if(ne&&(L.headers.set(Ue.requestContextHeader,Ue.requestContextAppIdFormat+ne),c&&(T.requestHeaders[Ue.requestContextHeader]=Ue.requestContextAppIdFormat+ne)),d){var xe=new Qd(T.traceID,T.spanID);L.headers.set(Ue.traceParentHeader,xe.toString()),c&&(T.requestHeaders[Ue.traceParentHeader]=xe.toString())}}return L}else if(q){if(kr.canIncludeCorrelationHeader(u,T.getAbsoluteUrl(),$)){if(p){var ie="|"+T.traceID+"."+T.spanID;q.setRequestHeader(Ue.requestIdHeader,ie),c&&(T.requestHeaders[Ue.requestIdHeader]=ie)}var ne=u.appId||f&&f.appId();if(ne&&(q.setRequestHeader(Ue.requestContextHeader,Ue.requestContextAppIdFormat+ne),c&&(T.requestHeaders[Ue.requestContextHeader]=Ue.requestContextAppIdFormat+ne)),d){var xe=new Qd(T.traceID,T.spanID);q.setRequestHeader(Ue.traceParentHeader,xe.toString()),c&&(T.requestHeaders[Ue.traceParentHeader]=xe.toString())}}return q}},y[r]=function(T,R,L){if(v===-1||l<v){(u.distributedTracingMode===hn.W3C||u.distributedTracingMode===hn.AI_AND_W3C)&&typeof T.id=="string"&&T.id[T.id.length-1]!=="."&&(T.id+="."),V(T.startTime)&&(T.startTime=new Date);var q=Nn.create(T,Mn.dataType,Mn.envelopeType,y[Bo](),R,L);y.core.track(q)}else l===v&&rs(y,U.MaxAjaxPerPVExceeded,"Maximum ajax per page view limit reached, ajax monitoring is paused until the next trackPageView(). In order to increase the limit set the maxAjaxCallsPerView configuration parameter.",!0);++l};function te(T){var R=!0;return(T||u.ignoreHeaders)&&ye(u.ignoreHeaders,function(L){if(L.toLowerCase()===T.toLowerCase())return R=!1,-1}),R}function A(){var T=NC();if(T){var R=ho(),L=T.polyfill;u.disableFetchTracking===!1?(x.push(fd(R,qo,{req:function(q,$,ie){var ne;if(o&&!oe(null,$,ie)&&!(L&&a)){var xe=q.ctx();ne=B($,ie);var De=y.includeCorrelationHeaders(ne,$,ie);De!==ie&&q.set(1,De),xe.data=ne}},rsp:function(q,$){var ie=q.ctx().data;ie&&(q.rslt=q.rslt.then(function(ne){return G(q,(ne||{}).status,ne,ie,function(){var xe={statusText:ne.statusText,headerMap:null,correlationContext:le(ne)};if(h){var De={};ne.headers.forEach(function(Oe,Ye){te(Ye)&&(De[Ye]=Oe)}),xe.headerMap=De}return xe}),ne}).catch(function(ne){throw G(q,0,$,ie,null,{error:ne.message}),ne}))},hkErr:is(y,U.FailedMonitorAjaxOpen,"Failed to monitor Window.fetch, monitoring data for this fetch call may be incorrect.")})),o=!0):L&&x.push(fd(R,qo,{req:function(q,$,ie){oe(null,$,ie)}})),L&&(R[qo].polyfill=L)}}function Y(T,R,L){x.push(Pb(T,R,L))}function z(){LC(y)&&!a&&(Y(XMLHttpRequest,"open",{req:function(T,R,L,q){var $=T.inst,ie=$[zt];!oe($,L)&&Z($,!0)&&(!ie||!ie.xhrMonitoringState.openDone)&&ce($,R,L,q)},hkErr:is(y,U.FailedMonitorAjaxOpen,"Failed to monitor XMLHttpRequest.open, monitoring data for this ajax call may be incorrect.")}),Y(XMLHttpRequest,"send",{req:function(T,R){var L=T.inst,q=L[zt];Z(L)&&!q.xhrMonitoringState.sendDone&&(X("xhr",q),q.requestSentTime=Ja(),y.includeCorrelationHeaders(q,void 0,void 0,L),q.xhrMonitoringState.sendDone=!0)},hkErr:is(y,U.FailedMonitorAjaxSend,"Failed to monitor XMLHttpRequest, monitoring data for this ajax call may be incorrect.")}),Y(XMLHttpRequest,"abort",{req:function(T){var R=T.inst,L=R[zt];Z(R)&&!L.xhrMonitoringState.abortDone&&(L.aborted=1,L.xhrMonitoringState.abortDone=!0)},hkErr:is(y,U.FailedMonitorAjaxAbort,"Failed to monitor XMLHttpRequest.abort, monitoring data for this ajax call may be incorrect.")}),c&&Y(XMLHttpRequest,"setRequestHeader",{req:function(T,R,L){var q=T.inst;Z(q)&&te(R)&&(q[zt].requestHeaders[R]=L)},hkErr:is(y,U.FailedMonitorAjaxSetRequestHeader,"Failed to monitor XMLHttpRequest.setRequestHeader, monitoring data for this ajax call may be incorrect.")}),a=!0)}function oe(T,R,L){var q=!1,$=((he(R)?R:(R||{}).url||"")||"").toLowerCase();if(ye(_,function(xe){var De=xe;he(xe)&&(De=new RegExp(xe)),q||(q=De.test($))}),q)return q;var ie=Ho($,"?"),ne=Ho($,"#");return(ie===-1||ne!==-1&&ne<ie)&&(ie=ne),ie!==-1&&($=$.substring(0,ie)),V(T)?V(R)||(q=(typeof R=="object"?R[Si]===!0:!1)||(L?L[Si]===!0:!1)):q=T[Si]===!0||$[Si]===!0,q?S[$]||(S[$]=1):S[$]&&(q=!0),q}function Z(T,R){var L=!0,q=a;return V(T)||(L=R===!0||!V(T[zt])),q&&L}function ce(T,R,L,q){var $=f&&f.telemetryTrace&&f.telemetryTrace.traceID||Dn(),ie=Dn().substr(0,16),ne=new Xd($,ie,y[Bo]());ne.method=R,ne.requestUrl=L,ne.xhrMonitoringState.openDone=!0,ne.requestHeaders={},ne.async=q,T[zt]=ne,w(T)}function w(T){T[zt].xhrMonitoringState.stateChangeAttached=Xa.Attach(T,"readystatechange",function(){try{T&&T.readyState===4&&Z(T)&&M(T)}catch(L){var R=ve(L);(!R||Ho(R.toLowerCase(),"c00c023f")===-1)&&rs(y,U.FailedMonitorAjaxRSC,"Failed to monitor XMLHttpRequest 'readystatechange' event handler, monitoring data for this ajax call may be incorrect.",{ajaxDiagnosticsMessage:gc(T),exception:R})}})}function E(T){try{var R=T.responseType;if(R===""||R==="text")return T.responseText}catch{}return null}function M(T){var R=T[zt];R.responseFinishedTime=Ja(),R.status=T.status;function L(q,$){var ie=$||{};ie.ajaxDiagnosticsMessage=gc(T),q&&(ie.exception=ve(q)),mc(y,U.FailedMonitorAjaxDur,"Failed to calculate the duration of the ajax call, monitoring data for this ajax call won't be sent.",ie)}I("xmlhttprequest",R,function(){try{var q=R.CreateTrackItem("Ajax",c,function(){var $={statusText:T.statusText,headerMap:null,correlationContext:H(T),type:T.responseType,responseText:E(T),response:T.response};if(h){var ie=T.getAllResponseHeaders();if(ie){var ne=ht(ie).split(/[\r\n]+/),xe={};ye(ne,function(De){var Oe=De.split(": "),Ye=Oe.shift(),rn=Oe.join(": ");te(Ye)&&(xe[Ye]=rn)}),$.headerMap=xe}}return $});q?y[r](q):L(null,{requestSentTime:R.requestSentTime,responseFinishedTime:R.responseFinishedTime})}finally{try{T[zt]=null}catch{}}},function(q){L(q,null)})}function H(T){try{var R=T.getAllResponseHeaders();if(R!==null){var L=Ho(R.toLowerCase(),Ue.requestContextHeaderLowerCase);if(L!==-1){var q=T.getResponseHeader(Ue.requestContextHeader);return kr.getCorrelationContext(q)}}}catch($){mc(y,U.FailedMonitorAjaxGetCorrelationHeader,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{ajaxDiagnosticsMessage:gc(T),exception:ve($)})}}function X(T,R){if(R.requestUrl&&g&&m){var L=nr();if(L&&Ie(L.mark)){Yd++;var q=g+T+"#"+Yd;L.mark(q);var $=L.getEntriesByName(q);$&&$.length===1&&(R.perfMark=$[0])}}}function I(T,R,L,q){var $=R.perfMark,ie=nr(),ne=u.maxAjaxPerfLookupAttempts,xe=u.ajaxPerfLookupDelay,De=R.requestUrl,Oe=0;(function Ye(){try{if(ie&&$){Oe++;for(var rn=null,On=ie.getEntries(),Dt=On.length-1;Dt>=0;Dt--){var Ft=On[Dt];if(Ft){if(Ft.entryType==="resource")Ft.initiatorType===T&&(Ho(Ft.name,De)!==-1||Ho(De,Ft.name)!==-1)&&(rn=Ft);else if(Ft.entryType==="mark"&&Ft.name===$.name){R.perfTiming=rn;break}if(Ft.startTime<$.startTime-1e3)break}}}!$||R.perfTiming||Oe>=ne||R.async===!1?($&&Ie(ie.clearMarks)&&ie.clearMarks($.name),R.perfAttempts=Oe,L()):setTimeout(Ye,xe)}catch(b){q(b)}})()}function B(T,R){var L=f&&f.telemetryTrace&&f.telemetryTrace.traceID||Dn(),q=Dn().substr(0,16),$=new Xd(L,q,y[Bo]());$.requestSentTime=Ja(),T instanceof Request?$.requestUrl=T?T.url:"":$.requestUrl=T;var ie="GET";R&&R.method?ie=R.method:T&&T instanceof Request&&(ie=T.method),$.method=ie;var ne={};if(c){var xe=new Headers((R?R.headers:0)||(T instanceof Request?T.headers||{}:{}));xe.forEach(function(De,Oe){te(Oe)&&(ne[Oe]=De)})}return $.requestHeaders=ne,X("fetch",$),$}function Q(T){var R="";try{V(T)||(typeof T=="string"?R+="(url: '"+T+"')":R+="(url: '"+T.url+"')")}catch(L){rs(y,U.FailedMonitorAjaxOpen,"Failed to grab failed fetch diagnostics message",{exception:ve(L)})}return R}function G(T,R,L,q,$,ie){if(!q)return;function ne(xe,De,Oe){var Ye=Oe||{};Ye.fetchDiagnosticsMessage=Q(L),De&&(Ye.exception=ve(De)),mc(y,xe,"Failed to calculate the duration of the fetch call, monitoring data for this fetch call won't be sent.",Ye)}q.responseFinishedTime=Ja(),q.status=R,I("fetch",q,function(){var xe=q.CreateTrackItem("Fetch",c,$);xe?y[r](xe):ne(U.FailedMonitorAjaxDur,null,{requestSentTime:q.requestSentTime,responseFinishedTime:q.responseFinishedTime})},function(xe){ne(U.FailedMonitorAjaxGetCorrelationHeader,xe,null)})}function le(T){if(T&&T.headers)try{var R=T.headers.get(Ue.requestContextHeader);return kr.getCorrelationContext(R)}catch(L){mc(y,U.FailedMonitorAjaxGetCorrelationHeader,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{fetchDiagnosticsMessage:Q(T),exception:ve(L)})}}}),n}return e.getDefaultConfig=function(){var n={maxAjaxCallsPerView:500,disableAjaxTracking:!1,disableFetchTracking:!0,excludeRequestFromAutoTrackingPatterns:void 0,disableCorrelationHeaders:!1,distributedTracingMode:hn.AI_AND_W3C,correlationHeaderExcludedDomains:["*.blob.core.windows.net","*.blob.core.chinacloudapi.cn","*.blob.core.cloudapi.de","*.blob.core.usgovcloudapi.net"],correlationHeaderDomains:void 0,correlationHeaderExcludePatterns:void 0,appId:void 0,enableCorsCorrelation:!1,enableRequestHeaderTracking:!1,enableResponseHeaderTracking:!1,enableAjaxErrorStatusText:!1,enableAjaxPerfTracking:!1,maxAjaxPerfLookupAttempts:3,ajaxPerfLookupDelay:25,ignoreHeaders:["Authorization","X-API-Key","WWW-Authenticate"]};return n},e.getEmptyConfig=function(){var n=this.getDefaultConfig();return ct(n,function(r){n[r]=void 0}),n},e.prototype.processTelemetry=function(n,r){this.processNext(n,r)},e.identifier="AjaxDependencyPlugin",e}(wi)}),Zy=D(()=>{UC()}),ep,tp,ex,tx,np,nx=D(()=>{Ce(),Sy(),Uy(),$y(),Zy(),lt(),tp=["snippet","dependencies","properties","_snippetVersion","appInsightsNew","getSKUDefaults"],ex={Default:0,Required:1,Array:2,Hidden:4},tx={__proto__:null,PropertiesPluginIdentifier:Uo,BreezeChannelIdentifier:fc,AnalyticsPluginIdentifier:Od,Util:Td,CorrelationIdHelper:kr,UrlHelper:Gh,DateTimeUtils:Xh,ConnectionStringParser:Zh,FieldType:ex,RequestHeaders:Ue,DisabledPropertyName:Si,ProcessLegacy:Do,SampleRate:Yu,HttpMethod:Zu,DEFAULT_BREEZE_ENDPOINT:xd,AIData:Pd,AIBase:_d,Envelope:Ad,Event:yn,Exception:Rt,Metric:Fn,PageView:xn,PageViewData:uc,RemoteDependencyData:Mn,Trace:ar,PageViewPerformance:sr,Data:ur,SeverityLevel:Ya,ConfigurationManager:hy,ContextTagKeys:lc,DataSanitizer:Rh,TelemetryItemCreator:Nn,CtxTagKeys:Me,Extensions:kt,DistributedTracingModes:hn},np=function(){function t(e){var n=this;n._snippetVersion=""+(e.sv||e.version||""),e.queue=e.queue||[],e.version=e.version||2;var r=e.config||{};if(r.connectionString){var i=$h(r.connectionString),o=i.ingestionendpoint;r.endpointUrl=o?o+"/v2/track":r.endpointUrl,r.instrumentationKey=i.instrumentationkey||r.instrumentationKey}n.appInsights=new Bd,n.properties=new Gd,n.dependencies=new Zd,n.core=new ad,n._sender=new Vd,n.snippet=e,n.config=r,n.getSKUDefaults()}return t.prototype.getCookieMgr=function(){return this.appInsights.getCookieMgr()},t.prototype.trackEvent=function(e,n){this.appInsights.trackEvent(e,n)},t.prototype.trackPageView=function(e){var n=e||{};this.appInsights.trackPageView(n)},t.prototype.trackPageViewPerformance=function(e){var n=e||{};this.appInsights.trackPageViewPerformance(n)},t.prototype.trackException=function(e){e&&!e.exception&&e.error&&(e.exception=e.error),this.appInsights.trackException(e)},t.prototype._onerror=function(e){this.appInsights._onerror(e)},t.prototype.trackTrace=function(e,n){this.appInsights.trackTrace(e,n)},t.prototype.trackMetric=function(e,n){this.appInsights.trackMetric(e,n)},t.prototype.startTrackPage=function(e){this.appInsights.startTrackPage(e)},t.prototype.stopTrackPage=function(e,n,r,i){this.appInsights.stopTrackPage(e,n,r,i)},t.prototype.startTrackEvent=function(e){this.appInsights.startTrackEvent(e)},t.prototype.stopTrackEvent=function(e,n,r){this.appInsights.stopTrackEvent(e,n,r)},t.prototype.addTelemetryInitializer=function(e){return this.appInsights.addTelemetryInitializer(e)},t.prototype.setAuthenticatedUserContext=function(e,n,r){r===void 0&&(r=!1),this.properties.context.user.setAuthenticatedUserContext(e,n,r)},t.prototype.clearAuthenticatedUserContext=function(){this.properties.context.user.clearAuthenticatedUserContext()},t.prototype.trackDependencyData=function(e){this.dependencies.trackDependencyData(e)},t.prototype.flush=function(e){var n=this;e===void 0&&(e=!0),Io(this.core,function(){return"AISKU.flush"},function(){ye(n.core.getTransmissionControls(),function(r){ye(r,function(i){i.flush(e)})})},null,e)},t.prototype.onunloadFlush=function(e){e===void 0&&(e=!0),ye(this.core.getTransmissionControls(),function(n){ye(n,function(r){r.onunloadFlush?r.onunloadFlush():r.flush(e)})})},t.prototype.loadAppInsights=function(e,n,r){var i=this;e===void 0&&(e=!1);var o=this;function a(s){if(s){var u="";V(o._snippetVersion)||(u+=o._snippetVersion),e&&(u+=".lg"),o.context&&o.context.internal&&(o.context.internal.snippetVer=u||"-"),ct(o,function(c,l){he(c)&&!Ie(l)&&c&&c[0]!=="_"&&tp.indexOf(c)===-1&&(s[c]=l)})}}return e&&o.config.extensions&&o.config.extensions.length>0&&An("Extensions not allowed in legacy mode"),Io(o.core,function(){return"AISKU.loadAppInsights"},function(){var s=[];s.push(o._sender),s.push(o.properties),s.push(o.dependencies),s.push(o.appInsights),o.core.initialize(o.config,s,n,r),o.context=o.properties.context,ep&&o.context&&(o.context.internal.sdkSrc=ep),a(o.snippet),o.emptyQueue(),o.pollInternalLogs(),o.addHousekeepingBeforeUnload(i)}),o},t.prototype.updateSnippetDefinitions=function(e){Fm(e,this,function(n){return n&&tp.indexOf(n)===-1})},t.prototype.emptyQueue=function(){var e=this;try{if(tr(e.snippet.queue)){for(var n=e.snippet.queue.length,r=0;r<n;r++){var i=e.snippet.queue[r];i()}e.snippet.queue=void 0,delete e.snippet.queue}}catch(a){var o={};a&&Ie(a.toString)&&(o.exception=a.toString())}},t.prototype.pollInternalLogs=function(){this.core.pollInternalLogs()},t.prototype.addHousekeepingBeforeUnload=function(e){if(Fu()||Lm()){var n=function(){e.onunloadFlush(!1),ye(e.appInsights.core._extensions,function(i){if(i.identifier===Uo)return i&&i.context&&i.context._sessionManager&&i.context._sessionManager.backup(),-1})};if(!e.appInsights.config.disableFlushOnBeforeUnload){var r=Ci("beforeunload",n);r=Ci("unload",n)||r,r=Ci("pagehide",n)||r,r=Ci("visibilitychange",n)||r,!r&&!lb()&&e.appInsights.core.logger.throwInternal(W.CRITICAL,U.FailedToAddHandlerForOnBeforeUnload,"Could not add handler for beforeunload and pagehide")}e.appInsights.config.disableFlushOnUnload||(Ci("pagehide",n),Ci("visibilitychange",n))}},t.prototype.getSender=function(){return this._sender},t.prototype.getSKUDefaults=function(){var e=this;e.config.diagnosticLogInterval=e.config.diagnosticLogInterval&&e.config.diagnosticLogInterval>0?e.config.diagnosticLogInterval:1e4},t}(),function(){var t=null,e=!1,n=["://js.monitor.azure.com/","://az416426.vo.msecnd.net/"];try{var r=(document||{}).currentScript;r&&(t=r.src)}catch{}if(t)try{var i=t.toLowerCase();if(i){for(var o="",a=0;a<n.length;a++)if(i.indexOf(n[a])!==-1){o="cdn"+(a+1),i.indexOf("/scripts/")===-1&&(i.indexOf("/next/")!==-1?o+="-next":i.indexOf("/beta/")!==-1&&(o+="-beta")),ep=o+(e?".mod":"");break}}}catch{}}()}),rx,ix,OC=D(()=>{lt(),Ce(),rx=["snippet","getDefaultConfig","_hasLegacyInitializers","_queue","_processLegacyInitializers"],ix=function(){function t(e,n){this._hasLegacyInitializers=!1,this._queue=[],this.config=t.getDefaultConfig(e.config),this.appInsightsNew=n,this.context={addTelemetryInitializer:this.addTelemetryInitializers.bind(this)}}return t.getDefaultConfig=function(e){return e||(e={}),e.endpointUrl=e.endpointUrl||"https://dc.services.visualstudio.com/v2/track",e.sessionRenewalMs=30*60*1e3,e.sessionExpirationMs=24*60*60*1e3,e.maxBatchSizeInBytes=e.maxBatchSizeInBytes>0?e.maxBatchSizeInBytes:102400,e.maxBatchInterval=isNaN(e.maxBatchInterval)?15e3:e.maxBatchInterval,e.enableDebug=ke(e.enableDebug),e.disableExceptionTracking=ke(e.disableExceptionTracking),e.disableTelemetry=ke(e.disableTelemetry),e.verboseLogging=ke(e.verboseLogging),e.emitLineDelimitedJson=ke(e.emitLineDelimitedJson),e.diagnosticLogInterval=e.diagnosticLogInterval||1e4,e.autoTrackPageVisitTime=ke(e.autoTrackPageVisitTime),(isNaN(e.samplingPercentage)||e.samplingPercentage<=0||e.samplingPercentage>=100)&&(e.samplingPercentage=100),e.disableAjaxTracking=ke(e.disableAjaxTracking),e.maxAjaxCallsPerView=isNaN(e.maxAjaxCallsPerView)?500:e.maxAjaxCallsPerView,e.isBeaconApiDisabled=ke(e.isBeaconApiDisabled,!0),e.disableCorrelationHeaders=ke(e.disableCorrelationHeaders),e.correlationHeaderExcludedDomains=e.correlationHeaderExcludedDomains||["*.blob.core.windows.net","*.blob.core.chinacloudapi.cn","*.blob.core.cloudapi.de","*.blob.core.usgovcloudapi.net"],e.disableFlushOnBeforeUnload=ke(e.disableFlushOnBeforeUnload),e.disableFlushOnUnload=ke(e.disableFlushOnUnload,e.disableFlushOnBeforeUnload),e.enableSessionStorageBuffer=ke(e.enableSessionStorageBuffer,!0),e.isRetryDisabled=ke(e.isRetryDisabled),e.isCookieUseDisabled=ke(e.isCookieUseDisabled),e.isStorageUseDisabled=ke(e.isStorageUseDisabled),e.isBrowserLinkTrackingEnabled=ke(e.isBrowserLinkTrackingEnabled),e.enableCorsCorrelation=ke(e.enableCorsCorrelation),e},t.prototype.addTelemetryInitializers=function(e){var n=this;this._hasLegacyInitializers||(this.appInsightsNew.addTelemetryInitializer(function(r){n._processLegacyInitializers(r)}),this._hasLegacyInitializers=!0),this._queue.push(e)},t.prototype.getCookieMgr=function(){return this.appInsightsNew.getCookieMgr()},t.prototype.startTrackPage=function(e){this.appInsightsNew.startTrackPage(e)},t.prototype.stopTrackPage=function(e,n,r,i){this.appInsightsNew.stopTrackPage(e,n,r)},t.prototype.trackPageView=function(e,n,r,i,o){var a={name:e,uri:n,properties:r,measurements:i};this.appInsightsNew.trackPageView(a)},t.prototype.trackEvent=function(e,n,r){this.appInsightsNew.trackEvent({name:e})},t.prototype.trackDependency=function(e,n,r,i,o,a,s){this.appInsightsNew.trackDependencyData({id:e,target:r,type:i,duration:o,properties:{HttpMethod:n},success:a,responseCode:s})},t.prototype.trackException=function(e,n,r,i,o){this.appInsightsNew.trackException({exception:e})},t.prototype.trackMetric=function(e,n,r,i,o,a){this.appInsightsNew.trackMetric({name:e,average:n,sampleCount:r,min:i,max:o})},t.prototype.trackTrace=function(e,n,r){this.appInsightsNew.trackTrace({message:e,severityLevel:r})},t.prototype.flush=function(e){this.appInsightsNew.flush(e)},t.prototype.setAuthenticatedUserContext=function(e,n,r){this.appInsightsNew.context.user.setAuthenticatedUserContext(e,n,r)},t.prototype.clearAuthenticatedUserContext=function(){this.appInsightsNew.context.user.clearAuthenticatedUserContext()},t.prototype._onerror=function(e,n,r,i,o){this.appInsightsNew._onerror({message:e,url:n,lineNumber:r,columnNumber:i,error:o})},t.prototype.startTrackEvent=function(e){this.appInsightsNew.startTrackEvent(e)},t.prototype.stopTrackEvent=function(e,n,r){this.appInsightsNew.stopTrackEvent(e,n,r)},t.prototype.downloadAndSetup=function(e){An("downloadAndSetup not implemented in web SKU")},t.prototype.updateSnippetDefinitions=function(e){Fm(e,this,function(n){return n&&rx.indexOf(n)===-1})},t.prototype.loadAppInsights=function(){var e=this;if(this.config.iKey){var n=this.trackPageView;this.trackPageView=function(o,a,s){n.apply(e,[null,o,a,s])}}var r="logPageView";typeof this.snippet[r]=="function"&&(this[r]=function(o,a,s){e.trackPageView(null,o,a,s)});var i="logEvent";return typeof this.snippet[i]=="function"&&(this[i]=function(o,a,s){e.trackEvent(o,a,s)}),this},t.prototype._processLegacyInitializers=function(e){return e.tags[Do]=this._queue,e},t}()}),ox,HC=D(()=>{OC(),nx(),Ce(),ox=function(){function t(){}return t.getAppInsights=function(e,n){var r=new np(e),i=n!==2;if(Ao(),n===2)return r.updateSnippetDefinitions(e),r.loadAppInsights(i),r;var o=new ix(e,r);return o.updateSnippetDefinitions(e),r.loadAppInsights(i),o},t}()}),ax={};Hw(ax,{AppInsightsCore:()=>ad,ApplicationAnalytics:()=>Bd,ApplicationInsights:()=>np,ApplicationInsightsContainer:()=>ox,BaseCore:()=>id,BaseTelemetryPlugin:()=>wi,CoreUtils:()=>$u,DependenciesPlugin:()=>Zd,DistributedTracingModes:()=>hn,Event:()=>yn,Exception:()=>Rt,LoggingSeverity:()=>W,Metric:()=>Fn,NotificationManager:()=>od,PageView:()=>xn,PageViewPerformance:()=>sr,PerfEvent:()=>Eo,PerfManager:()=>qf,PropertiesPlugin:()=>Gd,RemoteDependencyData:()=>Mn,Sender:()=>Vd,SeverityLevel:()=>Ya,Telemetry:()=>tx,Trace:()=>ar,Util:()=>Td,_InternalMessageId:()=>U,doPerf:()=>Io});var BC=D(()=>{nx(),HC(),Ce(),lt(),Uy(),Sy(),$y(),Zy()}),qC=(t,e,n)=>go(void 0,null,function*(){let r=yield Promise.resolve().then(()=>(ui(),Mg)),i=yield Promise.resolve().then(()=>(ym(),hm)),o=new r.AppInsightsCore,a=new i.PostChannel,s={instrumentationKey:t,endpointUrl:"https://mobile.events.data.microsoft.com/OneCollector/1.0",loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[a]]};if(n){s.extensionConfig={};let c={alwaysUseXhrOverride:!0,httpXHROverride:n};s.extensionConfig[a.identifier]=c}let u=e.workspace.getConfiguration("telemetry").get("internalTesting");return o.initialize(s,[]),o.addTelemetryInitializer(c=>{var l,f;!u||(c.ext=(l=c.ext)!=null?l:{},c.ext.utc=(f=c.ext.utc)!=null?f:{},c.ext.utc.flags=8462029)}),o}),zC=(t,e,n)=>go(void 0,null,function*(){let r=yield qC(t,e,n);return{logEvent:(i,o)=>{try{r==null||r.track({name:i,baseData:{name:i,properties:o==null?void 0:o.properties,measurements:o==null?void 0:o.measurements}})}catch(a){throw new Error(`Failed to log event to app insights!
`+a.message)}},logException:(i,o)=>{throw new Error("1DS SDK does not support logging exceptions, please use logEvent for exception tracking")},flush:()=>go(void 0,null,function*(){try{r==null||r.unload()}catch(i){throw new Error(`Failed to flush app insights!
`+i.message)}})}}),jC=class{constructor(t,e){this._instantiationStatus=0,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=e,this._key=t}logEvent(t,e){if(!this._telemetryClient){this._instantiationStatus!==2&&this._eventQueue.push({eventName:t,data:e});return}this._telemetryClient.logEvent(t,e)}logException(t,e){if(!this._telemetryClient){this._instantiationStatus!==2&&this._exceptionQueue.push({exception:t,data:e});return}this._telemetryClient.logException(t,e)}flush(){return go(this,null,function*(){this._telemetryClient&&(yield this._telemetryClient.flush(),this._telemetryClient=void 0)})}_flushQueues(){this._eventQueue.forEach(({eventName:t,data:e})=>this.logEvent(t,e)),this._eventQueue=[],this._exceptionQueue.forEach(({exception:t,data:e})=>this.logException(t,e)),this._exceptionQueue=[]}instantiateAppender(){this._instantiationStatus===0&&(this._instantiationStatus=1,this._clientFactory(this._key).then(t=>{this._telemetryClient=t,this._instantiationStatus=2,this._flushQueues()}).catch(t=>{console.error(t),this._instantiationStatus=2}))}},Ln=class{constructor(t){this.vscodeAPI=t}getTelemetryLevel(){let t="telemetry",e="enableTelemetry";try{let n=this.vscodeAPI.env.telemetryConfiguration;return n.isUsageEnabled&&n.isErrorsEnabled&&n.isCrashEnabled?"on":n.isErrorsEnabled&&n.isCrashEnabled?"error":"off"}catch{return this.vscodeAPI.env.isTelemetryEnabled!==void 0?this.vscodeAPI.env.isTelemetryEnabled?"on":"off":this.vscodeAPI.workspace.getConfiguration(t).get(e)?"on":"off"}}static applyReplacements(t,e){for(let n of Object.keys(t))for(let r of e)r.lookup.test(n)&&(r.replacementString!==void 0?t[n]=r.replacementString:delete t[n])}static shouldUseOneDataSystemSDK(t){return t.length===74&&t[32]==="-"&&t[41]==="-"&&t[46]==="-"&&t[51]==="-"&&t[56]==="-"&&t[69]==="-"}static getInstance(t){return Ln._instance||(Ln._instance=new Ln(t)),Ln._instance}},WC=class{constructor(t,e,n,r,i,o){this.extensionId=t,this.extensionVersion=e,this.telemetryAppender=n,this.osShim=r,this.vscodeAPI=i,this.firstParty=!1,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this.firstParty=!!o,this.updateUserOptStatus(),i.env.onDidChangeTelemetryEnabled!==void 0?(this.disposables.push(i.env.onDidChangeTelemetryEnabled(()=>this.updateUserOptStatus())),this.disposables.push(i.workspace.onDidChangeConfiguration(()=>this.updateUserOptStatus()))):this.disposables.push(i.workspace.onDidChangeConfiguration(()=>this.updateUserOptStatus()))}updateUserOptStatus(){let t=Ln.getInstance(this.vscodeAPI).getTelemetryLevel();this.userOptIn=t==="on",this.errorOptIn=t==="error"||this.userOptIn,(this.userOptIn||this.errorOptIn)&&this.telemetryAppender.instantiateAppender()}cleanRemoteName(t){if(!t)return"none";let e="other";return["ssh-remote","dev-container","attached-container","wsl","codespaces"].forEach(n=>{t.indexOf(`${n}`)===0&&(e=n)}),e}get extension(){return this._extension===void 0&&(this._extension=this.vscodeAPI.extensions.getExtension(this.extensionId)),this._extension}cloneAndChange(t,e){if(t===null||typeof t!="object"||typeof e!="function")return t;let n={};for(let r in t)n[r]=e(r,t[r]);return n}shouldSendErrorTelemetry(){return this.errorOptIn===!1?!1:this.firstParty?!(this.vscodeAPI.env.remoteName&&this.cleanRemoteName(this.vscodeAPI.env.remoteName)==="other"):!0}getCommonProperties(){let t={};if(t["common.os"]=this.osShim.platform,t["common.nodeArch"]=this.osShim.architecture,t["common.platformversion"]=(this.osShim.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),t["common.extname"]=this.extensionId,t["common.extversion"]=this.extensionVersion,this.vscodeAPI&&this.vscodeAPI.env){switch(t["common.vscodemachineid"]=this.vscodeAPI.env.machineId,t["common.vscodesessionid"]=this.vscodeAPI.env.sessionId,t["common.vscodeversion"]=this.vscodeAPI.version,t["common.isnewappinstall"]=this.vscodeAPI.env.isNewAppInstall?this.vscodeAPI.env.isNewAppInstall.toString():"false",t["common.product"]=this.vscodeAPI.env.appHost,this.vscodeAPI.env.uiKind){case this.vscodeAPI.UIKind.Web:t["common.uikind"]="web";break;case this.vscodeAPI.UIKind.Desktop:t["common.uikind"]="desktop";break;default:t["common.uikind"]="unknown"}t["common.remotename"]=this.cleanRemoteName(this.vscodeAPI.env.remoteName)}return t}anonymizeFilePaths(t,e){let n;if(t==null)return"";let r=[];this.vscodeAPI.env.appRoot!==""&&r.push(new RegExp(this.vscodeAPI.env.appRoot.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi")),this.extension&&r.push(new RegExp(this.extension.extensionPath.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi"));let i=t;if(e){let o=[];for(let c of r)for(;(n=c.exec(t))&&n;)o.push([n.index,c.lastIndex]);let a=/^[\\/]?(node_modules|node_modules\.asar)[\\/]/,s=/(file:\/\/)?([a-zA-Z]:(\\\\|\\|\/)|(\\\\|\\|\/))?([\w-._]+(\\\\|\\|\/))+[\w-._]*/g,u=0;for(i="";(n=s.exec(t))&&n;)n[0]&&!a.test(n[0])&&o.every(([c,l])=>n.index<c||n.index>=l)&&(i+=t.substring(u,n.index)+"<REDACTED: user-file-path>",u=s.lastIndex);u<t.length&&(i+=t.substr(u))}for(let o of r)i=i.replace(o,"");return i}removePropertiesWithPossibleUserInfo(t){if(typeof t!="object")return;let e={};for(let n of Object.keys(t)){let r=t[n];if(!r)continue;let i=/@[a-zA-Z0-9-.]+/,o=/(key|token|sig|signature|password|passwd|pwd|android:value)[^a-zA-Z0-9]/,a=/xox[pbaors]-[a-zA-Z0-9]+-[a-zA-Z0-9-]+?/;o.test(r.toLowerCase())?e[n]="<REDACTED: secret>":i.test(r)?e[n]="<REDACTED: email>":a.test(r)?e[n]="<REDACTED: token>":e[n]=r}return e}get telemetryLevel(){switch(Ln.getInstance(this.vscodeAPI).getTelemetryLevel()){case"on":return"all";case"error":return"error";case"off":return"off"}}internalSendTelemetryEvent(t,e,n,r,i){if((this.userOptIn||i)&&t!==""){if(e=Tn(Tn({},e),this.getCommonProperties()),r){let o=this.cloneAndChange(e,(a,s)=>this.anonymizeFilePaths(s,this.firstParty));e=this.removePropertiesWithPossibleUserInfo(o)}e=e??{},n=n??{},t=`${this.extensionId}/${t}`,this.telemetryAppender.logEvent(t,{properties:e,measurements:n})}}sendTelemetryEvent(t,e,n){this.internalSendTelemetryEvent(t,e,n,!0,!1)}sendRawTelemetryEvent(t,e,n){this.internalSendTelemetryEvent(t,e,n,!1,!1)}sendDangerousTelemetryEvent(t,e,n,r=!0){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryEvent(t,e,n,r,!0)}internalSendTelemetryErrorEvent(t,e,n,r,i){if((this.shouldSendErrorTelemetry()||i)&&t!==""){if(e=Tn(Tn({},e),this.getCommonProperties()),r){let o=this.cloneAndChange(e,(a,s)=>this.anonymizeFilePaths(s,this.firstParty));e=this.removePropertiesWithPossibleUserInfo(o)}e=e??{},n=n??{},t=`${this.extensionId}/${t}`,this.telemetryAppender.logEvent(t,{properties:e,measurements:n})}}sendTelemetryErrorEvent(t,e,n){this.internalSendTelemetryErrorEvent(t,e,n,!0,!1)}sendDangerousTelemetryErrorEvent(t,e,n,r=!0){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryErrorEvent(t,e,n,r,!0)}internalSendTelemetryException(t,e,n,r,i){if((this.shouldSendErrorTelemetry()||i)&&t){if(e=Tn(Tn({},e),this.getCommonProperties()),r){let o=this.cloneAndChange(e,(a,s)=>this.anonymizeFilePaths(s,this.firstParty));t.stack&&(t.stack=this.anonymizeFilePaths(t.stack,this.firstParty)),e=this.removePropertiesWithPossibleUserInfo(o)}e=e??{},n=n??{},this.telemetryAppender.logException(t,{properties:e,measurements:n})}}sendTelemetryException(t,e,n){this.internalSendTelemetryException(t,e,n,!0,!1)}sendDangerousTelemetryException(t,e,n,r=!0){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryException(t,e,n,r,!0)}dispose(){return this.telemetryAppender.flush(),Promise.all(this.disposables.map(t=>t.dispose()))}},VC=(t,e)=>go(void 0,null,function*(){let n;try{let r=yield Promise.resolve().then(()=>(BC(),ax)),i;t&&t.indexOf("AIF-")===0&&(i="https://vscode.vortex.data.microsoft.com/collect/v1"),n=new r.ApplicationInsights({config:{instrumentationKey:t,endpointUrl:i,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!0,disableInstrumentationKeyValidation:!0}}),n.loadAppInsights(),i&&fetch(i).catch(()=>n=void 0)}catch(r){return Promise.reject(r)}return{logEvent:(r,i)=>{let o=Tn(Tn({},i==null?void 0:i.properties),i==null?void 0:i.measurements);e!=null&&e.length&&Ln.applyReplacements(o,e),n==null||n.trackEvent({name:r},o)},logException:(r,i)=>{let o=Tn(Tn({},i==null?void 0:i.properties),i==null?void 0:i.measurements);e!=null&&e.length&&Ln.applyReplacements(o,e),n==null||n.trackException({exception:r,properties:o})},flush:()=>go(void 0,null,function*(){n==null||n.flush()})}}),ux=class extends WC{constructor(t,e,n,r,i){let o=s=>VC(s,i);Ln.shouldUseOneDataSystemSDK(n)&&(o=s=>zC(s,sx));let a=new jC(n,o);n&&(n.indexOf("AIF-")===0||Ln.shouldUseOneDataSystemSDK(n))&&(r=!0),super(t,e,a,{release:navigator.appVersion,platform:"web",architecture:"web"},sx,r)}};var Nr=dr(require("vscode"));var KC=require("vscode");function hc(t=32){let e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<t;r++)e+=n.charAt(Math.floor(Math.random()*n.length));return e}var rp=t=>t.byteLength===t.buffer.byteLength?t.buffer:t.buffer.slice(0,t.byteLength),ip=t=>typeof Buffer!="undefined"?Buffer.byteLength(t):new Blob([t]).size,cx=t=>{let e=0;for(let i of t)e+=i.byteLength;let n=new Uint8Array(e),r=0;for(let i of t)n.set(i,r),r+=i.byteLength;return n};var op=class{constructor(e){this._extensionURI=e}resolveWebviewView(e,n,r){this._view=e,e.webview.options={enableScripts:!0,localResourceRoots:[this._extensionURI]},e.webview.html=this._getWebviewHTML(e.webview),e.webview.onDidReceiveMessage(i=>{i.type==="ready"&&e.show()}),this._view.onDidDispose(()=>this._view=void 0),e.onDidChangeVisibility(()=>{e.visible&&this._lastMessage&&e.webview.postMessage(this._lastMessage)}),this._lastMessage&&e.webview.postMessage(this._lastMessage)}handleEditorMessage(e){this._lastMessage=e,this._view?.webview.postMessage(e)}show(e){e?.autoReveal&&!Nr.workspace.getConfiguration("hexeditor.dataInspector").get("autoReveal",!1)||(this._view&&!e?.forceFocus?this._view.show():Nr.commands.executeCommand(`${op.viewType}.focus`),this._lastMessage&&this._view?.webview.postMessage(this._lastMessage))}_getWebviewHTML(e){let n=e.asWebviewUri(Nr.Uri.joinPath(this._extensionURI,"dist","inspector.js")),r=e.asWebviewUri(Nr.Uri.joinPath(this._extensionURI,"dist","inspector.css")),i=Nr.workspace.getConfiguration().get("hexeditor.defaultEndianness"),o=hc();return`<!DOCTYPE html>
            <html lang="en">
            <head>
              <meta charset="UTF-8">
              <!--
                Use a content security policy to only allow loading images from https or from our extension directory,
                and only allow scripts that have a specific nonce.
              -->
              <meta http-equiv="Content-Security-Policy" content="default-src 'none'; style-src ${e.cspSource}; script-src 'nonce-${o}';">
              <meta name="viewport" content="width=device-width, initial-scale=1.0">
              <link href="${r}" rel="stylesheet">

              <title>Data Inspector</title>
            </head>
            <body>
              <div id="data-inspector">
                <div class="grid-container">
									<!-- Input elements filled in by dataInspector.ts -->
                  <div class="grid-item endian-select">
                    <label for="endianness">Endianness</label>
                  </div>
                  <div class="grid-item endian-select">
                    <select id="endianness">
                      <option value="little" ${i==="little"?"selected":""}>Little Endian</option>
                      <option value="big" ${i==="big"?"selected":""}>Big Endian</option>
                    </select>
                  </div>
                </div>
              </div>
              <script nonce="${o}" src="${n}"><\/script>
            </body>
            </html>`}},os=op;os.viewType="hexEditor.dataInspectorView";var fx=dr(require("vscode"));var ap=class{constructor(e,n){this.messageHandler=e;this.postMessage=n;this.messageIdCounter=0;this.pendingMessages=new Map}sendEvent(e){this.postMessage({body:e,messageId:this.messageIdCounter++})}sendRequest(e){let n=this.messageIdCounter++;return this.postMessage({body:e,messageId:n}),new Promise((r,i)=>{this.pendingMessages.set(n,{resolve:r,reject:i})})}sendReply(e,n){this.postMessage({body:n,messageId:this.messageIdCounter++,inReplyTo:e.messageId})}handleMessage(e){e.inReplyTo!==void 0?(this.pendingMessages.get(e.inReplyTo)?.resolve(e.body),this.pendingMessages.delete(e.inReplyTo)):Promise.resolve(this.messageHandler(e.body)).then(n=>n&&this.sendReply(e,n))}};var GC=/^0x[a-f0-9]+$/i,XC=/^[0-9]+$/i,dx=t=>{let e=fx.window.createInputBox();e.placeholder="Enter offset to go to",t.sendEvent({type:6});let n,r=!1;e.onDidChangeValue(i=>{if(!i)n=void 0;else if(GC.test(i))n=parseInt(i.slice(2),16);else if(XC.test(i))n=parseInt(i,10);else{e.validationMessage="Offset must be provided as a decimal (12345) or hex (0x12345) address";return}e.validationMessage="",n!==void 0&&(e.validationMessage="",t.sendEvent({type:7,offset:n}))}),e.onDidAccept(()=>{r=!0,n!==void 0&&t.sendEvent({type:8,offset:n})}),e.onDidHide(()=>{r||t.sendEvent({type:9})}),e.show()};var QC=typeof atob=="function",$C=typeof btoa=="function",yc=typeof Buffer=="function",wP=typeof TextDecoder=="function"?new TextDecoder:void 0,bP=typeof TextEncoder=="function"?new TextEncoder:void 0,JC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",as=Array.prototype.slice.call(JC),xc=(t=>{let e={};return t.forEach((n,r)=>e[n]=r),e})(as),YC=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,wc=String.fromCharCode.bind(String),px=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):(t,e=n=>n)=>new Uint8Array(Array.prototype.slice.call(t,0).map(e)),ZC=t=>t.replace(/=/g,"").replace(/[+\/]/g,e=>e=="+"?"-":"_"),vx=t=>t.replace(/[^A-Za-z0-9\+\/]/g,""),eS=t=>{let e,n,r,i,o="",a=t.length%3;for(let s=0;s<t.length;){if((n=t.charCodeAt(s++))>255||(r=t.charCodeAt(s++))>255||(i=t.charCodeAt(s++))>255)throw new TypeError("invalid character found");e=n<<16|r<<8|i,o+=as[e>>18&63]+as[e>>12&63]+as[e>>6&63]+as[e&63]}return a?o.slice(0,a-3)+"===".substring(a):o},tS=$C?t=>btoa(t):yc?t=>Buffer.from(t,"binary").toString("base64"):eS,gx=yc?t=>Buffer.from(t).toString("base64"):t=>{let e=4096,n=[];for(let r=0,i=t.length;r<i;r+=e)n.push(wc.apply(null,t.subarray(r,r+e)));return tS(n.join(""))},bc=(t,e=!1)=>e?ZC(gx(t)):gx(t);var nS=t=>{if(t=t.replace(/\s+/g,""),!YC.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(t.length&3));let e,n="",r,i;for(let o=0;o<t.length;)e=xc[t.charAt(o++)]<<18|xc[t.charAt(o++)]<<12|(r=xc[t.charAt(o++)])<<6|(i=xc[t.charAt(o++)]),n+=r===64?wc(e>>16&255):i===64?wc(e>>16&255,e>>8&255):wc(e>>16&255,e>>8&255,e&255);return n},rS=QC?t=>atob(vx(t)):yc?t=>Buffer.from(t,"base64").toString("binary"):nS,iS=yc?t=>px(Buffer.from(t,"base64")):t=>px(rS(t),e=>e.charCodeAt(0)),mx=t=>iS(oS(t));var oS=t=>vx(t.replace(/[-_]/g,e=>e=="-"?"+":"/"));var Ae=dr(require("vscode"));var sp=class{constructor(e,n,r){this.bias=e,this.backoffA=n,this.backoffB=r}next(e){let n=this.backoffA.next(e),r=this.backoffB.next(e);return n&&r&&yx(this.bias,n,r)}},yx=(t,e,n)=>({get duration(){switch(t){case"a":return e.duration;case"b":return n.duration;case"max":return Math.max(n.duration,e.duration);case"min":return Math.min(n.duration,e.duration);default:throw new Error(`Unknown bias "${t}" given to CompositeBackoff`)}},next(r){let i=e.next(r),o=n.next(r);return i&&o&&yx(t,i,o)}});var zo=class{constructor(e,n){this.interval=e,this.limit=n}next(){return xx(this.interval,this.limit)}},SP=new zo(0,0),xx=(t,e,n=0)=>({duration:t,next(){if(e===void 0)return this;if(!(n>=e-1))return xx(t,e,n+1)}});var up=class{constructor(e){this.fn=e}next(e){return cp(this.fn).next(e)}},cp=(t,e,n=0)=>({duration:n,next(r){let i=t(r,e);if(i!==void 0)return typeof i=="number"?cp(t,e,i):cp(t,i.state,i.delay)}});var aS=4,sS=1/1.4,wx=(t,e)=>{let[n,r]=t||[0,0],i=n+Math.random(),o=Math.pow(e.exponent,i)*Math.tanh(Math.sqrt(aS*i)),a=Math.max(0,o-r);return[Math.min(a*sS*e.initialDelay,e.maxDelay),[n+1,o]]};var bx={generator:wx,maxDelay:3e4,maxAttempts:1/0,exponent:2,initialDelay:128},lp=class{constructor(e){this.options=e?{...bx,...e}:bx}next(){return Cx(this.options).next(void 0)}},Cx=(t,e,n=0,r=-1)=>({duration:n,next(){if(r>=t.maxAttempts-1)return;let[i,o]=t.generator(e,t);return Cx(t,o,i,r+1)}});var fp=class{constructor(e){this.durations=e}next(){return Sx(this.durations,0)}},Sx=(t,e)=>({duration:t[e],next:()=>e<t.length-1?Sx(t,e+1):void 0});var Un=class extends Error{constructor(e="Operation cancelled"){super(e);this.message=e,this.isTaskCancelledError=!0}};var Cc={dispose:()=>{}},ss;(function(t){t.once=(e,n)=>{let r=!1,i;return i=e(o=>{n(o),i?i.dispose():r=!0}),r?(i.dispose(),Cc):i},t.toPromise=(e,n)=>n?n.isCancellationRequested?Promise.reject(new Un):new Promise((r,i)=>{let o=t.once(e,s=>{a.dispose(),r(s)}),a=t.once(n.onCancellationRequested,()=>{o.dispose(),i(new Un)})}):new Promise(r=>t.once(e,r))})(ss||(ss={}));var yt=class{constructor(){this.addListener=e=>this.addListenerInner(e)}get size(){return this.listeners?typeof this.listeners=="function"?1:this.listeners.length:0}emit(e){if(this.listeners)if(typeof this.listeners=="function")this.listeners(e);else for(let n of this.listeners)n(e)}addListenerInner(e){return this.listeners?typeof this.listeners=="function"?this.listeners=[this.listeners,e]:this.listeners.push(e):this.listeners=e,{dispose:()=>this.removeListener(e)}}removeListener(e){if(!this.listeners)return;if(typeof this.listeners=="function"){this.listeners===e&&(this.listeners=void 0);return}let n=this.listeners.indexOf(e);n!==-1&&(this.listeners.length===2?this.listeners=n===0?this.listeners[1]:this.listeners[0]:this.listeners=this.listeners.slice(0,n).concat(this.listeners.slice(n+1)))}},dp=class extends yt{constructor(){super(...arguments);this.addListener=e=>{let n=this.addListenerInner(e);return this.lastValue&&e(this.lastValue.value),n}}get hasEmitted(){return!!this.lastValue}emit(e){this.lastValue={value:e},super.emit(e)}};var pp=class{constructor(e){this.onCancel=new dp,this.token=new ot(this.onCancel.addListener),e&&(this.parentListener=e.onCancellationRequested(()=>this.cancel()))}cancel(){this.parentListener&&(this.parentListener.dispose(),this.parentListener=void 0),this.onCancel.hasEmitted||this.onCancel.emit()}},ot=class{constructor(e){this.onCancellationRequested=e,this.isRequested=!1,ss.once(e,()=>this.isRequested=!0)}get isCancellationRequested(){return this.isRequested}cancellation(e){return ss.toPromise(this.onCancellationRequested,e)}};ot.None=new ot(()=>Cc);ot.Cancelled=new ot(t=>(t(void 0),Cc));var Lr=t=>{if("error"in t)throw t.error;return"success"in t?t.success:t.value},uS=()=>{if(typeof performance!="undefined"){let t=performance.now();return()=>performance.now()-t}else{let t=process.hrtime.bigint();return()=>Number(process.hrtime.bigint()-t)/1e6}},Xt=class{constructor(e=()=>!1,n=()=>!1){this.errorFilter=e,this.resultFilter=n,this.successEmitter=new yt,this.failureEmitter=new yt,this.onSuccess=this.successEmitter.addListener,this.onFailure=this.failureEmitter.addListener}derive(){let e=new Xt(this.errorFilter,this.resultFilter);return e.onSuccess(n=>this.successEmitter.emit(n)),e.onFailure(n=>this.failureEmitter.emit(n)),e}async invoke(e,...n){let r=this.successEmitter.size||this.failureEmitter.size?uS():null;try{let i=await e(...n);return this.resultFilter(i)?(r&&this.failureEmitter.emit({duration:r(),handled:!0,reason:{value:i}}),{value:i}):(r&&this.successEmitter.emit({duration:r()}),{success:i})}catch(i){let o=this.errorFilter(i);if(r&&this.failureEmitter.emit({duration:r(),handled:o,reason:{error:i}}),!o)throw i;return{error:i}}}};var us=class extends Error{constructor(e="Execution prevented because the circuit breaker is open"){super(e);this.isBrokenCircuitError=!0}};var vp=class extends Error{constructor(e,n){super(`Bulkhead capacity exceeded (0/${e} execution slots, 0/${n} available)`);this.isBulkheadRejectedError=!0}};var gp=class extends us{constructor(){super("Execution prevented because the circuit breaker is open");this.isIsolatedCircuitError=!0}};var Be;(function(t){t[t.Closed=0]="Closed",t[t.Open=1]="Open",t[t.HalfOpen=2]="HalfOpen",t[t.Isolated=3]="Isolated"})(Be||(Be={}));var mp=class{constructor(e,n){this.options=e,this.executor=n,this.breakEmitter=new yt,this.resetEmitter=new yt,this.halfOpenEmitter=new yt,this.stateChangeEmitter=new yt,this.innerState={value:Be.Closed},this.onBreak=this.breakEmitter.addListener,this.onReset=this.resetEmitter.addListener,this.onHalfOpen=this.halfOpenEmitter.addListener,this.onStateChange=this.stateChangeEmitter.addListener,this.onSuccess=this.executor.onSuccess,this.onFailure=this.executor.onFailure}get state(){return this.innerState.value}get lastFailure(){return this.innerLastFailure}isolate(){this.innerState.value!==Be.Isolated&&(this.innerState={value:Be.Isolated,counters:0},this.breakEmitter.emit({isolated:!0}),this.stateChangeEmitter.emit(Be.Isolated)),this.innerState.counters++;let e=!1;return{dispose:()=>{e||(e=!0,this.innerState.value===Be.Isolated&&!--this.innerState.counters&&(this.innerState={value:Be.Closed},this.resetEmitter.emit(),this.stateChangeEmitter.emit(Be.Closed)))}}}async execute(e,n=ot.None){let r=this.innerState;switch(r.value){case Be.Closed:let i=await this.executor.invoke(e,{cancellationToken:n});return"success"in i?this.options.breaker.success(r.value):(this.innerLastFailure=i,this.options.breaker.failure(r.value)&&this.open(i)),Lr(i);case Be.HalfOpen:if(await r.test.catch(()=>{}),this.state===Be.Closed&&n.isCancellationRequested)throw new Un;return this.execute(e);case Be.Open:if(Date.now()-r.openedAt<this.options.halfOpenAfter)throw new us;let o=this.halfOpen(e,n);return this.innerState={value:Be.HalfOpen,test:o},this.stateChangeEmitter.emit(Be.HalfOpen),o;case Be.Isolated:throw new gp;default:throw new Error(`Unexpected circuit state ${r}`)}}async halfOpen(e,n){this.halfOpenEmitter.emit();try{let r=await this.executor.invoke(e,{cancellationToken:n});return"success"in r?(this.options.breaker.success(Be.HalfOpen),this.close()):(this.innerLastFailure=r,this.options.breaker.failure(Be.HalfOpen),this.open(r)),Lr(r)}catch(r){throw this.close(),r}}open(e){this.state===Be.Isolated||this.state===Be.Open||(this.innerState={value:Be.Open,openedAt:Date.now()},this.breakEmitter.emit(e),this.stateChangeEmitter.emit(Be.Open))}close(){this.state===Be.HalfOpen&&(this.innerState={value:Be.Closed},this.resetEmitter.emit(),this.stateChangeEmitter.emit(Be.Closed))}};var Ix=()=>{let t,e,n=new Promise((r,i)=>{t=r,e=i});return{resolve:t,reject:e,promise:n}};var hp=class{constructor(e,n){this.capacity=e,this.queueCapacity=n,this.active=0,this.queue=[],this.onRejectEmitter=new yt,this.executor=new Xt,this.onSuccess=this.executor.onSuccess,this.onFailure=this.executor.onFailure,this.onReject=this.onRejectEmitter.addListener}get executionSlots(){return this.capacity-this.active}get queueSlots(){return this.queueCapacity-this.queue.length}async execute(e,n=ot.None){if(n.isCancellationRequested)throw new Un;if(this.active<this.capacity){this.active++;try{return await e({cancellationToken:n})}finally{this.active--,this.dequeue()}}if(this.queue.length<this.queueCapacity){let{resolve:r,reject:i,promise:o}=Ix();return this.queue.push({ct:n,fn:e,resolve:r,reject:i}),o}throw this.onRejectEmitter.emit(),new vp(this.capacity,this.queueCapacity)}dequeue(){let e=this.queue.shift();!e||Promise.resolve().then(()=>this.execute(e.fn,e.ct)).then(e.resolve).catch(e.reject)}};var yp=class{constructor(e,n){this.executor=e,this.value=n,this.onSuccess=this.executor.onSuccess,this.onFailure=this.executor.onFailure}async execute(e,n=ot.None){let r=await this.executor.invoke(e,{cancellationToken:n});return"success"in r?r.success:this.value()}};var xp=class{constructor(){this.executor=new Xt,this.onSuccess=this.executor.onSuccess,this.onFailure=this.executor.onFailure}async execute(e,n=ot.None){return Lr(await this.executor.invoke(e,{cancellationToken:n}))}};var cS=(t,e)=>new Promise(n=>{let r=setTimeout(n,t);e&&r.unref()}),cs=class{constructor(e,n){this.options=e,this.executor=n,this.onGiveUpEmitter=new yt,this.onRetryEmitter=new yt,this.onSuccess=this.executor.onSuccess,this.onFailure=this.executor.onFailure,this.onRetry=this.onRetryEmitter.addListener,this.onGiveUp=this.onGiveUpEmitter.addListener}attempts(e){return this.composeBackoff("a",new zo(1,e))}delay(e){return this.composeBackoff("b",typeof e=="number"?new zo(e):new fp(e))}delegate(e){return this.composeBackoff("b",new up(e))}exponential(e={}){return this.composeBackoff("b",new lp(e))}backoff(e){return this.composeBackoff("b",e)}dangerouslyUnref(){return this.derivePolicy({...this.options,unref:!0})}async execute(e,n=ot.None){let r=this.options.backoff||new zo(0,1),i;for(let o=0;;o++){let a=await this.executor.invoke(e,{attempt:o,cancellationToken:n});if("success"in a)return a.success;if(!n.isCancellationRequested){let s={attempt:o+1,cancellationToken:n,result:a};if(o===0?i=r.next(s):i&&(i=i.next(s)),i){let u=i.duration,c=cS(u,!!this.options.unref);this.onRetryEmitter.emit({...a,delay:u}),await c;continue}}if(this.onGiveUpEmitter.emit(a),"error"in a)throw a.error;return a.value}}composeBackoff(e,n){return this.options.backoff&&(n=new sp(e,this.options.backoff,n)),this.derivePolicy({...this.options,backoff:n})}derivePolicy(e){let n=new cs(e,this.executor.derive());return n.onRetry(r=>this.onRetryEmitter.emit(r)),n}};var wp;(function(t){t.Cooperative="optimistic",t.Aggressive="aggressive"})(wp||(wp={}));var ls=class{constructor(e,n,r=new Xt,i=!1){this.duration=e,this.strategy=n,this.executor=r,this.unref=i,this.timeoutEmitter=new yt,this.onTimeout=this.timeoutEmitter.addListener,this.onFailure=this.executor.onFailure,this.onSuccess=this.executor.onSuccess}dangerouslyUnref(){return new ls(this.duration,this.strategy,this.executor,!0)}async execute(e,n=ot.None){let r=new pp(n),i=setTimeout(()=>r.cancel(),this.duration);this.unref&&i.unref();let o={cancellation:r.token,cancellationToken:r.token},a=r.token.onCancellationRequested(()=>this.timeoutEmitter.emit());try{return this.strategy===wp.Cooperative?Lr(await this.executor.invoke(e,o,r.token)):await this.executor.invoke(async()=>Promise.race([Promise.resolve(e(o,r.token)),r.token.cancellation(r.token).then(()=>{throw new Un(`Operation timed out after ${this.duration}ms`)})])).then(Lr)}finally{a.dispose(),r.cancel(),clearTimeout(i)}}};var Sc=(t,e)=>e?n=>n instanceof t&&e(n):n=>n instanceof t,lS=()=>!0,fs=()=>!1,St=class{constructor(e){this.options=e}static wrap(...e){return{onFailure:e[0].onFailure,onSuccess:e[0].onSuccess,execute(n,r){let i=(o,a)=>a===e.length?n(o):e[a].execute(s=>i({...o,...s},a+1),o.cancellationToken);return Promise.resolve(i({cancellationToken:r},0))}}}static bulkhead(e,n=0){return new hp(e,n)}static handleAll(){return new St({errorFilter:lS,resultFilter:fs})}static handleType(e,n){return new St({errorFilter:Sc(e,n),resultFilter:fs})}static handleWhen(e){return new St({errorFilter:e,resultFilter:fs})}static handleResultType(e,n){return new St({errorFilter:fs,resultFilter:Sc(e,n)})}static handleWhenResult(e){return new St({errorFilter:fs,resultFilter:e})}static timeout(e,n){return new ls(e,n)}static use(e){return(n,r,i)=>{let o=i.value;if(typeof o!="function")throw new Error(`Can only decorate functions with @cockatiel, got ${typeof o}`);i.value=function(...a){let s=a[a.length-1]instanceof ot?a.pop():void 0;return e.execute(u=>o.apply(this,[...a,u]),s)}}}orType(e,n){let r=Sc(e,n);return new St({...this.options,errorFilter:i=>this.options.errorFilter(i)||r(i)})}orWhen(e){return new St({...this.options,errorFilter:n=>this.options.errorFilter(n)||e(n)})}orWhenResult(e){return new St({...this.options,resultFilter:n=>this.options.resultFilter(n)||e(n)})}orResultType(e,n){let r=Sc(e,n);return new St({...this.options,resultFilter:i=>this.options.resultFilter(i)||r(i)})}retry(){return new cs({},new Xt(this.options.errorFilter,this.options.resultFilter))}circuitBreaker(e,n){return new mp({breaker:n,halfOpenAfter:e},new Xt(this.options.errorFilter,this.options.resultFilter))}fallback(e){return new yp(new Xt(this.options.errorFilter,this.options.resultFilter),typeof e=="function"?e:()=>e)}};St.noop=new xp;var Ex=t=>(e,n)=>{let r,i=0,o=n.length-1;for(;i<=o;)r=Math.floor((i+o)/2),t(n[r])>=e?o=r-1:i=r+1;return i};var Ic=Symbol("unset"),bp=t=>{let e=Ic,n=()=>(e===Ic&&(e=t()),e);return n.getValue=()=>e===Ic?void 0:e,n.forget=()=>{e=Ic},n};var fS=t=>t.op===0?{...t,op:1,previous:t.value}:t.op===1?{...t,op:0,value:t.previous}:{...t,value:t.previous,previous:t.value};var Ec=class{constructor(e){this.saveGuard=St.bulkhead(1,1/0);this._unsavedEditIndex=0;this.getSizeInner=bp(()=>this.accessor.getSize());this.getEditTimeline=bp(()=>pS(this._edits));this._edits=e.edits?e.edits.saved.concat(e.edits.unsaved):[],this._unsavedEditIndex=e.edits?.saved.length??0,this.supportsLengthChanges=e.supportsLengthChanges,this.isFiniteSize=e.isFiniteSize,this.accessor=e.accessor}get uri(){return this.accessor.uri}get isReadonly(){return!!this.accessor.isReadonly}async size(){if(!this.isFiniteSize)return;let e=await this.getSizeInner();if(e===void 0)return;let{sizeDelta:n}=this.getEditTimeline();return e+n}get edits(){return this._edits}get unsavedEdits(){return this._edits.slice(this.unsavedEditIndex)}get unsavedEditIndex(){return this._unsavedEditIndex}get isSynced(){return this.unsavedEditIndex===this.edits.length}readInto(e,n){return this.accessor.read(e,n)}readWithEdits(e=0,n=128*1024){return dS(this.accessor,this.getEditTimeline().ranges,e,n)}save(){let e=this._edits.slice(this.unsavedEditIndex);return e.length===0?Promise.resolve():(this._unsavedEditIndex+=e.length,this.saveGuard.execute(async()=>{e.some(n=>n.op!==2||n.previous.length!==n.value.length)?await this.accessor.writeStream(this.readWithEdits()):await this.accessor.writeBulk(e.map(n=>({offset:n.offset,data:n.value}))),this.getSizeInner.forget()}))}revert(){this._unsavedEditIndex=0,this._edits=[],this.accessor.invalidate?.(),this.getEditTimeline.forget(),this.getSizeInner.forget()}makeEdits(e){let n=this._edits.length;return this._edits.push(...e),this.getEditTimeline.forget(),{undo:()=>(this.unsavedEditIndex<=n?this._edits.splice(n,e.length):this._edits.push(...e.map(fS)),this.getEditTimeline.forget(),this._edits),redo:()=>(this._edits.push(...e),this.getEditTimeline.forget(),this._edits)}}dispose(){this.accessor.dispose()}};async function*dS(t,e,n=0,r=1024){let i=new Uint8Array(r);for(let o=0;o<e.length;o++){let a=e[o];if(a.op===1)continue;if(a.op===2){let c=a.offset+a.value.length-n;if(c<=0)continue;let l=c<a.value.length?a.value.subarray(-c):a.value;l.length>0&&(yield l);continue}let s=a.roffset+(o+1<e.length?e[o+1].offset:1/0)-a.offset,u=a.roffset+Math.max(0,n-a.offset);for(;u<s;){let c=await t.read(u,i.subarray(0,Math.min(i.length,s-u)));if(c===0)break;yield i.subarray(0,c),u+=c}}}var pS=t=>{let e=[{op:0,editIndex:-1,roffset:0,offset:0}],n=(a,s,u)=>s.op===0?{before:{op:0,editIndex:a,roffset:s.roffset,offset:s.offset},after:{op:0,editIndex:a,roffset:s.roffset+u,offset:s.offset+u}}:s.op===1?{before:{op:1,editIndex:a,offset:s.offset},after:{op:1,editIndex:a,offset:s.offset+u}}:{before:{op:2,editIndex:a,offset:s.offset,value:s.value.subarray(0,u)},after:{op:2,editIndex:a,offset:s.offset+u,value:s.value.subarray(u)}},r=Ex(a=>a.offset),i=0,o=(a,s)=>{for(i+=s;a<e.length;a++)e[a].offset+=s};for(let a=0;a<t.length;a++){let s=t[a],u=r(s.offset,e);(u===e.length||e[u].offset>s.offset)&&u--;let c=e[u];if(s.op===0){let{before:l,after:f}=n(a,c,s.offset-c.offset);e.splice(u,1,l,{op:2,editIndex:a,offset:s.offset,value:s.value},f),o(u+2,s.value.length)}else if(s.op===1||s.op===2){let{before:l}=n(a,c,s.offset-c.offset),f=r(s.offset+s.previous.length,e);(f===e.length||e[f].offset>s.offset)&&f--;let{after:d}=n(a,e[f],s.offset+s.previous.length-e[f].offset);e.splice(u,f-u+1,l,s.op===2?{op:2,editIndex:a,offset:s.offset,value:s.value}:{op:1,editIndex:a,offset:s.offset},d),o(u+2,(s.op===2?s.value.length:0)-s.previous.length)}}return{ranges:e,sizeDelta:i}};var Tx=t=>typeof t=="function"?t():t,ds=class{constructor(){this.table=new Map}set(e,n){let r=gS(e),i=this.table.get(r);if(!i){let a={buf:e,value:Tx(n)};return this.table.set(r,[a]),a.value}for(let a of i)if(vS(a.buf,e))return a.value;let o={buf:e,value:Tx(n)};return i.push(o),o.value}*entries(){for(let e of this.table.values())for(let{buf:n,value:r}of e)yield[n,r]}*keys(){for(let e of this.table.values())for(let{buf:n}of e)yield n}*values(){for(let e of this.table.values())for(let{value:n}of e)yield n}};function vS(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function gS(t,e=0){e=_x(149417,e);for(let n=0,r=t.length;n<r;n++)e=_x(t[n],e);return e}function _x(t,e){return(e<<5)-e+t|0}var ps=t=>{let e=0,n=new ds,r=a=>({offset:n.set(a,()=>{let u=e;return e+=a.length,u}),len:a.length}),i=[];for(let a of t)a.op===0?i.push({...a,value:r(a.value)}):a.op===1?i.push({...a,previous:r(a.previous)}):i.push({...a,previous:r(a.previous),value:r(a.value)});let o=new Uint8Array(e);for(let[a,s]of n.entries())o.set(a,s);return{data:o,edits:i}},Px=({edits:t,data:e})=>{let n=({offset:r,len:i})=>e.slice(r,r+i);return t.map(r=>r.op===0?{...r,value:n(r.value)}:r.op===1?{...r,previous:n(r.previous)}:{...r,previous:n(r.previous),value:n(r.value)})};function Cp(t){for(;t.length;){let e=t.pop();e&&e.dispose()}}var Sp=class{constructor(){this._isDisposed=!1;this._disposables=[]}dispose(){this._isDisposed||(this._isDisposed=!0,Cp(this._disposables))}_register(e){return this._isDisposed?e.dispose():this._disposables.push(e),e}get isDisposed(){return this._isDisposed}};var lr=dr(require("vscode"));var Ip=dr(require("vscode")),hS=new TextEncoder,yS=new TextDecoder,Tc=class{constructor(e){this.uri=e}async write(e){let n=JSON.stringify(e,(r,i)=>i instanceof Uint8Array?{$u8:bc(i)}:i);await Ip.workspace.fs.writeFile(this.uri,hS.encode(n))}async read(){let e;try{e=yS.decode(await Ip.workspace.fs.readFile(this.uri))}catch{return[]}return JSON.parse(e,(n,r)=>r&&typeof r=="object"&&"$u8"in r?mx(r.$u8):r)}};var Ke=dr(require("vscode")),Ep=async(t,e)=>{if(t.scheme==="untitled")return new kx(t,e??new Uint8Array);if(t.scheme==="vscode-debug-memory"){let{permissions:n=0}=await Ke.workspace.fs.stat(t);return new Dx(t,!!(n&Ke.FilePermission.Readonly))}if(t.scheme==="file")try{let n=require("fs");if((await n.promises.stat(t.fsPath)).isFile())return new Rx(t,n)}catch{}return new Tp(t)},Ax=class{constructor(e,n){this.path=e;this._fs=n;this.borrowQueue=[];this.disposed=!1}borrow(e){return this.disposed?Promise.reject(new Error("FileHandle was disposed")):new Promise((n,r)=>{this.borrowQueue.push(async i=>{if(i instanceof Error)return r(i);try{n(await e(i))}catch(o){r(o)}}),this.borrowQueue.length===1&&this.process()})}dispose(){this.disposed=!0,this.handle=void 0,this.disposeTimeout&&clearTimeout(this.disposeTimeout),this.rejectAll(new Error("FileHandle was disposed"))}async close(){await this.handle?.close(),this.handle=void 0,this.disposeTimeout&&clearTimeout(this.disposeTimeout)}rejectAll(e){for(;this.borrowQueue.length;)this.borrowQueue.pop()(e)}async process(){for(this.disposeTimeout&&clearTimeout(this.disposeTimeout);this.borrowQueue.length;){if(!this.handle)try{this.handle=await this._fs.promises.open(this.path,this._fs.constants.O_RDWR|this._fs.constants.O_CREAT)}catch(e){return this.rejectAll(e)}await this.borrowQueue[0]?.(this.handle),this.borrowQueue.shift()}this.handle&&(this.disposeTimeout=setTimeout(()=>{this.handle?.close(),this.handle=void 0},1e3))}},xS=St.handleWhen(t=>t.code==="ENOENT").retry().attempts(10).delay(50),Rx=class{constructor(e,n){this.fs=n;this.supportsIncremetalAccess=!0;this.uri=e.toString(),this.handle=new Ax(e.fsPath,n)}watch(e,n){return _p(this.uri,e,n)}async getSize(){return this.handle.borrow(async e=>(await e.stat()).size)}async read(e,n){return this.handle.borrow(async r=>{let{bytesRead:i}=await r.read(n,0,n.byteLength,e);return i})}writeBulk(e){return this.handle.borrow(async n=>{for(let{data:r,offset:i}of e)n.write(r,0,r.byteLength,i)})}async writeStream(e,n){let r=`${this.handle.path}.tmp`,i=await this.fs.promises.open(r,this.fs.constants.O_WRONLY|this.fs.constants.O_CREAT|this.fs.constants.O_TRUNC);try{let o=0;for await(let a of e){if(n?.isCancellationRequested)return;await i.write(a,0,a.byteLength,o),o+=a.byteLength}}finally{await i.close()}return await this.handle.borrow(async()=>{await this.handle.close(),await xS.execute(()=>this.fs.promises.rename(r,this.handle.path))}),this.handle.borrow(async o=>{if(n?.isCancellationRequested)return;let a=0;for await(let s of e){if(n?.isCancellationRequested)return;await o.write(s,0,s.byteLength,a),a+=s.byteLength}})}dispose(){this.handle.dispose()}},Tp=class{constructor(e){this.uri=e.toString(),this.fsPath=e.fsPath,this.isReadonly=Ke.workspace.fs.isWritableFileSystem(this.uri)===!1}watch(e,n){return _p(this.uri,e,n)}async getSize(){return(await Ke.workspace.fs.stat(Ke.Uri.parse(this.uri))).size}async read(e,n){let r=await this.getContents(),i=Math.min(n.length,r.length-e);return n.set(r.subarray(e,i+e)),i}async writeStream(e,n){let r=0,i=[];for await(let s of e){if(n?.isCancellationRequested)throw new Ke.CancellationError;i.push(s),r+=s.length}let o=new Uint8Array(r),a=0;for(let s of i)o.set(s,a),a+=s.length;await Ke.workspace.fs.writeFile(Ke.Uri.parse(this.uri),o)}async writeBulk(e){let n=await this.getContents();for(let{data:r,offset:i}of e)n.set(r,i);return Ke.workspace.fs.writeFile(Ke.Uri.parse(this.uri),n)}invalidate(){this.contents=void 0}dispose(){this.contents=void 0}getContents(){return this.contents??(this.contents=Ke.workspace.fs.readFile(Ke.Uri.parse(this.uri))),this.contents}},kx=class extends Tp{constructor(e,n){super(e);this.contents=n}getSize(){return Promise.resolve(this.contents.byteLength)}},Dx=class{constructor(e,n){this.isReadonly=n;this.supportsIncremetalAccess=!0;this.uri=e.toString()}watch(e,n){return _p(this.uri,e,n)}async getSize(){}async read(e,n){let r=await Ke.workspace.fs.readFile(this.referenceRange(e,e+n.length)),i=Math.min(n.length,r.length-e);return n.set(r.subarray(e,i+e)),i}async writeStream(){throw new Error("Not supported")}async writeBulk(e){await Promise.all(e.map(n=>Ke.workspace.fs.writeFile(this.referenceRange(n.offset,n.offset+n.data.length),n.data)))}referenceRange(e,n){return Ke.Uri.parse(this.uri).with({query:`?range=${e}:${n}`})}invalidate(){}dispose(){}},_p=(t,e,n)=>{let r=t.split("/"),i=r.pop(),o=new Ke.RelativePattern(Ke.Uri.parse(r.join("/")),i),a=Ke.workspace.createFileSystemWatcher(o);return a.onDidChange(e),a.onDidDelete(n),a};var Pp=class{start(e,n){this._request?.dispose(),this._request=n,(async()=>{for await(let r of n.search())e.sendEvent({type:2,data:r})})()}cancel(){this._request?.dispose(),this._request=void 0}};var Pi=class extends Sp{constructor(e,n,r){super();this.model=e;this.isLargeFile=n;this.baseAddress=r;this.lastSave=0;this.searchProvider=new Pp;this._onDidDispose=this._register(new lr.EventEmitter);this.onDidDispose=this._onDidDispose.event;this._onDidRevert=this._register(new lr.EventEmitter);this.onDidRevert=this._onDidRevert.event}static async create(e,{backupId:n,untitledDocumentData:r},i){let o=await Ep(e,r),a=new Ec({accessor:o,isFiniteSize:!0,supportsLengthChanges:!0,edits:n?{unsaved:await new Tc(lr.Uri.parse(n)).read(),saved:[]}:void 0}),s=Pi.parseQuery(e.query),u=s.baseAddress?Pi.parseHexOrDecInt(s.baseAddress):0,c=await o.getSize();i.sendTelemetryEvent("fileOpen",{},{fileSize:c??0});let l=lr.workspace.getConfiguration().get("hexeditor.maxFileSize")*1e6,f=!n&&!o.supportsIncremetalAccess&&(c??0)>l;return{document:new Pi(a,f,u),accessor:o}}get isReadonly(){return this.model.isReadonly}get uri(){return lr.Uri.parse(this.model.uri)}readWithEdits(e){return this.model.readWithEdits(e)}async readBufferWithEdits(e,n){let r=new Uint8Array(n),i=0;for await(let o of this.model.readWithEdits(e)){let a=Math.min(o.length,r.length-i);if(r.set(o.subarray(0,a),i),i+=a,i===n)return r}return r.slice(0,i)}async readBuffer(e,n){let r=new Uint8Array(n),i=await this.model.readInto(e,r);return i===n?r:r.slice(0,i)}dispose(){this._onDidDispose.fire(),this.model.dispose(),super.dispose()}get isSynced(){return this.model.isSynced}get edits(){return this.model.edits}get unsavedEditIndex(){return this.model.unsavedEditIndex}makeEdits(e){return this.model.makeEdits(e)}insert(e,n){return this.model.makeEdits([{op:0,offset:e,value:n}])}async replace(e,n){let r=await this.readBufferWithEdits(e,n.length);return r.length===n.length?this.makeEdits([{op:2,offset:e,value:n,previous:r}]):this.makeEdits([{op:2,offset:e,value:n.subarray(0,r.length),previous:r},{op:0,offset:e+r.length,value:n.subarray(r.length)}])}size(){return this.model.size()}async save(e){this.lastSave=Date.now(),await this.model.save(),this.lastSave=Date.now()}async saveAs(e,n){if(n&&n.isCancellationRequested)return;if(!this.model.isFiniteSize)throw new Error("Cannot save a document without a finite size");let r=await Ep(e);this.lastSave=Date.now(),await r.writeStream(this.model.readWithEdits()),this.lastSave=Date.now(),this.model.dispose(),this.model=new Ec({accessor:r,isFiniteSize:!0,supportsLengthChanges:!0})}async revert(e){this.model.revert(),this._onDidRevert.fire()}async backup(e){return await new Tc(e).write(this.model.unsavedEdits),{id:e.toString(),delete:async()=>{try{await lr.workspace.fs.delete(e)}catch{}}}}static parseQuery(e){let n={};if(e){let r=(e[0]==="?"?e.substr(1):e).split("&");for(let i of r){let o=i.split("="),a=o.shift();a&&(n[a]=o.join("="))}}return n}static parseHexOrDecInt(e){return e=e.toLowerCase(),e.startsWith("0x")?parseInt(e.substring(2),16):parseInt(e,10)}};var _c=Symbol("Wildcard"),Fx=new Uint8Array(255);for(let t=0;t<255;t++)Fx[t]=t;var Ap=new Uint8Array(255);for(let t=0;t<255;t++)Ap[t]=String.fromCharCode(t).toUpperCase().charCodeAt(0);var Rp=class{constructor(e,n,r=Fx){this.needle=e;this.onMatch=n;this.equivalencyTable=r;this.needleLen=0;this.index=0;this.usableBuffer=0;for(let i of e)i===_c?this.needleLen++:this.needleLen+=i.length;this.buffer=new Uint8Array(this.needleLen)}push(e){let{needleLen:n,buffer:r}=this;for(let i=0;i<e.length;i++)r[this.index++%n]=e[i],this.usableBuffer++,this.attemptMatch()}attemptMatch(){let{needle:e,needleLen:n,buffer:r,index:i,equivalencyTable:o}=this;if(this.usableBuffer<n)return;let a=0;for(let u=0;u<e.length;u++){let c=e[u];if(c===_c){a++;continue}for(let l=0;l<c.length;l++){if(o[c[l]]!==o[r[(i+a)%n]])return;a++}}this.matchTmpBuf||(this.matchTmpBuf=new Uint8Array(n));let s=this.index%n;this.matchTmpBuf.set(r.subarray(s),0),this.matchTmpBuf.set(r.subarray(0,s),n-s),this.onMatch(this.index-n,this.matchTmpBuf),this.usableBuffer=0}};var Fp=class{constructor(e,n){this.filesize=e;this.cap=n;this.buffers=new ds;this.fileOffset=0;this.lastYieldedTime=Date.now();this.results=[]}get capped(){return this.cap===0}push(e,n,r){let i=this.buffers.set(e,()=>new Uint8Array(e));this.cap===void 0?this.results.push({from:n,to:r,previous:i}):this.cap>0&&(this.results.push({from:n,to:r,previous:i}),this.cap--)}toYield(){let e=Date.now();if(e-this.lastYieldedTime>Fp.targetUpdateInterval){this.lastYieldedTime=e;let n=this.results;return this.results=[],{progress:this.filesize?this.fileOffset/this.filesize:0,results:n}}}final(){return{progress:1,capped:this.capped,results:this.results}}},Pc=Fp;Pc.targetUpdateInterval=1e3;var kp=class{constructor(e,n,r,i){this.document=e;this.query=n;this.isCaseSensitive=r;this.cap=i;this.cancelled=!1}dispose(){this.cancelled=!0}async*search(){let{isCaseSensitive:e,query:n,document:r,cap:i}=this,o=new Pc(await r.size(),i),a=new Rp(n.literal.map(s=>s==="*"?_c:s),(s,u)=>o.push(u,s,s+u.length),e?void 0:Ap);for await(let s of r.readWithEdits(0)){if(this.cancelled||o.capped){yield o.final();return}a.push(s),o.fileOffset+=s.length;let u=o.toYield();u&&(yield u)}yield o.final()}},wS=8*1024,Dp=class{constructor(e,n,r,i){this.document=e;this.cap=i;this.cancelled=!1;this.re=new RegExp(n.re,r?"g":"ig")}dispose(){this.cancelled=!0}async*search(){let e="",n=0,{re:r,document:i}=this,o=new TextDecoder,a=new TextEncoder,s=new Pc(await i.size(),this.cap);for await(let u of i.readWithEdits(0)){if(this.cancelled||s.capped){yield s.final();return}e+=o.decode(u);let c=0;for(let d of e.matchAll(r)){let p=n+ip(e.slice(0,d.index)),g=ip(d[0]);s.push(a.encode(d[0]),p,p+g),c=d.index+d[0].length}s.fileOffset+=u.length;let l=Math.max(e.length-wS,c);l>0&&(n+=l,r.lastIndex=0,e=e.slice(l));let f=s.toYield();f&&(yield f)}yield s.final()}};var Mp=class{constructor(){this._webviews=new Set}*get(e){let n=e.toString();for(let r of this._webviews)r.resource===n&&(yield r)}add(e,n,r){let i={resource:e.toString(),messaging:n,webviewPanel:r};this._webviews.add(i),r.onDidDispose(()=>{this._webviews.delete(i)})}};var Mx={columnWidth:16,showDecodedText:!0,defaultEndianness:"little",inspectorType:"aside"},Nx=Object.keys(Mx),Ai=class{constructor(e,n,r){this._context=e;this._telemetryReporter=n;this._dataInspectorView=r;this.webviews=new Mp;this._onDidChangeCustomDocument=new Ae.EventEmitter;this.onDidChangeCustomDocument=this._onDidChangeCustomDocument.event}static register(e,n,r){return Ae.window.registerCustomEditorProvider(Ai.viewType,new Ai(e,n,r),{supportsMultipleEditorsPerDocument:!1})}async openCustomDocument(e,n,r){let{document:i,accessor:o}=await Pi.create(e,n,this._telemetryReporter),a=[];a.push(i.onDidRevert(()=>{for(let{messaging:c}of this.webviews.get(i.uri))c.sendEvent({type:3,edits:{edits:[],data:new Uint8Array}}),c.sendEvent({type:5})}));let s=async()=>{if(i.isSynced){Date.now()-i.lastSave<5e3||i.revert();return}let c="This file has changed on disk, but you have unsaved changes. Saving now will overwrite the file on disk with your changes.",l="Overwrite",f="Revert",d=await Ae.window.showWarningMessage(c,l,f);d===l?Ae.commands.executeCommand("workbench.action.files.save"):d==="Revert"&&Ae.commands.executeCommand("workbench.action.files.revert")},u=()=>{Ae.window.showWarningMessage("This file has been deleted! Saving now will create a new file on disk.","Overwrite","Close Editor").then(c=>{c==="Overwrite"?Ae.commands.executeCommand("workbench.action.files.save"):c==="Close Editor"&&Ae.commands.executeCommand("workbench.action.closeActiveEditor")})};return a.push(o.watch(s,u)),i.onDidDispose(()=>{Ae.commands.executeCommand("setContext","hexEditor:showSidebarInspector",!1),Ae.commands.executeCommand("setContext","hexEditor:isActive",!1),Cp(a)}),i}async resolveCustomEditor(e,n,r){let i=new ap(a=>this.onMessage(i,e,a),a=>n.webview.postMessage(a));this.webviews.add(e.uri,i,n),Ai.currentWebview=i,Ae.commands.executeCommand("setContext","hexEditor:isActive",!0);let o=Ae.workspace.getConfiguration("hexeditor").get("inspectorType")==="sidebar";o&&(Ae.commands.executeCommand("setContext","hexEditor:showSidebarInspector",!0),this._dataInspectorView.show({autoReveal:!0})),n.webview.options={enableScripts:!0},n.webview.html=this.getHtmlForWebview(n.webview),n.onDidChangeViewState(a=>{Ae.commands.executeCommand("setContext","hexEditor:isActive",a.webviewPanel.visible),Ae.commands.executeCommand("setContext","hexEditor:showSidebarInspector",o&&a.webviewPanel.visible),a.webviewPanel.visible?(Ai.currentWebview=i,this._dataInspectorView.show({autoReveal:!0,forceFocus:!0})):Ai.currentWebview=void 0}),n.webview.onDidReceiveMessage(a=>i.handleMessage(a))}async saveCustomDocument(e,n){await e.save(n);for(let{messaging:r}of this.webviews.get(e.uri))r.sendEvent({type:4,unsavedEditIndex:e.unsavedEditIndex})}saveCustomDocumentAs(e,n,r){return e.saveAs(n,r)}revertCustomDocument(e,n){return e.revert(n)}backupCustomDocument(e,n,r){return e.backup(n.destination)}getHtmlForWebview(e){let n=e.asWebviewUri(Ae.Uri.joinPath(this._context.extensionUri,"dist","editor.js")),r=e.asWebviewUri(Ae.Uri.joinPath(this._context.extensionUri,"dist","editor.css")),i=hc();return`
			<!DOCTYPE html>
			<html lang="en">
			<head>
				<meta charset="UTF-8">

				<!--
				Use a content security policy to only allow loading images from https or from our extension directory,
				and only allow scripts that have a specific nonce.
				-->
				<meta http-equiv="Content-Security-Policy" content="default-src 'none'; img-src ${e.cspSource} blob:; font-src ${e.cspSource}; style-src ${e.cspSource}; script-src 'nonce-${i}';">

				<meta name="viewport" content="width=device-width, initial-scale=1.0">

				<link href="${r}" rel="stylesheet" />
				<script nonce="${i}" src="${n}" defer><\/script>

				<title>Hex Editor</title>
			</head>
			<body>
			</body>
			</html>`}readEditorSettings(){let e=Ae.workspace.getConfiguration("hexeditor"),n={...Mx};for(let r of Nx)e.has(r)&&(n[r]=e.get(r));return n}writeEditorSettings(e){let n=Ae.workspace.getConfiguration("hexeditor");for(let r of Nx){let i=n.inspect(r),o=i?i.workspaceFolderValue!==void 0?Ae.ConfigurationTarget.WorkspaceFolder:i.workspaceValue!==void 0?Ae.ConfigurationTarget.Workspace:Ae.ConfigurationTarget.Global:Ae.ConfigurationTarget.Global;n.update(r,e[r],o)}}async onMessage(e,n,r){switch(r.type){case 10:return{type:0,initialOffset:n.baseAddress,editorSettings:this.readEditorSettings(),edits:ps(n.edits),unsavedEditIndex:n.unsavedEditIndex,fileSize:await n.size(),isLargeFile:n.isLargeFile,isReadonly:n.isReadonly};case 12:let i=await n.readBuffer(r.offset,r.bytes);return{type:1,data:rp(i)};case 13:this.publishEdit(e,n,n.makeEdits(Px(r.edits)));return;case 19:this.publishEdit(e,n,r.mode==="insert"?n.insert(r.offset,r.data):await n.replace(r.offset,r.data)),e.sendEvent({type:3,edits:ps(n.edits)});return;case 20:{let a=await Promise.all(r.selections.sort((c,l)=>c[0]-l[0]).map(c=>n.readBuffer(c[0],c[1]-c[0]))),s=cx(a),u=r.asText?new TextDecoder().decode(s):bc(s);Ae.env.clipboard.writeText(u);return}case 15:n.searchProvider.cancel();return;case 14:let o;"re"in r.query?o=new Dp(n,r.query,r.caseSensitive,r.cap):o=new kp(n,r.query,r.caseSensitive,r.cap),n.searchProvider.start(e,o);return;case 16:this._dataInspectorView.handleEditorMessage({method:"reset"});break;case 17:this._dataInspectorView.handleEditorMessage({method:"update",data:rp(await n.readBufferWithEdits(r.offset,8))});break;case 18:this.writeEditorSettings(r.editorSettings);break}}publishEdit(e,n,r){this._onDidChangeCustomDocument.fire({document:n,undo:()=>e.sendEvent({type:3,edits:ps(r.undo())}),redo:()=>e.sendEvent({type:3,edits:ps(r.redo())})})}},jo=Ai;jo.viewType="hexEditor.hexedit";var Lx="ms-vscode.hexeditor",Ac;function bS(t){let e=fr.extensions.getExtension(t).packageJSON;return{version:e.version,aiKey:e.aiKey}}function CS(t){let e=new os(t.extensionUri),n=bS(Lx);t.subscriptions.push(fr.window.registerWebviewViewProvider(os.viewType,e)),Ac=new ux(Lx,n.version,n.aiKey);let r=fr.commands.registerCommand("hexEditor.openFile",()=>{let o=fr.window.tabGroups.activeTabGroup.activeTab?.input;o.uri&&fr.commands.executeCommand("vscode.openWith",o.uri,"hexEditor.hexedit")}),i=fr.commands.registerCommand("hexEditor.goToOffset",()=>{jo.currentWebview&&dx(jo.currentWebview)});t.subscriptions.push(i),t.subscriptions.push(r),t.subscriptions.push(Ac),t.subscriptions.push(jo.register(t,Ac,e))}function SS(){Ac.dispose()}module.exports=jx(IS);
/*!
 * Microsoft Dynamic Proto Utility, 1.1.6
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */
